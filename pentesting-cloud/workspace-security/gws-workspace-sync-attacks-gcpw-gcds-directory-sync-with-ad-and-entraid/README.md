# GWS - Workspace Sync Attacks (GCPW, GCDS, Directory Sync with AD & EntraID)

{% hint style="success" %}
å­¦ä¹ å’Œå®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
å­¦ä¹ å’Œå®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **åœ¨** **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** ä¸Šå…³æ³¨æˆ‘ä»¬ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ä»“åº“æäº¤ PR æ¥åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}

## GCPW - Google Credential Provider for Windows

è¿™æ˜¯ Google Workspace æä¾›çš„å•ç‚¹ç™»å½•ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ **ä»–ä»¬çš„ Workspace å‡­æ®** ç™»å½• Windows PCã€‚æ­¤å¤–ï¼Œè¿™å°†å­˜å‚¨ **ä»¤ç‰Œ** ä»¥è®¿é—® Google Workspaceï¼Œåœ¨ PC çš„æŸäº›åœ°æ–¹ï¼šç£ç›˜ã€å†…å­˜å’Œæ³¨å†Œè¡¨â€¦â€¦ç”šè‡³å¯ä»¥è·å– **æ˜æ–‡å¯†ç **ã€‚

{% hint style="success" %}
è¯·æ³¨æ„ [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) èƒ½å¤Ÿæ£€æµ‹ **GCPW**ï¼Œè·å–æœ‰å…³é…ç½®çš„ä¿¡æ¯å’Œ **ç”šè‡³ä»¤ç‰Œ**ã€‚
{% endhint %}

æœ‰å…³æ­¤å†…å®¹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ï¼š

{% content-ref url="gcpw-google-credential-provider-for-windows.md" %}
[gcpw-google-credential-provider-for-windows.md](gcpw-google-credential-provider-for-windows.md)
{% endcontent-ref %}

## GCSD - Google Cloud Directory Sync

è¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç”¨æ¥ **å°†æ‚¨çš„æ´»åŠ¨ç›®å½•ç”¨æˆ·å’Œç»„åŒæ­¥åˆ°æ‚¨çš„ Workspace** çš„å·¥å…·ï¼ˆåœ¨æ’°å†™æœ¬æ–‡æ—¶å¹¶ä¸æ˜¯åå‘åŒæ­¥ï¼‰ã€‚

è¿™å¾ˆæœ‰è¶£ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªéœ€è¦ **Workspace è¶…çº§ç”¨æˆ·å’Œç‰¹æƒ AD ç”¨æˆ·çš„å‡­æ®** çš„å·¥å…·ã€‚å› æ­¤ï¼Œå¯èƒ½ä¼šåœ¨ä¸€ä¸ªå®šæœŸåŒæ­¥ç”¨æˆ·çš„åŸŸæœåŠ¡å™¨ä¸­æ‰¾åˆ°å®ƒã€‚

{% hint style="success" %}
è¯·æ³¨æ„ [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) èƒ½å¤Ÿæ£€æµ‹ **GCDS**ï¼Œè·å–æœ‰å…³é…ç½®çš„ä¿¡æ¯å’Œ **ç”šè‡³å¯†ç å’ŒåŠ å¯†å‡­æ®**ã€‚
{% endhint %}

æœ‰å…³æ­¤å†…å®¹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ï¼š

{% content-ref url="gcds-google-cloud-directory-sync.md" %}
[gcds-google-cloud-directory-sync.md](gcds-google-cloud-directory-sync.md)
{% endcontent-ref %}

## GPS - Google Password Sync

è¿™æ˜¯ Google æä¾›çš„äºŒè¿›åˆ¶æ–‡ä»¶å’ŒæœåŠ¡ï¼Œç”¨äº **ä¿æŒ AD å’Œ Workspace ä¹‹é—´ç”¨æˆ·å¯†ç çš„åŒæ­¥**ã€‚æ¯å½“ç”¨æˆ·åœ¨ AD ä¸­æ›´æ”¹å¯†ç æ—¶ï¼Œå®ƒä¼šè¢«è®¾ç½®åˆ° Googleã€‚

å®ƒå®‰è£…åœ¨ `C:\Program Files\Google\Password Sync`ï¼Œæ‚¨å¯ä»¥åœ¨æ­¤æ‰¾åˆ°äºŒè¿›åˆ¶æ–‡ä»¶ `PasswordSync.exe` ä»¥è¿›è¡Œé…ç½®ï¼Œä»¥åŠ `password_sync_service.exe`ï¼ˆå°†ç»§ç»­è¿è¡Œçš„æœåŠ¡ï¼‰ã€‚

{% hint style="success" %}
è¯·æ³¨æ„ [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) èƒ½å¤Ÿæ£€æµ‹ **GPS**ï¼Œè·å–æœ‰å…³é…ç½®çš„ä¿¡æ¯å’Œ **ç”šè‡³å¯†ç å’ŒåŠ å¯†å‡­æ®**ã€‚
{% endhint %}

æœ‰å…³æ­¤å†…å®¹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ï¼š

{% content-ref url="gps-google-password-sync.md" %}
[gps-google-password-sync.md](gps-google-password-sync.md)
{% endcontent-ref %}

## Admin Directory Sync

è¿™ç§ä¸ GCDS åŒæ­¥ç”¨æˆ·çš„æ–¹å¼çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼ŒGCDS æ˜¯é€šè¿‡æ‚¨éœ€è¦ä¸‹è½½å’Œè¿è¡Œçš„ä¸€äº›äºŒè¿›åˆ¶æ–‡ä»¶æ‰‹åŠ¨å®Œæˆçš„ï¼Œè€Œ **Admin Directory Sync æ˜¯æ— æœåŠ¡å™¨çš„**ï¼Œç”± Google åœ¨ [https://admin.google.com/ac/sync/externaldirectories](https://admin.google.com/ac/sync/externaldirectories) ç®¡ç†ã€‚

æœ‰å…³æ­¤å†…å®¹çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ï¼š

{% content-ref url="gws-admin-directory-sync.md" %}
[gws-admin-directory-sync.md](gws-admin-directory-sync.md)
{% endcontent-ref %}

{% hint style="success" %}
å­¦ä¹ å’Œå®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
å­¦ä¹ å’Œå®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **åœ¨** **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** ä¸Šå…³æ³¨æˆ‘ä»¬ã€‚**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ä»“åº“æäº¤ PR æ¥åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}
