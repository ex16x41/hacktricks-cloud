# GWS - Workspace Sync Attacks (GCPW, GCDS, Directory Sync with AD & EntraID)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## GCPW - Google Credential Provider for Windows

–¶–µ —î–¥–∏–Ω–∏–π –≤—Ö—ñ–¥, —è–∫–∏–π –Ω–∞–¥–∞—î Google Workspaces, —â–æ–± –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–≥–ª–∏ –≤—Ö–æ–¥–∏—Ç–∏ –≤ —Å–≤–æ—ó –ü–ö –Ω–∞ Windows, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ **—Å–≤–æ—ó –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ Workspace**. –ë—ñ–ª—å—à–µ —Ç–æ–≥–æ, —Ü–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏–º–µ **—Ç–æ–∫–µ–Ω–∏** –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ Google Workspace –≤ –¥–µ—è–∫–∏—Ö –º—ñ—Å—Ü—è—Ö –Ω–∞ –ü–ö: –¥–∏—Å–∫, –ø–∞–º'—è—Ç—å —Ç–∞ —Ä–µ—î—Å—Ç—Ä... –Ω–∞–≤—ñ—Ç—å –º–æ–∂–ª–∏–≤–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ **–ø–∞—Ä–æ–ª—å —É –≤—ñ–¥–∫—Ä–∏—Ç–æ–º—É –≤–∏–≥–ª—è–¥—ñ**.

{% hint style="success" %}
Note that [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) is capable to detect **GCPW**, get information about the configuration and **even tokens**.
{% endhint %}

Find more information about this in:

{% content-ref url="gcpw-google-credential-provider-for-windows.md" %}
[gcpw-google-credential-provider-for-windows.md](gcpw-google-credential-provider-for-windows.md)
{% endcontent-ref %}

## GCSD - Google Cloud Directory Sync

–¶–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —è–∫–∏–π –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è **—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –≤–∞—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ –≥—Ä—É–ø –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥—É –∑ –≤–∞—à–∏–º Workspace** (–∞ –Ω–µ –Ω–∞–≤–ø–∞–∫–∏ –Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–Ω—è).

–¶–µ —Ü—ñ–∫–∞–≤–æ, –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —è–∫–∏–π –≤–∏–º–∞–≥–∞—Ç–∏–º–µ **–æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ —Å—É–ø–µ—Ä–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ Workspace —Ç–∞ –ø—Ä–∏–≤—ñ–ª–µ–π–æ–≤–∞–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ AD**. –û—Ç–∂–µ, –º–æ–∂–ª–∏–≤–æ, –π–æ–≥–æ –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –¥–æ–º–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, —è–∫–∏–π —á–∞—Å –≤—ñ–¥ —á–∞—Å—É —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.

{% hint style="success" %}
Note that [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) is capable to detect **GCDS**, get information about the configuration and **even the passwords and encrypted credentials**.
{% endhint %}

Find more information about this in:

{% content-ref url="gcds-google-cloud-directory-sync.md" %}
[gcds-google-cloud-directory-sync.md](gcds-google-cloud-directory-sync.md)
{% endcontent-ref %}

## GPS - Google Password Sync

–¶–µ –¥–≤—ñ–π–∫–æ–≤–∏–π —Ñ–∞–π–ª —Ç–∞ —Å–ª—É–∂–±–∞, —è–∫—É Google –ø—Ä–æ–ø–æ–Ω—É—î –¥–ª—è **–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–∏–º–∏ –ø–∞—Ä–æ–ª—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –º—ñ–∂ AD** —Ç–∞ Workspace. –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–º—ñ–Ω—é—î —Å–≤—ñ–π –ø–∞—Ä–æ–ª—å –≤ AD, –≤—ñ–Ω –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –≤ Google.

–í—ñ–Ω –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –≤ `C:\Program Files\Google\Password Sync`, –¥–µ –≤–∏ –º–æ–∂–µ—Ç–µ –∑–Ω–∞–π—Ç–∏ –¥–≤—ñ–π–∫–æ–≤–∏–π —Ñ–∞–π–ª `PasswordSync.exe` –¥–ª—è –π–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ `password_sync_service.exe` (—Å–ª—É–∂–±–∞, —è–∫–∞ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏).

{% hint style="success" %}
Note that [**Winpeas**](https://github.com/peass-ng/PEASS-ng/tree/master/winPEAS/winPEASexe) is capable to detect **GPS**, get information about the configuration and **even the passwords and encrypted credentials**.
{% endhint %}

Find more information about this in:

{% content-ref url="gps-google-password-sync.md" %}
[gps-google-password-sync.md](gps-google-password-sync.md)
{% endcontent-ref %}

## Admin Directory Sync

–ì–æ–ª–æ–≤–Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ —Ü–∏–º —Å–ø–æ—Å–æ–±–æ–º —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑ GCDS –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ GCDS –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤—Ä—É—á–Ω—É –∑ –¥–µ—è–∫–∏–º–∏ –¥–≤—ñ–π–∫–æ–≤–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏, —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏, —Ç–æ–¥—ñ —è–∫ **Admin Directory Sync —î –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–∏–º** —ñ –∫–µ—Ä—É—î—Ç—å—Å—è Google –Ω–∞ [https://admin.google.com/ac/sync/externaldirectories](https://admin.google.com/ac/sync/externaldirectories).

Find more information about this in:

{% content-ref url="gws-admin-directory-sync.md" %}
[gws-admin-directory-sync.md](gws-admin-directory-sync.md)
{% endcontent-ref %}

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
