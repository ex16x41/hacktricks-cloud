# GWS - Post Exploitation

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Google Groups Privesc

Podrazumevano, u workspace-u, **grupa** mo≈æe biti **slobodno dostupna** bilo kojem ƒçlanu organizacije.\
Workspace takoƒëe omoguƒáava **dodeljivanje dozvola grupama** (ƒçak i GCP dozvola), tako da ako se grupe mogu pridru≈æiti i imaju dodatne dozvole, napadaƒç mo≈æe **iskoristiti taj put za eskalaciju privilegija**.

Potrebno je da imate pristup konzoli da biste se pridru≈æili grupama koje dozvoljavaju pridru≈æivanje bilo kome u organizaciji. Proverite informacije o grupama na [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups).

### Access Groups Mail info

Ako ste uspeli da **kompromitujete sesiju google korisnika**, sa [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) mo≈æete videti istoriju mejlova poslatih grupama na koje je korisnik ƒçlan, i mo≈æda ƒáete pronaƒái **akreditive** ili druge **osetljive podatke**.

## GCP <--> GWS Pivoting

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - Preuzmi sve ≈°to Google zna o nalogu

Ako imate **sesiju unutar google naloga ≈ærtve**, mo≈æete preuzeti sve ≈°to Google ƒçuva o tom nalogu sa [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none)

## Vault - Preuzmi sve podatke Workspace-a korisnika

Ako organizacija ima **Google Vault omoguƒáen**, mo≈æda ƒáete moƒái da pristupite [**https://vault.google.com**](https://vault.google.com/u/1/) i **preuzmete** sve **informacije**.

## Preuzimanje kontakata

Sa [**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC) mo≈æete preuzeti sve **kontakte** korisnika.

## Cloudsearch

Na [**https://cloudsearch.google.com/**](https://cloudsearch.google.com) mo≈æete jednostavno pretra≈æivati **sve sadr≈æaje Workspace-a** (email, drive, sajtove...) kojima korisnik ima pristup. Idealno za **brzo pronala≈æenje osetljivih informacija**.

## Google Chat

Na [**https://mail.google.com/chat**](https://mail.google.com/chat) mo≈æete pristupiti Google **Chat-u**, i mo≈æda ƒáete pronaƒái osetljive informacije u razgovorima (ako ih ima).

## Google Drive Mining

Kada **delite** dokument, mo≈æete **navesti** **ljude** koji mogu da mu pristupe jedan po jedan, **podeliti** ga sa va≈°om **celom kompanijom** (**ili** sa nekim specifiƒçnim **grupama**) generisanjem linka.

Kada delite dokument, u naprednim pode≈°avanjima takoƒëe mo≈æete **dozvoliti ljudima da pretra≈æuju** ovaj fajl (po **default-u** je **onemoguƒáeno**). Meƒëutim, va≈æno je napomenuti da kada korisnici pogledaju dokument, on postaje pretra≈æiv za njih.

Radi jednostavnosti, veƒáina ljudi ƒáe generisati i deliti link umesto da dodaju ljude koji mogu da pristupe dokumentu jedan po jedan.

Neki predlo≈æeni naƒçini za pronala≈æenje svih dokumenata:

* Pretra≈æujte u internom chatu, forumima...
* **Spider** poznate **dokumente** tra≈æeƒái **reference** na druge dokumente. To mo≈æete uraditi unutar App Script-a sa [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser)

## **Keep Notes**

Na [**https://keep.google.com/**](https://keep.google.com) mo≈æete pristupiti bele≈°kama korisnika, **osetljive** **informacije** mogu biti saƒçuvane ovde.

### Modify App Scripts

Na [**https://script.google.com/**](https://script.google.com/) mo≈æete pronaƒái APP skripte korisnika.

## **Administrate Workspace**

Na [**https://admin.google.com**/](https://admin.google.com), mo≈æda ƒáete moƒái da modifikujete pode≈°avanja Workspace-a cele organizacije ako imate dovoljno dozvola.

Takoƒëe mo≈æete pronaƒái mejlove pretra≈æujuƒái sve korisnikove fakture na [**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch)

## References

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite: The Power of Dark Apps Script Magic
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch and Beau Bullock - OK Google, How do I Red Team GSuite?

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
