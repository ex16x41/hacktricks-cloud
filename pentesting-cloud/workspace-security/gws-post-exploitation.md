# GWS - Post Exploitation

{% hint style="success" %}
Ucz siÄ™ i Ä‡wicz Hacking AWS:<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Ucz siÄ™ i Ä‡wicz Hacking GCP: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wsparcie dla HackTricks</summary>

* SprawdÅº [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegram**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siÄ™ sztuczkami hackingowymi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w github.

</details>
{% endhint %}

## Google Groups Privesc

DomyÅ›lnie w workspace **grupa** moÅ¼e byÄ‡ **swobodnie dostÄ™pna** dla kaÅ¼dego czÅ‚onka organizacji.\
Workspace pozwala rÃ³wnieÅ¼ na **przyznawanie uprawnieÅ„ grupom** (nawet uprawnieÅ„ GCP), wiÄ™c jeÅ›li grupy mogÄ… byÄ‡ doÅ‚Ä…czane i majÄ… dodatkowe uprawnienia, atakujÄ…cy moÅ¼e **naduÅ¼yÄ‡ tej Å›cieÅ¼ki, aby eskalowaÄ‡ uprawnienia**.

Potrzebujesz potencjalnie dostÄ™pu do konsoli, aby doÅ‚Ä…czyÄ‡ do grup, ktÃ³re mogÄ… byÄ‡ doÅ‚Ä…czane przez kaÅ¼dego w organizacji. SprawdÅº informacje o grupach w [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups).

### Informacje o dostÄ™pie do grup mailowych

JeÅ›li udaÅ‚o ci siÄ™ **skompromentowaÄ‡ sesjÄ™ uÅ¼ytkownika google**, z [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) moÅ¼esz zobaczyÄ‡ historiÄ™ maili wysyÅ‚anych do grup mailowych, ktÃ³rych czÅ‚onkiem jest uÅ¼ytkownik, i moÅ¼esz znaleÅºÄ‡ **dane logowania** lub inne **wraÅ¼liwe dane**.

## GCP <--> GWS Pivoting

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - Pobierz wszystko, co Google wie o koncie

JeÅ›li masz **sesjÄ™ w koncie ofiary google**, moÅ¼esz pobraÄ‡ wszystko, co Google zapisuje o tym koncie z [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none)

## Vault - Pobierz wszystkie dane Workspace uÅ¼ytkownikÃ³w

JeÅ›li organizacja ma **wÅ‚Ä…czony Google Vault**, moÅ¼esz uzyskaÄ‡ dostÄ™p do [**https://vault.google.com**](https://vault.google.com/u/1/) i **pobraÄ‡** wszystkie **informacje**.

## Pobieranie kontaktÃ³w

Z [**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC) moÅ¼esz pobraÄ‡ wszystkie **kontakty** uÅ¼ytkownika.

## Cloudsearch

W [**https://cloudsearch.google.com/**](https://cloudsearch.google.com) moÅ¼esz po prostu przeszukiwaÄ‡ **wszystkie treÅ›ci Workspace** (e-mail, dysk, strony...), do ktÃ³rych uÅ¼ytkownik ma dostÄ™p. Idealne do **szybkiego znajdowania wraÅ¼liwych informacji**.

## Google Chat

W [**https://mail.google.com/chat**](https://mail.google.com/chat) moÅ¼esz uzyskaÄ‡ dostÄ™p do Google **Czatu**, i moÅ¼esz znaleÅºÄ‡ wraÅ¼liwe informacje w rozmowach (jeÅ›li takie sÄ…).

## Google Drive Mining

Podczas **udostÄ™pniania** dokumentu moÅ¼esz **okreÅ›liÄ‡** **osoby**, ktÃ³re mogÄ… uzyskaÄ‡ do niego dostÄ™p jedna po drugiej, **udostÄ™pniÄ‡** go caÅ‚ej **firmie** (**lub** niektÃ³rym konkretnym **grupom**) poprzez **generowanie linku**.

Podczas udostÄ™pniania dokumentu, w ustawieniach zaawansowanych moÅ¼esz rÃ³wnieÅ¼ **zezwoliÄ‡ ludziom na wyszukiwanie** tego pliku (domyÅ›lnie jest to **wyÅ‚Ä…czone**). WaÅ¼ne jest jednak, aby zauwaÅ¼yÄ‡, Å¼e gdy uÅ¼ytkownicy przeglÄ…dajÄ… dokument, staje siÄ™ on dla nich wyszukiwalny.

Dla uproszczenia, wiÄ™kszoÅ›Ä‡ ludzi wygeneruje i udostÄ™pni link zamiast dodawaÄ‡ osoby, ktÃ³re mogÄ… uzyskaÄ‡ dostÄ™p do dokumentu jedna po drugiej.

NiektÃ³re proponowane sposoby na znalezienie wszystkich dokumentÃ³w:

* Wyszukiwanie w wewnÄ™trznych czatach, forach...
* **PajÄ…k** znanych **dokumentÃ³w** w poszukiwaniu **odniesieÅ„** do innych dokumentÃ³w. MoÅ¼esz to zrobiÄ‡ w ramach App Script z [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser)

## **Keep Notes**

W [**https://keep.google.com/**](https://keep.google.com) moÅ¼esz uzyskaÄ‡ dostÄ™p do notatek uÅ¼ytkownika, **wraÅ¼liwe** **informacje** mogÄ… byÄ‡ zapisane tutaj.

### Modyfikacja App Scripts

W [**https://script.google.com/**](https://script.google.com/) moÅ¼esz znaleÅºÄ‡ APP Scripts uÅ¼ytkownika.

## **Administracja Workspace**

W [**https://admin.google.com**/](https://admin.google.com) moÅ¼esz byÄ‡ w stanie zmodyfikowaÄ‡ ustawienia Workspace caÅ‚ej organizacji, jeÅ›li masz wystarczajÄ…ce uprawnienia.

MoÅ¼esz rÃ³wnieÅ¼ znaleÅºÄ‡ e-maile, przeszukujÄ…c wszystkie faktury uÅ¼ytkownika w [**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch)

## Referencje

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite: The Power of Dark Apps Script Magic
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch i Beau Bullock - OK Google, Jak mogÄ™ Red Team GSuite?

{% hint style="success" %}
Ucz siÄ™ i Ä‡wicz Hacking AWS:<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Ucz siÄ™ i Ä‡wicz Hacking GCP: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wsparcie dla HackTricks</summary>

* SprawdÅº [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegram**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podziel siÄ™ sztuczkami hackingowymi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w github.

</details>
{% endhint %}
