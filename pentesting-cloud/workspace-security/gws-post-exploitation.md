# GWS - Post Exploitation

{% hint style="success" %}
Dowiedz siÄ™ i Ä‡wicz Hacking AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Dowiedz siÄ™ i Ä‡wicz Hacking GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wesprzyj HackTricks</summary>

* SprawdÅº [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Dziel siÄ™ trikami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w na githubie.

</details>
{% endhint %}

## Google Groups Privesc

DomyÅ›lnie w workspace **grupa** moÅ¼e byÄ‡ **swobodnie dostÄ™pna** dla kaÅ¼dego czÅ‚onka organizacji.\
Workspace pozwala rÃ³wnieÅ¼ **przyznawaÄ‡ uprawnienia grupom** (nawet uprawnienia GCP), wiÄ™c jeÅ›li grupy mogÄ… byÄ‡ doÅ‚Ä…czane i majÄ… dodatkowe uprawnienia, atakujÄ…cy moÅ¼e **wykorzystaÄ‡ tÄ™ Å›cieÅ¼kÄ™ do eskalacji uprawnieÅ„**.

Potencjalnie potrzebujesz dostÄ™pu do konsoli, aby doÅ‚Ä…czyÄ‡ do grup, ktÃ³re mogÄ… byÄ‡ doÅ‚Ä…czane przez kaÅ¼dego w organizacji. SprawdÅº informacje o grupach na [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups).

### DostÄ™p do informacji mailowych grup

JeÅ›li udaÅ‚o ci siÄ™ **skompromitowaÄ‡ sesjÄ™ uÅ¼ytkownika Google**, z [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) moÅ¼esz zobaczyÄ‡ historiÄ™ maili wysÅ‚anych do grup mailowych, ktÃ³rych uÅ¼ytkownik jest czÅ‚onkiem, i moÅ¼esz znaleÅºÄ‡ **dane uwierzytelniajÄ…ce** lub inne **wraÅ¼liwe dane**.

## GCP <--> GWS Pivoting

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - Pobierz wszystko, co Google wie o koncie

JeÅ›li masz **sesjÄ™ wewnÄ…trz konta ofiary Google**, moÅ¼esz pobraÄ‡ wszystko, co Google wie o tym koncie z [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none)

## Vault - Pobierz wszystkie dane uÅ¼ytkownikÃ³w Workspace

JeÅ›li organizacja ma wÅ‚Ä…czone **Google Vault**, moÅ¼esz mieÄ‡ dostÄ™p do [**https://vault.google.com**](https://vault.google.com/u/1/) i **pobraÄ‡** wszystkie **informacje**.

## Pobierz kontakty

Z [**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC) moÅ¼esz pobraÄ‡ wszystkie **kontakty** uÅ¼ytkownika.

## Cloudsearch

Na [**https://cloudsearch.google.com/**](https://cloudsearch.google.com) moÅ¼esz przeszukiwaÄ‡ **wszystkie treÅ›ci Workspace** (e-maile, dysk, strony...), do ktÃ³rych uÅ¼ytkownik ma dostÄ™p. Idealne do **szybkiego znalezienia wraÅ¼liwych informacji**.

## Google Chat

Na [**https://mail.google.com/chat**](https://mail.google.com/chat) moÅ¼esz uzyskaÄ‡ dostÄ™p do Google **Chat**, gdzie moÅ¼esz znaleÅºÄ‡ wraÅ¼liwe informacje w rozmowach (jeÅ›li takie istniejÄ…).

## Google Drive Mining

Podczas **udostÄ™pniania** dokumentu moÅ¼esz **okreÅ›liÄ‡**, ktÃ³re **osoby** mogÄ… uzyskaÄ‡ do niego dostÄ™p jedna po drugiej, **udostÄ™pniÄ‡** go caÅ‚ej **firmie** (**lub** niektÃ³rym **grupom**) poprzez **wygenerowanie linku**.

Podczas udostÄ™pniania dokumentu w ustawieniach zaawansowanych moÅ¼esz rÃ³wnieÅ¼ **pozwoliÄ‡ ludziom na wyszukiwanie** tego pliku (domyÅ›lnie jest to **wyÅ‚Ä…czone**). Jednak waÅ¼ne jest zauwaÅ¼enie, Å¼e po wyÅ›wietleniu dokumentu przez uÅ¼ytkownikÃ³w, staje siÄ™ on dla nich wyszukiwalny.

Dla uproszczenia wiÄ™kszoÅ›Ä‡ osÃ³b wygeneruje i udostÄ™pni link zamiast dodawaÄ‡ osoby, ktÃ³re mogÄ… uzyskaÄ‡ dostÄ™p do dokumentu jedna po drugiej.

Kilka proponowanych sposobÃ³w na znalezienie wszystkich dokumentÃ³w:

* Szukaj w wewnÄ™trznych czatach, forach...
* **Przeszukaj** znane **dokumenty** w poszukiwaniu **odwoÅ‚aÅ„** do innych dokumentÃ³w. MoÅ¼esz to zrobiÄ‡ za pomocÄ… skryptu aplikacji z [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser)

## **Zachowuj notatki**

Na [**https://keep.google.com/**](https://keep.google.com) moÅ¼esz uzyskaÄ‡ dostÄ™p do notatek uÅ¼ytkownika, gdzie mogÄ… byÄ‡ zapisane **wraÅ¼liwe** **informacje**.

### Modyfikuj skrypty aplikacji

Na [**https://script.google.com/**](https://script.google.com/) znajdziesz skrypty aplikacji uÅ¼ytkownika.

## **Administruj Workspace**

Na [**https://admin.google.com**/](https://admin.google.com), moÅ¼esz modyfikowaÄ‡ ustawienia Workspace caÅ‚ej organizacji, jeÅ›li masz wystarczajÄ…ce uprawnienia.

MoÅ¼esz rÃ³wnieÅ¼ znaleÅºÄ‡ e-maile, przeszukujÄ…c wszystkie faktury uÅ¼ytkownika w [**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch)

## Referencje

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite: The Power of Dark Apps Script Magic
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch and Beau Bullock - OK Google, How do I Red Team GSuite?

{% hint style="success" %}
Dowiedz siÄ™ i Ä‡wicz Hacking AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Dowiedz siÄ™ i Ä‡wicz Hacking GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wesprzyj HackTricks</summary>

* SprawdÅº [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Dziel siÄ™ trikami hakerskimi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w na githubie.

</details>
{% endhint %}
