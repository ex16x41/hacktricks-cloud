# GWS - Post Exploitation

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Google Groups Privesc

Από προεπιλογή, σε workspace μια **ομάδα** μπορεί να **προσεγγιστεί ελεύθερα** από οποιοδήποτε μέλος της οργάνωσης.\
Το Workspace επιτρέπει επίσης να **χορηγούνται δικαιώματα σε ομάδες** (ακόμη και GCP δικαιώματα), οπότε αν οι ομάδες μπορούν να προστεθούν και έχουν επιπλέον δικαιώματα, ένας επιτιθέμενος μπορεί να **καταχραστεί αυτή τη διαδρομή για να κλιμακώσει τα δικαιώματα**.

Πιθανώς χρειάζεστε πρόσβαση στην κονσόλα για να συμμετάσχετε σε ομάδες που επιτρέπουν να προστεθούν από οποιονδήποτε στην οργάνωση. Ελέγξτε τις πληροφορίες των ομάδων στο [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups).

### Access Groups Mail info

Αν καταφέρατε να **συμβιβάσετε μια συνεδρία χρήστη google**, από [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) μπορείτε να δείτε την ιστορία των μηνυμάτων που έχουν σταλεί στις ομάδες email των οποίων είναι μέλος ο χρήστης, και μπορεί να βρείτε **credentials** ή άλλα **ευαίσθητα δεδομένα**.

## GCP <--> GWS Pivoting

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - Download Everything Google Knows about an account

Αν έχετε μια **συνεδρία μέσα στον λογαριασμό google του θύματος** μπορείτε να κατεβάσετε όλα όσα αποθηκεύει η Google για αυτόν τον λογαριασμό από [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none)

## Vault - Download all the Workspace data of users

Αν μια οργάνωση έχει **ενεργοποιημένο το Google Vault**, μπορεί να έχετε πρόσβαση στο [**https://vault.google.com**](https://vault.google.com/u/1/) και να **κατεβάσετε** όλες τις **πληροφορίες**.

## Contacts download

Από [**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC) μπορείτε να κατεβάσετε όλους τους **επαφές** του χρήστη.

## Cloudsearch

Στο [**https://cloudsearch.google.com/**](https://cloudsearch.google.com) μπορείτε απλά να αναζητήσετε **μέσα από όλο το περιεχόμενο του Workspace** (email, drive, sites...) που έχει πρόσβαση ο χρήστης. Ιδανικό για **γρήγορη εύρεση ευαίσθητων πληροφοριών**.

## Google Chat

Στο [**https://mail.google.com/chat**](https://mail.google.com/chat) μπορείτε να αποκτήσετε πρόσβαση σε ένα Google **Chat**, και μπορεί να βρείτε ευαίσθητες πληροφορίες στις συνομιλίες (αν υπάρχουν).

## Google Drive Mining

Όταν **μοιράζεστε** ένα έγγραφο μπορείτε να **καθορίσετε** τους **ανθρώπους** που μπορούν να έχουν πρόσβαση σε αυτό έναν προς έναν, **μοιράζοντας** το με ολόκληρη την **εταιρεία σας** (**ή** με κάποιες συγκεκριμένες **ομάδες**) δημιουργώντας έναν σύνδεσμο.

Όταν μοιράζεστε ένα έγγραφο, στις προηγμένες ρυθμίσεις μπορείτε επίσης να **επιτρέψετε στους ανθρώπους να αναζητούν** αυτό το αρχείο (κατά **προεπιλογή** αυτό είναι **απενεργοποιημένο**). Ωστόσο, είναι σημαντικό να σημειωθεί ότι μόλις οι χρήστες δουν ένα έγγραφο, είναι αναζητήσιμο από αυτούς.

Για λόγους απλότητας, οι περισσότεροι άνθρωποι θα δημιουργήσουν και θα μοιραστούν έναν σύνδεσμο αντί να προσθέσουν τους ανθρώπους που μπορούν να έχουν πρόσβαση στο έγγραφο έναν προς έναν.

Ορισμένοι προτεινόμενοι τρόποι για να βρείτε όλα τα έγγραφα:

* Αναζητήστε σε εσωτερικές συνομιλίες, φόρουμ...
* **Spider** γνωστά **έγγραφα** αναζητώντας **αναφορές** σε άλλα έγγραφα. Μπορείτε να το κάνετε αυτό μέσα σε ένα App Script με[ **PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser)

## **Keep Notes**

Στο [**https://keep.google.com/**](https://keep.google.com) μπορείτε να αποκτήσετε πρόσβαση στις σημειώσεις του χρήστη, **ευαίσθητες** **πληροφορίες** μπορεί να είναι αποθηκευμένες εδώ.

### Modify App Scripts

Στο [**https://script.google.com/**](https://script.google.com/) μπορείτε να βρείτε τα APP Scripts του χρήστη.

## **Administrate Workspace**

Στο [**https://admin.google.com**/](https://admin.google.com), μπορεί να είστε σε θέση να τροποποιήσετε τις ρυθμίσεις του Workspace ολόκληρης της οργάνωσης αν έχετε αρκετά δικαιώματα.

Μπορείτε επίσης να βρείτε emails αναζητώντας μέσα από όλα τα τιμολόγια του χρήστη στο [**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch)

## References

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite: The Power of Dark Apps Script Magic
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch and Beau Bullock - OK Google, How do I Red Team GSuite?

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
