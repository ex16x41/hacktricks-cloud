# GWS - Post Exploitation

{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teile Hacking-Tricks, indem du PRs zu den** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos einreichst.

</details>
{% endhint %}

## Google Groups Privesc

Standardm√§√üig kann in Workspace eine **Gruppe** von jedem Mitglied der Organisation **frei zugegriffen** werden.\
Workspace erlaubt auch, **Berechtigungen an Gruppen zu gew√§hren** (sogar GCP-Berechtigungen), sodass ein Angreifer diesen Weg m√∂glicherweise **ausnutzen kann, um Privilegien zu eskalieren**.

Du ben√∂tigst m√∂glicherweise Zugriff auf die Konsole, um Gruppen beizutreten, die von jedem in der Organisation beigetreten werden k√∂nnen. √úberpr√ºfe die Gruppeninformationen unter [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups).

### Zugriff auf Gruppen-Mail-Informationen

Wenn es dir gelungen ist, eine **Google-Benutzersitzung zu kompromittieren**, kannst du von [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups) die Historie der an die Mailgruppen gesendeten Mails sehen, deren Mitglied der Benutzer ist, und du k√∂nntest **Anmeldeinformationen** oder andere **sensible Daten** finden.

## GCP <--> GWS Pivoting

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - Lade alles herunter, was Google √ºber ein Konto wei√ü

Wenn du eine **Sitzung im Google-Konto des Opfers** hast, kannst du alles herunterladen, was Google √ºber dieses Konto speichert, von [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none)

## Vault - Lade alle Workspace-Daten der Benutzer herunter

Wenn eine Organisation **Google Vault aktiviert** hat, kannst du m√∂glicherweise auf [**https://vault.google.com**](https://vault.google.com/u/1/) zugreifen und alle **Informationen** **herunterladen**.

## Kontakte herunterladen

Von [**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC) kannst du alle **Kontakte** des Benutzers herunterladen.

## Cloudsearch

In [**https://cloudsearch.google.com/**](https://cloudsearch.google.com) kannst du einfach **durch alle Workspace-Inhalte** (E-Mail, Drive, Sites...) suchen, auf die ein Benutzer Zugriff hat. Ideal, um **sensible Informationen schnell zu finden**.

## Google Chat

In [**https://mail.google.com/chat**](https://mail.google.com/chat) kannst du auf einen Google **Chat** zugreifen, und du k√∂nntest in den Gespr√§chen (falls vorhanden) sensible Informationen finden.

## Google Drive Mining

Beim **Teilen** eines Dokuments kannst du die **Personen**, die darauf zugreifen k√∂nnen, einzeln **spezifizieren**, es mit deiner **gesamten Firma** (**oder** mit bestimmten **Gruppen**) **teilen**, indem du einen Link **erstellst**.

Beim Teilen eines Dokuments kannst du in den erweiterten Einstellungen auch **erlauben, dass Personen** nach dieser Datei suchen (standardm√§√üig ist dies **deaktiviert**). Es ist jedoch wichtig zu beachten, dass, sobald Benutzer ein Dokument ansehen, es f√ºr sie durchsuchbar ist.

Zur Vereinfachung werden die meisten Menschen einen Link generieren und teilen, anstatt die Personen, die auf das Dokument zugreifen k√∂nnen, einzeln hinzuzuf√ºgen.

Einige vorgeschlagene M√∂glichkeiten, um alle Dokumente zu finden:

* Suche in internen Chats, Foren...
* **Spider** bekannte **Dokumente**, um nach **Referenzen** zu anderen Dokumenten zu suchen. Du kannst dies innerhalb eines App Scripts mit [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser) tun.

## **Keep Notes**

In [**https://keep.google.com/**](https://keep.google.com) kannst du auf die Notizen des Benutzers zugreifen, **sensible** **Informationen** k√∂nnten hier gespeichert sein.

### App Scripts √§ndern

In [**https://script.google.com/**](https://script.google.com/) kannst du die APP Scripts des Benutzers finden.

## **Workspace verwalten**

In [**https://admin.google.com**/](https://admin.google.com) k√∂nntest du in der Lage sein, die Workspace-Einstellungen der gesamten Organisation zu √§ndern, wenn du gen√ºgend Berechtigungen hast.

Du kannst auch E-Mails finden, indem du durch alle Rechnungen des Benutzers in [**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch) suchst.

## Referenzen

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite: Die Macht der dunklen Apps Script Magie
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch und Beau Bullock - OK Google, wie mache ich Red Team GSuite?

{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teile Hacking-Tricks, indem du PRs zu den** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos einreichst.

</details>
{% endhint %}
