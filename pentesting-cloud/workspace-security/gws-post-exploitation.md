# GWS - Post Exploitation

{% hint style="success" %}
Apprenez et pratiquez le hacking AWS :<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Apprenez et pratiquez le hacking GCP : <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop) !
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** nous sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de hacking en soumettant des PRs aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts github.

</details>
{% endhint %}

## Google Groups Privesc

Par d√©faut dans Workspace, un **groupe** peut √™tre **librement accessible** par tout membre de l'organisation.\
Workspace permet √©galement de **donner des permissions aux groupes** (m√™me des permissions GCP), donc si des groupes peuvent √™tre rejoints et qu'ils ont des permissions suppl√©mentaires, un attaquant peut **abuser de ce chemin pour √©lever ses privil√®ges**.

Vous avez potentiellement besoin d'acc√®s √† la console pour rejoindre des groupes qui peuvent √™tre rejoints par quiconque dans l'organisation. V√©rifiez les informations sur les groupes sur [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups).

### Acc√©der aux informations des groupes de mail

Si vous avez r√©ussi √† **compromettre une session utilisateur Google**, depuis [**https://groups.google.com/all-groups**](https://groups.google.com/all-groups), vous pouvez voir l'historique des mails envoy√©s aux groupes de mail dont l'utilisateur est membre, et vous pourriez trouver des **identifiants** ou d'autres **donn√©es sensibles**.

## GCP <--> GWS Pivoting

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Takeout - T√©l√©charger tout ce que Google sait sur un compte

Si vous avez une **session dans le compte Google de la victime**, vous pouvez t√©l√©charger tout ce que Google sauvegarde sur ce compte depuis [**https://takeout.google.com**](https://takeout.google.com/u/1/?pageId=none)

## Vault - T√©l√©charger toutes les donn√©es Workspace des utilisateurs

Si une organisation a **Google Vault activ√©**, vous pourriez √™tre en mesure d'acc√©der √† [**https://vault.google.com**](https://vault.google.com/u/1/) et **t√©l√©charger** toutes les **informations**.

## T√©l√©chargement des contacts

Depuis [**https://contacts.google.com**](https://contacts.google.com/u/1/?hl=es\&tab=mC), vous pouvez t√©l√©charger tous les **contacts** de l'utilisateur.

## Cloudsearch

Dans [**https://cloudsearch.google.com/**](https://cloudsearch.google.com), vous pouvez simplement rechercher **dans tout le contenu Workspace** (email, drive, sites...) auquel un utilisateur a acc√®s. Id√©al pour **trouver rapidement des informations sensibles**.

## Google Chat

Dans [**https://mail.google.com/chat**](https://mail.google.com/chat), vous pouvez acc√©der √† un **Chat** Google, et vous pourriez trouver des informations sensibles dans les conversations (s'il y en a).

## Google Drive Mining

Lors de **partage** d'un document, vous pouvez **sp√©cifier** les **personnes** qui peuvent y acc√©der une par une, **le partager** avec votre **entreprise enti√®re** (**ou** avec certains **groupes sp√©cifiques**) en **g√©n√©rant un lien**.

Lors du partage d'un document, dans les param√®tres avanc√©s, vous pouvez √©galement **permettre aux gens de rechercher** ce fichier (par **d√©faut**, cela est **d√©sactiv√©**). Cependant, il est important de noter qu'une fois que les utilisateurs consultent un document, il est consultable par eux.

Pour des raisons de simplicit√©, la plupart des gens g√©n√©reront et partageront un lien au lieu d'ajouter les personnes qui peuvent acc√©der au document une par une.

Quelques fa√ßons propos√©es pour trouver tous les documents :

* Rechercher dans le chat interne, les forums...
* **Explorer** des **documents** connus √† la recherche de **r√©f√©rences** √† d'autres documents. Vous pouvez le faire dans un App Script avec [**PaperChaser**](https://github.com/mandatoryprogrammer/PaperChaser)

## **Keep Notes**

Dans [**https://keep.google.com/**](https://keep.google.com), vous pouvez acc√©der aux notes de l'utilisateur, des **informations sensibles** pourraient y √™tre sauvegard√©es.

### Modifier les App Scripts

Dans [**https://script.google.com/**](https://script.google.com/), vous pouvez trouver les APP Scripts de l'utilisateur.

## **Administrer Workspace**

Dans [**https://admin.google.com**/](https://admin.google.com), vous pourriez √™tre en mesure de modifier les param√®tres de Workspace de toute l'organisation si vous avez suffisamment de permissions.

Vous pouvez √©galement trouver des emails en recherchant dans toutes les factures de l'utilisateur sur [**https://admin.google.com/ac/emaillogsearch**](https://admin.google.com/ac/emaillogsearch)

## R√©f√©rences

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite : Le pouvoir de la magie des scripts d'applications sombres
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch et Beau Bullock - OK Google, comment faire une Red Team sur GSuite ?

{% hint style="success" %}
Apprenez et pratiquez le hacking AWS :<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Apprenez et pratiquez le hacking GCP : <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop) !
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** nous sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de hacking en soumettant des PRs aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts github.

</details>
{% endhint %}
