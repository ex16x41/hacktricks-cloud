# GWS - Workspace Pentesting

{% hint style="success" %}
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>–ü—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ HackTricks</summary>

* –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ø–ª–∞–Ω–∏ –ø—ñ–¥–ø–∏—Å–∫–∏**](https://github.com/sponsors/carlospolop)!
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –≤ **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **–î—ñ–ª—ñ—Ç—å—Å—è —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞—é—á–∏ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub.

</details>
{% endhint %}

## –¢–æ—á–∫–∏ –≤—Ö–æ–¥—É

### –§—ñ—à–∏–Ω–≥ Google –ø–ª–∞—Ç—Ñ–æ—Ä–º —Ç–∞ OAuth –¥–æ–¥–∞—Ç–∫—ñ–≤

–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —è–∫ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ Google –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏, —Ç–∞–∫—ñ —è–∫ Drive, Chat, Groups... —â–æ–± –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –∂–µ—Ä—Ç–≤—ñ —Ñ—ñ—à–∏–Ω–≥–æ–≤–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —Ç–∞ —è–∫ –≤–∏–∫–æ–Ω–∞—Ç–∏ —Ñ—ñ—à–∏–Ω–≥ Google OAuth —É:

{% content-ref url="gws-google-platforms-phishing/" %}
[gws-google-platforms-phishing](gws-google-platforms-phishing/)
{% endcontent-ref %}

### Password Spraying

–©–æ–± –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –ø–∞—Ä–æ–ª—ñ –∑ —É—Å—ñ–º–∞ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏–º–∏ –∞–¥—Ä–µ—Å–∞–º–∏, —è–∫—ñ –≤–∏ –∑–Ω–∞–π—à–ª–∏ (–∞–±–æ —è–∫—ñ –≤–∏ –∑–≥–µ–Ω–µ—Ä—É–≤–∞–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —à–∞–±–ª–æ–Ω—É —ñ–º–µ–Ω—ñ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –ø–æ—à—Ç–∏, —è–∫–∏–π –≤–∏ –º–æ–≥–ª–∏ –≤–∏—è–≤–∏—Ç–∏), –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —Ç–∞–∫–∏–π —è–∫ [**https://github.com/ustayready/CredKing**](https://github.com/ustayready/CredKing) (—Ö–æ—á–∞ –≤—ñ–Ω –≤–∏–≥–ª—è–¥–∞—î –Ω–µ–ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏–º), —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏–º–µ AWS lambdas –¥–ª—è –∑–º—ñ–Ω–∏ IP-–∞–¥—Ä–µ—Å–∏.

## –ü–æ—Å—Ç-–µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—è

–Ø–∫—â–æ –≤–∏ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç—É–≤–∞–ª–∏ –¥–µ—è–∫—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ –∞–±–æ —Å–µ—Å—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ–Ω–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –¥—ñ–π, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ —á—É—Ç–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∞ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –ø—ñ–¥–≤–∏—â–∏—Ç–∏ –ø—Ä–∏–≤—ñ–ª–µ—ó:

{% content-ref url="gws-post-exploitation.md" %}
[gws-post-exploitation.md](gws-post-exploitation.md)
{% endcontent-ref %}

### GWS <-->GCP –ü—ñ–≤–æ—Ç—É–≤–∞–Ω–Ω—è

–î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ —Ä—ñ–∑–Ω—ñ —Ç–µ—Ö–Ω—ñ–∫–∏ –ø—ñ–≤–æ—Ç—É–≤–∞–Ω–Ω—è –º—ñ–∂ GWS —Ç–∞ GCP —É:

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## GWS <--> GCPW | GCDS | –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∫–∞—Ç–∞–ª–æ–≥—ñ–≤ (AD & EntraID)

* **GCPW (Google Credential Provider for Windows)**: –¶–µ —î–¥–∏–Ω–∏–π –≤—Ö—ñ–¥, —è–∫–∏–π –Ω–∞–¥–∞—î Google Workspaces, —â–æ–± –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–≥–ª–∏ –≤—Ö–æ–¥–∏—Ç–∏ –≤ —Å–≤–æ—ó Windows –ü–ö, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ **—Å–≤–æ—ó –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ Workspace**. –ë—ñ–ª—å—à–µ —Ç–æ–≥–æ, —Ü–µ **–∑–±–µ—Ä—ñ–≥–∞—Ç–∏–º–µ —Ç–æ–∫–µ–Ω–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ Google Workspace** –≤ –¥–µ—è–∫–∏—Ö –º—ñ—Å—Ü—è—Ö –Ω–∞ –ü–ö.
* **GCDS (Google Cloud Directory Sync)**: –¶–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —è–∫–∏–π –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è **—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó –≤–∞—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ –≥—Ä—É–ø –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥—É –∑ –≤–∞—à–∏–º Workspace**. –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤–∏–º–∞–≥–∞—î **–æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö —Å—É–ø–µ—Ä–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ Workspace —Ç–∞ –ø—Ä–∏–≤—ñ–ª–µ–π–æ–≤–∞–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ AD**. –û—Ç–∂–µ, –º–æ–∂–ª–∏–≤–æ, —â–æ –π–æ–≥–æ –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –¥–æ–º–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, —è–∫–∏–π —á–∞—Å –≤—ñ–¥ —á–∞—Å—É —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
* **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥—É**: –î–æ–∑–≤–æ–ª—è—î —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑ AD —Ç–∞ EntraID —É –±–µ–∑—Å–µ—Ä–≤–µ—Ä–Ω–æ–º—É –ø—Ä–æ—Ü–µ—Å—ñ –∑ [https://admin.google.com/ac/sync/externaldirectories](https://admin.google.com/ac/sync/externaldirectories).

{% content-ref url="gws-workspace-sync-attacks-gcpw-gcds-directory-sync-with-ad-and-entraid.md" %}
[gws-workspace-sync-attacks-gcpw-gcds-directory-sync-with-ad-and-entraid.md](gws-workspace-sync-attacks-gcpw-gcds-directory-sync-with-ad-and-entraid.md)
{% endcontent-ref %}

## –ü–æ—Å—Ç—ñ–π–Ω—ñ—Å—Ç—å

–Ø–∫—â–æ –≤–∏ —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç—É–≤–∞–ª–∏ –¥–µ—è–∫—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ –∞–±–æ —Å–µ—Å—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ü—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏, —â–æ–± –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–æ—Å—Ç—ñ–π–Ω—ñ—Å—Ç—å:

{% content-ref url="gws-persistence.md" %}
[gws-persistence.md](gws-persistence.md)
{% endcontent-ref %}

## –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω–æ–≥–æ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É

* –í–∏–π—Ç–∏ –∑ —É—Å—ñ—Ö —Å–µ—Å—ñ–π
* –ó–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–æ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
* –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–¥–∏ 2FA
* –í–∏–¥–∞–ª–∏—Ç–∏ –ø–∞—Ä–æ–ª—ñ –¥–æ–¥–∞—Ç–∫—ñ–≤
* –í–∏–¥–∞–ª–∏—Ç–∏ OAuth –¥–æ–¥–∞—Ç–∫–∏
* –í–∏–¥–∞–ª–∏—Ç–∏ –ø—Ä–∏—Å—Ç—Ä–æ—ó 2FA
* –í–∏–¥–∞–ª–∏—Ç–∏ –ø–µ—Ä–µ—Å–∏–ª–∞–Ω–Ω—è –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –ø–æ—à—Ç–∏
* –í–∏–¥–∞–ª–∏—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –ø–æ—à—Ç–∏
* –í–∏–¥–∞–ª–∏—Ç–∏ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É –ø–æ—à—Ç—É/—Ç–µ–ª–µ—Ñ–æ–Ω–∏ –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
* –í–∏–¥–∞–ª–∏—Ç–∏ –∑–ª–æ–≤–º–∏—Å–Ω—ñ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω—ñ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∏
* –í–∏–¥–∞–ª–∏—Ç–∏ –ø–æ–≥–∞–Ω—ñ Android –¥–æ–¥–∞—Ç–∫–∏
* –í–∏–¥–∞–ª–∏—Ç–∏ –ø–æ–≥–∞–Ω—ñ –¥–µ–ª–µ–≥—É–≤–∞–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É

## –ü–æ—Å–∏–ª–∞–Ω–Ω—è

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - –ú–µ—Ç—å—é –ë—Ä–∞–π–∞–Ω—Ç - –•–∞–∫—ñ–Ω–≥ G Suite: –°–∏–ª–∞ —Ç–µ–º–Ω–æ—ó –º–∞–≥—ñ—ó –¥–æ–¥–∞—Ç–∫—ñ–≤
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - –ú–∞–π–∫ –§–µ–ª—á —ñ –ë–æ—É –ë—É–ª–ª–æ–∫ - –û–ö Google, —è–∫ –º–µ–Ω—ñ Red Team GSuite?

{% hint style="success" %}
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>–ü—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ HackTricks</summary>

* –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ø–ª–∞–Ω–∏ –ø—ñ–¥–ø–∏—Å–∫–∏**](https://github.com/sponsors/carlospolop)!
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –≤ **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **–î—ñ–ª—ñ—Ç—å—Å—è —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞—é—á–∏ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ GitHub.

</details>
{% endhint %}
