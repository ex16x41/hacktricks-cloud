# GWS - Workspace Pentesting

{% hint style="success" %}
AWS í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… ê³„íš**](https://github.com/sponsors/carlospolop) í™•ì¸í•˜ê¸°!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ì°¸ì—¬í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ê¹ƒí—ˆë¸Œ ë¦¬í¬ì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
{% endhint %}

## ì§„ì…ì 

### Google í”Œë«í¼ ë° OAuth ì•± í”¼ì‹±

Google Drive, Chat, Groupsì™€ ê°™ì€ ë‹¤ì–‘í•œ Google í”Œë«í¼ì„ ì‚¬ìš©í•˜ì—¬ í”¼í•´ìì—ê²Œ í”¼ì‹± ë§í¬ë¥¼ ë³´ë‚´ëŠ” ë°©ë²•ê³¼ Google OAuth í”¼ì‹±ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì„ í™•ì¸í•˜ì„¸ìš”:

{% content-ref url="gws-google-platforms-phishing/" %}
[gws-google-platforms-phishing](gws-google-platforms-phishing/)
{% endcontent-ref %}

### ë¹„ë°€ë²ˆí˜¸ ìŠ¤í”„ë ˆì´

ë°œê²¬í•œ ëª¨ë“  ì´ë©”ì¼(ë˜ëŠ” ë°œê²¬í•œ ì´ë©”ì¼ ì´ë¦„ íŒ¨í„´ì„ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±í•œ ì´ë©”ì¼)ë¡œ ë¹„ë°€ë²ˆí˜¸ë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ [**https://github.com/ustayready/CredKing**](https://github.com/ustayready/CredKing)ì™€ ê°™ì€ ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ìœ ì§€ ê´€ë¦¬ë˜ì§€ ì•ŠëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ). ì´ ë„êµ¬ëŠ” AWS ëŒë‹¤ë¥¼ ì‚¬ìš©í•˜ì—¬ IP ì£¼ì†Œë¥¼ ë³€ê²½í•©ë‹ˆë‹¤.

## ì‚¬í›„ í™œìš©

ìê²© ì¦ëª…ì´ë‚˜ ì‚¬ìš©ìì˜ ì„¸ì…˜ì„ ì†ìƒì‹œí‚¨ ê²½ìš°, ì‚¬ìš©ìì˜ ì ì¬ì ì¸ ë¯¼ê°í•œ ì •ë³´ì— ì ‘ê·¼í•˜ê³  ê¶Œí•œì„ ìƒìŠ¹ì‹œí‚¤ê¸° ìœ„í•´ ì—¬ëŸ¬ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

{% content-ref url="gws-post-exploitation.md" %}
[gws-post-exploitation.md](gws-post-exploitation.md)
{% endcontent-ref %}

### GWS <-->GCP í”¼ë²—íŒ…

GWSì™€ GCP ê°„ì˜ í”¼ë²—íŒ…ì— ëŒ€í•œ ë‹¤ì–‘í•œ ê¸°ìˆ ì— ëŒ€í•´ ë” ì•Œì•„ë³´ì„¸ìš”:

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## GWS <--> GCPW | GCDS | ë””ë ‰í† ë¦¬ ë™ê¸°í™” (AD & EntraID)

* **GCPW (Windowsìš© Google ìê²© ì¦ëª… ì œê³µì)**: ì´ëŠ” Google Workspaceê°€ ì œê³µí•˜ëŠ” ë‹¨ì¼ ë¡œê·¸ì¸ìœ¼ë¡œ, ì‚¬ìš©ìê°€ **ìì‹ ì˜ Workspace ìê²© ì¦ëª…**ì„ ì‚¬ìš©í•˜ì—¬ Windows PCì— ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ, ì´ëŠ” PCì˜ ì—¬ëŸ¬ ìœ„ì¹˜ì— Google Workspaceì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ í† í°ì„ **ì €ì¥í•©ë‹ˆë‹¤**.
* **GCDS (Google í´ë¼ìš°ë“œ ë””ë ‰í† ë¦¬ ë™ê¸°í™”)**: ì´ëŠ” **í™œì„± ë””ë ‰í† ë¦¬ ì‚¬ìš©ì ë° ê·¸ë£¹ì„ Workspaceì™€ ë™ê¸°í™”í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë„êµ¬**ì…ë‹ˆë‹¤. ì´ ë„êµ¬ëŠ” **Workspace ìŠˆí¼ìœ ì € ë° ê¶Œí•œì´ ìˆëŠ” AD ì‚¬ìš©ì**ì˜ ìê²© ì¦ëª…ì´ í•„ìš”í•©ë‹ˆë‹¤. ë”°ë¼ì„œ, ì‚¬ìš©ì ë™ê¸°í™”ë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ë„ë©”ì¸ ì„œë²„ ë‚´ì—ì„œ ì´ë¥¼ ì°¾ëŠ” ê²ƒì´ ê°€ëŠ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **ê´€ë¦¬ì ë””ë ‰í† ë¦¬ ë™ê¸°í™”**: ì´ëŠ” [https://admin.google.com/ac/sync/externaldirectories](https://admin.google.com/ac/sync/externaldirectories)ì—ì„œ ì„œë²„ë¦¬ìŠ¤ í”„ë¡œì„¸ìŠ¤ë¡œ AD ë° EntraIDì˜ ì‚¬ìš©ìë¥¼ ë™ê¸°í™”í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

{% content-ref url="gws-workspace-sync-attacks-gcpw-gcds-gps-directory-sync-with-ad-and-entraid/" %}
[gws-workspace-sync-attacks-gcpw-gcds-gps-directory-sync-with-ad-and-entraid](gws-workspace-sync-attacks-gcpw-gcds-gps-directory-sync-with-ad-and-entraid/)
{% endcontent-ref %}

## ì§€ì†ì„±

ìê²© ì¦ëª…ì´ë‚˜ ì‚¬ìš©ìì˜ ì„¸ì…˜ì„ ì†ìƒì‹œí‚¨ ê²½ìš°, ì´ë¥¼ ì§€ì†ì ìœ¼ë¡œ ìœ ì§€í•˜ê¸° ìœ„í•œ ì˜µì…˜ì„ í™•ì¸í•˜ì„¸ìš”:

{% content-ref url="gws-persistence.md" %}
[gws-persistence.md](gws-persistence.md)
{% endcontent-ref %}

## ê³„ì • ì†ìƒ ë³µêµ¬

* ëª¨ë“  ì„¸ì…˜ì—ì„œ ë¡œê·¸ì•„ì›ƒ
* ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
* ìƒˆë¡œìš´ 2FA ë°±ì—… ì½”ë“œ ìƒì„±
* ì•± ë¹„ë°€ë²ˆí˜¸ ì œê±°
* OAuth ì•± ì œê±°
* 2FA ì¥ì¹˜ ì œê±°
* ì´ë©”ì¼ í¬ì›Œë” ì œê±°
* ì´ë©”ì¼ í•„í„° ì œê±°
* ë³µêµ¬ ì´ë©”ì¼/ì „í™” ì œê±°
* ì•…ì„± ë™ê¸°í™” ìŠ¤ë§ˆíŠ¸í° ì œê±°
* ë‚˜ìœ Android ì•± ì œê±°
* ë‚˜ìœ ê³„ì • ìœ„ì„ ì œê±°

## ì°¸ê³  ìë£Œ

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - G Suite í•´í‚¹: ë‹¤í¬ ì•± ìŠ¤í¬ë¦½íŠ¸ ë§ˆë²•ì˜ í˜
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch ë° Beau Bullock - OK Google, GSuiteë¥¼ ì–´ë–»ê²Œ Red Teamí•˜ë‚˜ìš”?

{% hint style="success" %}
AWS í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… ê³„íš**](https://github.com/sponsors/carlospolop) í™•ì¸í•˜ê¸°!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ì°¸ì—¬í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ê¹ƒí—ˆë¸Œ ë¦¬í¬ì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
{% endhint %}
