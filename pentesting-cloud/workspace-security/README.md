# GWS - Workspace Pentesting

{% hint style="success" %}
AWS Hacking'i öğrenin ve pratik yapın:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve pratik yapın: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın ya da **Twitter**'da **bizi takip edin** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuçlarını paylaşmak için** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gönderin.

</details>
{% endhint %}

## Giriş Noktaları

### Google Platformları ve OAuth Uygulamaları Phishing

Kurbanınıza bir phishing bağlantısı göndermek için Drive, Chat, Gruplar gibi farklı Google platformlarını nasıl kullanabileceğinizi ve Google OAuth Phishing'i nasıl gerçekleştirebileceğinizi kontrol edin:

{% content-ref url="gws-google-platforms-phishing/" %}
[gws-google-platforms-phishing](gws-google-platforms-phishing/)
{% endcontent-ref %}

### Şifre Spraying

Bulduğunuz (veya keşfettiğiniz bir e-posta adı kalıbına dayalı olarak oluşturduğunuz) tüm e-postalarla şifreleri test etmek için [**https://github.com/ustayready/CredKing**](https://github.com/ustayready/CredKing) gibi bir araç kullanabilirsiniz (her ne kadar bakımsız görünse de) bu araç AWS lambdalarını kullanarak IP adresini değiştirecektir.

## Post-Exploitation

Bazı kimlik bilgilerini veya kullanıcının oturumunu ele geçirdiyseniz, kullanıcının potansiyel hassas bilgilerine erişmek ve ayrıcalıkları artırmaya çalışmak için birkaç işlem gerçekleştirebilirsiniz:

{% content-ref url="gws-post-exploitation.md" %}
[gws-post-exploitation.md](gws-post-exploitation.md)
{% endcontent-ref %}

### GWS <-->GCP Pivoting

GWS ve GCP arasında pivot yapmak için farklı teknikler hakkında daha fazla bilgi edinin:

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## GWS <--> GCPW | GCDS | Dizin Senkronizasyonu (AD & EntraID)

* **GCPW (Google Credential Provider for Windows)**: Bu, Google Workspace'in sağladığı tek oturum açma sistemidir, böylece kullanıcılar **Workspace kimlik bilgilerini** kullanarak Windows PC'lerine giriş yapabilirler. Ayrıca, bu, PC'deki bazı yerlerde Google Workspace'e erişim için token'ları **saklayacaktır**.
* **GCDS (Google Cloud Directory Sync)**: Bu, **aktif dizin kullanıcılarınızı ve gruplarınızı Workspace'inize senkronize etmek için** kullanılabilecek bir araçtır. Araç, **bir Workspace süper kullanıcısının ve ayrıcalıklı AD kullanıcısının kimlik bilgilerini** gerektirir. Bu nedenle, zaman zaman kullanıcıları senkronize eden bir alan sunucusunda bulunması mümkün olabilir.
* **Admin Dizin Senkronizasyonu**: AD ve EntraID'den kullanıcıları [https://admin.google.com/ac/sync/externaldirectories](https://admin.google.com/ac/sync/externaldirectories) adresinden sunucusuz bir süreçle senkronize etmenizi sağlar.

{% content-ref url="gws-workspace-sync-attacks-gcpw-gcds-gps-directory-sync-with-ad-and-entraid/" %}
[gws-workspace-sync-attacks-gcpw-gcds-gps-directory-sync-with-ad-and-entraid](gws-workspace-sync-attacks-gcpw-gcds-gps-directory-sync-with-ad-and-entraid/)
{% endcontent-ref %}

## Süreklilik

Bazı kimlik bilgilerini veya kullanıcının oturumunu ele geçirdiyseniz, bunun üzerinde sürekliliği sağlamak için bu seçenekleri kontrol edin:

{% content-ref url="gws-persistence.md" %}
[gws-persistence.md](gws-persistence.md)
{% endcontent-ref %}

## Hesap Ele Geçirme Kurtarma

* Tüm oturumlardan çıkış yapın
* Kullanıcı şifresini değiştirin
* Yeni 2FA yedek kodları oluşturun
* Uygulama şifrelerini kaldırın
* OAuth uygulamalarını kaldırın
* 2FA cihazlarını kaldırın
* E-posta yönlendiricilerini kaldırın
* E-posta filtrelerini kaldırın
* Kurtarma e-posta/telefonlarını kaldırın
* Kötü niyetli senkronize edilmiş akıllı telefonları kaldırın
* Kötü Android Uygulamaları kaldırın
* Kötü hesap delegasyonlarını kaldırın

## Referanslar

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite: The Power of Dark Apps Script Magic
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch ve Beau Bullock - OK Google, GSuite'i Red Team'le nasıl hacklerim?

{% hint style="success" %}
AWS Hacking'i öğrenin ve pratik yapın:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve pratik yapın: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın ya da **Twitter**'da **bizi takip edin** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuçlarını paylaşmak için** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gönderin.

</details>
{% endhint %}
