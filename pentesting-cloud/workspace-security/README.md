# GWS - Workspace Pentesting

{% hint style="success" %}
Jifunze na fanya mazoezi ya AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Jifunze na fanya mazoezi ya GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa usajili**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuatilie** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za hacking kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
{% endhint %}

## Entry Points

### Google Platforms and OAuth Apps Phishing

Angalia jinsi unavyoweza kutumia majukwaa tofauti ya Google kama Drive, Chat, Groups... kutuma kiungo cha phishing kwa mwathirika na jinsi ya kufanya Google OAuth Phishing katika:

{% content-ref url="gws-google-platforms-phishing/" %}
[gws-google-platforms-phishing](gws-google-platforms-phishing/)
{% endcontent-ref %}

### Password Spraying

Ili kujaribu nywila na barua pepe zote ulizozipata (au ulizozitengeneza kulingana na muundo wa jina la barua pepe ulioweza kugundua) unaweza kutumia chombo kama [**https://github.com/ustayready/CredKing**](https://github.com/ustayready/CredKing) (ingawa inaonekana haijatunzwa) ambacho kitatumia AWS lambdas kubadilisha anwani ya IP.

## Post-Exploitation

Ikiwa umepata baadhi ya akreditif au kikao cha mtumiaji unaweza kufanya vitendo kadhaa kupata taarifa nyeti za mtumiaji na kujaribu kupandisha mamlaka:

{% content-ref url="gws-post-exploitation.md" %}
[gws-post-exploitation.md](gws-post-exploitation.md)
{% endcontent-ref %}

### GWS <-->GCP Pivoting

Soma zaidi kuhusu mbinu tofauti za pivoting kati ya GWS na GCP katika:

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## GWS <--> GCPW | GCDS | Directory Sync (AD & EntraID)

* **GCPW (Google Credential Provider for Windows)**: Hii ni njia ya kuingia moja kwa moja ambayo Google Workspaces inatoa ili watumiaji waweze kuingia kwenye kompyuta zao za Windows wakitumia **akreditif zao za Workspace**. Zaidi ya hayo, hii itahifadhi **tokens za kufikia Google Workspace** katika sehemu kadhaa kwenye PC.
* **GCDS (Google Cloud Directory Sync)**: Hii ni chombo ambacho kinaweza kutumika **kusawazisha watumiaji na vikundi vya active directory kwenye Workspace yako**. Chombo kinahitaji **akreditif za mtumiaji wa Workspace superuser na mtumiaji wa AD mwenye mamlaka**. Hivyo, inaweza kuwa inawezekana kuipata ndani ya seva ya kikoa ambayo itakuwa ikisawazisha watumiaji mara kwa mara.
* **Admin Directory Sync**: Inakuruhusu kusawazisha watumiaji kutoka AD na EntraID katika mchakato usio na seva kutoka [https://admin.google.com/ac/sync/externaldirectories](https://admin.google.com/ac/sync/externaldirectories).

{% content-ref url="gws-workspace-sync-attacks-gcpw-gcds-directory-sync-with-ad-and-entraid.md" %}
[gws-workspace-sync-attacks-gcpw-gcds-directory-sync-with-ad-and-entraid.md](gws-workspace-sync-attacks-gcpw-gcds-directory-sync-with-ad-and-entraid.md)
{% endcontent-ref %}

## Persistence

Ikiwa umepata baadhi ya akreditif au kikao cha mtumiaji angalia chaguzi hizi za kudumisha kudumu juu yake:

{% content-ref url="gws-persistence.md" %}
[gws-persistence.md](gws-persistence.md)
{% endcontent-ref %}

## Account Compromised Recovery

* Toka kwenye vikao vyote
* Badilisha nywila ya mtumiaji
* Tengeneza nambari mpya za akiba za 2FA
* Ondoa nywila za programu
* Ondoa programu za OAuth
* Ondoa vifaa vya 2FA
* Ondoa waandishi wa barua pepe
* Ondoa filters za barua pepe
* Ondoa barua pepe/ simu za urejelezi
* Ondoa simu za mkononi zenye uharibifu zilizowekwa
* Ondoa programu mbaya za Android
* Ondoa delegations mbaya za akaunti

## References

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - Hacking G Suite: The Power of Dark Apps Script Magic
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch na Beau Bullock - OK Google, How do I Red Team GSuite?

{% hint style="success" %}
Jifunze na fanya mazoezi ya AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Jifunze na fanya mazoezi ya GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa usajili**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuatilie** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za hacking kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
{% endhint %}
