# GWS - Workspace Pentesting

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* **ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ **Twitter** ЁЯРж рдкрд░ рд╣рдореЗрдВ **рдлреЙрд▓реЛ рдХрд░реЗрдВ** [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ PRs рдХреЛ рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>
{% endhint %}

## рдкреНрд░рд╡реЗрд╢ рдмрд┐рдВрджреБ

### Google рдкреНрд▓реЗрдЯрдлрд╛рд░реНрдо рдФрд░ OAuth рдРрдкреНрд╕ рдлрд╝рд┐рд╢рд┐рдВрдЧ

рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдЖрдк рд╡рд┐рднрд┐рдиреНрди Google рдкреНрд▓реЗрдЯрдлрд╛рд░реНрдореЛрдВ рдЬреИрд╕реЗ Drive, Chat, Groups... рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреАрдбрд╝рд┐рдд рдХреЛ рдлрд╝рд┐рд╢рд┐рдВрдЧ рд▓рд┐рдВрдХ рдХреИрд╕реЗ рднреЗрдЬ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ Google OAuth рдлрд╝рд┐рд╢рд┐рдВрдЧ рдХреИрд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

{% content-ref url="gws-google-platforms-phishing/" %}
[gws-google-platforms-phishing](gws-google-platforms-phishing/)
{% endcontent-ref %}

### рдкрд╛рд╕рд╡рд░реНрдб рд╕реНрдкреНрд░реЗрдЗрдВрдЧ

рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдкрд╛рдП рдЧрдП рд╕рднреА рдИрдореЗрд▓ (рдпрд╛ рдЖрдк рдЬрд┐рдирдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдИрдореЗрд▓ рдирд╛рдо рдкреИрдЯрд░реНрди рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИрдВ) рдХреЗ рд╕рд╛рде рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк [**https://github.com/ustayready/CredKing**](https://github.com/ustayready/CredKing) рдЬреИрд╕реЗ рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рдЕрдкреНрд░рдмрдВрдзрд┐рдд рд▓рдЧрддрд╛ рд╣реИ) рдЬреЛ IP рдкрддреЗ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП AWS рд▓реИрдореНрдмреНрдбрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛ред

## рдкреЛрд╕реНрдЯ-рдПрдХреНрд╕рдкреНрд▓реЙрдЗрдЯреЗрд╢рди

рдпрджрд┐ рдЖрдкрдиреЗ рдХреБрдЫ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╕рддреНрд░ рд╕реЗ рд╕рдордЭреМрддрд╛ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдЖрдк рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рд╕рдВрднрд╛рд╡рд┐рдд рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдФрд░ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рдХреНрд░рд┐рдпрд╛рдПрдБ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

{% content-ref url="gws-post-exploitation.md" %}
[gws-post-exploitation.md](gws-post-exploitation.md)
{% endcontent-ref %}

### GWS <-->GCP рдкрд┐рд╡реЛрдЯрд┐рдВрдЧ

GWS рдФрд░ GCP рдХреЗ рдмреАрдЪ рдкрд┐рд╡реЛрдЯ рдХрд░рдиреЗ рдХреА рд╡рд┐рднрд┐рдиреНрди рддрдХрдиреАрдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдкрдврд╝реЗрдВ:

{% content-ref url="../gcp-security/gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](../gcp-security/gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## GWS <--> GCPW | GCDS | рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╕рд┐рдВрдХ (AD & EntraID)

* **GCPW (Google Credential Provider for Windows)**: рдпрд╣ рдПрдХрд▓ рд╕рд╛рдЗрди-рдСрди рд╣реИ рдЬреЛ Google Workspaces рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдкрдиреЗ Windows PCs рдореЗрдВ **рдЕрдкрдиреЗ Workspace рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд▓реЙрдЧрд┐рди рдХрд░ рд╕рдХреЗрдВред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ **Google Workspace рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЯреЛрдХрди** рдХреЛ PC рдореЗрдВ рдХреБрдЫ рд╕реНрдерд╛рдиреЛрдВ рдкрд░ **рд╕реНрдЯреЛрд░** рдХрд░реЗрдЧрд╛ред
* **GCDS (Google CLoud DIrectory Sync)**: рдпрд╣ рдПрдХ рдЯреВрд▓ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ **рдЖрдкрдХреЗ рд╕рдХреНрд░рд┐рдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдФрд░ рд╕рдореВрд╣реЛрдВ рдХреЛ рдЖрдкрдХреЗ Workspace рдореЗрдВ рд╕рд┐рдВрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред рдЗрд╕ рдЯреВрд▓ рдХреЛ **Workspace рд╕реБрдкрд░рдпреВрдЬрд░ рдФрд░ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд AD рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛** рдХреЗ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдЗрд╕рд▓рд┐рдП, рдпрд╣ рд╕рдВрднрд╡ рд╣реИ рдХрд┐ рдЗрд╕реЗ рдПрдХ рдбреЛрдореЗрди рд╕рд░реНрд╡рд░ рдХреЗ рдЕрдВрджрд░ рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХреЗ рдЬреЛ рд╕рдордп-рд╕рдордп рдкрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░ рд░рд╣рд╛ рд╣реЛред
* **рдПрдбрдорд┐рди рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╕рд┐рдВрдХ**: рдпрд╣ рдЖрдкрдХреЛ [https://admin.google.com/ac/sync/externaldirectories](https://admin.google.com/ac/sync/externaldirectories) рд╕реЗ рдПрдХ рд╕рд░реНрд╡рд░рд▓реЗрд╕ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдореЗрдВ AD рдФрд░ EntraID рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

{% content-ref url="gws-workspace-sync-attacks-gcpw-gcds-gps-directory-sync-with-ad-and-entraid/" %}
[gws-workspace-sync-attacks-gcpw-gcds-gps-directory-sync-with-ad-and-entraid](gws-workspace-sync-attacks-gcpw-gcds-gps-directory-sync-with-ad-and-entraid/)
{% endcontent-ref %}

## рд╕реНрдерд┐рд░рддрд╛

рдпрджрд┐ рдЖрдкрдиреЗ рдХреБрдЫ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╕рддреНрд░ рд╕реЗ рд╕рдордЭреМрддрд╛ рдХрд┐рдпрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЗрди рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ:

{% content-ref url="gws-persistence.md" %}
[gws-persistence.md](gws-persistence.md)
{% endcontent-ref %}

## рдЦрд╛рддрд╛ рд╕рдордЭреМрддрд╛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрддрд┐

* рд╕рднреА рд╕рддреНрд░реЛрдВ рд╕реЗ рд▓реЙрдЧ рдЖрдЙрдЯ рдХрд░реЗрдВ
* рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдмрджрд▓реЗрдВ
* рдирдП 2FA рдмреИрдХрдЕрдк рдХреЛрдб рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВ
* рдРрдк рдкрд╛рд╕рд╡рд░реНрдб рд╣рдЯрд╛ рджреЗрдВ
* OAuth рдРрдкреНрд╕ рд╣рдЯрд╛ рджреЗрдВ
* 2FA рдЙрдкрдХрд░рдг рд╣рдЯрд╛ рджреЗрдВ
* рдИрдореЗрд▓ рдлреЙрд░рд╡рд░реНрдбрд░ рд╣рдЯрд╛ рджреЗрдВ
* рдИрдореЗрд▓ рдлрд╝рд┐рд▓реНрдЯрд░ рд╣рдЯрд╛ рджреЗрдВ
* рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрддрд┐ рдИрдореЗрд▓/рдлреЛрди рд╣рдЯрд╛ рджреЗрдВ
* рджреБрд░реНрднрд╛рд╡рдирд╛рдкреВрд░реНрдг рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рд╕реНрдорд╛рд░реНрдЯрдлрд╝реЛрди рд╣рдЯрд╛ рджреЗрдВ
* рдЦрд░рд╛рдм Android рдРрдкреНрд╕ рд╣рдЯрд╛ рджреЗрдВ
* рдЦрд░рд╛рдм рдЦрд╛рддрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рд╣рдЯрд╛ рджреЗрдВ

## рд╕рдВрджрд░реНрдн

* [https://www.youtube-nocookie.com/embed/6AsVUS79gLw](https://www.youtube-nocookie.com/embed/6AsVUS79gLw) - Matthew Bryant - G Suite рд╣реИрдХрд┐рдВрдЧ: рдбрд╛рд░реНрдХ рдРрдкреНрд╕ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЬрд╛рджреВ рдХреА рд╢рдХреНрддрд┐
* [https://www.youtube.com/watch?v=KTVHLolz6cE](https://www.youtube.com/watch?v=KTVHLolz6cE) - Mike Felch рдФрд░ Beau Bullock - рдареАрдХ рд╣реИ Google, рдореИрдВ GSuite рдХреЛ рд░реЗрдб рдЯреАрдо рдХреИрд╕реЗ рдХрд░реВрдБ?

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* **ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ **Twitter** ЁЯРж рдкрд░ рд╣рдореЗрдВ **рдлреЙрд▓реЛ рдХрд░реЗрдВ** [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ PRs рдХреЛ рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>
{% endhint %}
