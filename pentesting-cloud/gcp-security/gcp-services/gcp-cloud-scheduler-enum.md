# GCP - Cloud Scheduler Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Temel Bilgiler

Google Cloud Scheduler, belirli zamanlarda, tarihlerde veya aralıklarda rastgele işler—örneğin, toplu, büyük veri işleri, bulut altyapı operasyonları—çalıştırmanıza olanak tanıyan tamamen yönetilen bir **cron job hizmetidir**. Çeşitli görevleri **düzenli bir programda otomatikleştirme** yolu sağlayarak Google Cloud hizmetleriyle entegre edilmiştir.

Saldırgan bir bakış açısıyla bu harika görünse de, aslında o kadar ilginç değildir çünkü hizmet yalnızca belirli bir zamanda belirli basit eylemleri planlamaya izin verir ve rastgele kod çalıştırmaz.

Bu yazının yazıldığı anda, bu hizmetin planlamaya izin verdiği eylemler şunlardır:

<figure><img src="../../../.gitbook/assets/image (347).png" alt="" width="563"><figcaption></figcaption></figure>

* **HTTP**: İsteğin başlıklarını ve gövdesini tanımlayarak bir HTTP isteği gönderin.
* **Pub/Sub**: Belirli bir konuya bir mesaj gönderin.
* **App Engine HTTP**: App Engine'de oluşturulmuş bir uygulamaya bir HTTP isteği gönderin.
* **Workflows**: Bir GCP Workflow'u çağırın.

## Hizmet Hesapları

Her zaman her zamanlayıcı için bir hizmet hesabı gerekli değildir. **Pub/Sub** ve **App Engine HTTP** türleri herhangi bir hizmet hesabı gerektirmez. **Workflow** bir hizmet hesabı gerektirir, ancak yalnızca iş akışını çağırır.\
Son olarak, normal HTTP türü bir hizmet hesabı gerektirmez, ancak iş akışının bazı türde bir kimlik doğrulama gerektirdiğini belirtmek ve gönderilen HTTP isteğine bir **OAuth token veya OIDC token eklemek** mümkündür.

{% hint style="danger" %}
Bu nedenle, **HTTP türünü** kötüye kullanarak hizmet hesaplarından **OIDC** token'ını çalmak ve **OAuth** token'ını kötüye kullanmak mümkündür. Bununla ilgili daha fazla bilgi için ayrıcalık yükseltme sayfasına bakın.
{% endhint %}

OAuth token'ının gönderilen kapsamını sınırlamak mümkündür, ancak varsayılan olarak `cloud-platform` olacaktır.

## Enumeration
```bash
# Get schedulers in a location
gcloud scheduler jobs list --location us-central1

# Get information of an specific scheduler
gcloud scheduler jobs describe --location us-central1 <scheduler-name>
```
## Yetki Yükseltme

{% content-ref url="../gcp-privilege-escalation/gcp-cloudscheduler-privesc.md" %}
[gcp-cloudscheduler-privesc.md](../gcp-privilege-escalation/gcp-cloudscheduler-privesc.md)
{% endcontent-ref %}

{% hint style="success" %}
AWS Hacking'i öğrenin ve pratik yapın:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Eğitim AWS Kırmızı Takım Uzmanı (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve pratik yapın: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Eğitim GCP Kırmızı Takım Uzmanı (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın ya da **Twitter'da** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'i takip edin.**
* **Hacking ipuçlarını paylaşmak için** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gönderin.

</details>
{% endhint %}
