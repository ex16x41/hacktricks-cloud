# GCP - Security Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Basic Information

Google Cloud Platform (GCP) Security inajumuisha **seti kamili ya zana** na mbinu zilizoundwa kuhakikisha **usalama** wa rasilimali na data ndani ya mazingira ya Google Cloud, iliyogawanywa katika sehemu kuu nne: **Kituo cha Amri za Usalama, Ugunduzi na Udhibiti, Ulinzi wa Data na Zero Trust.**

## **Kituo cha Amri za Usalama**

Kituo cha Amri za Usalama cha Google Cloud Platform (GCP) ni **chombo cha usalama na usimamizi wa hatari kwa rasilimali za GCP** ambacho kinawawezesha mashirika kupata mwonekano na udhibiti wa mali zao za wingu. Kinasaidia **kubaini na kujibu vitisho** kwa kutoa uchambuzi wa usalama wa kina, **kubaini makosa ya usanidi**, kuhakikisha **kufuata** viwango vya usalama, na **kuunganishwa** na zana nyingine za usalama kwa ajili ya ugunduzi wa vitisho na majibu ya kiotomatiki.

* **Muonekano**: Paneli ya **kuonyesha muonekano** wa matokeo yote ya Kituo cha Amri za Usalama.
* Vitisho: \[Premium Required] Paneli ya kuonyesha **vitisho vilivyogunduliwa. Angalia zaidi kuhusu Vitisho hapa chini**
* **Uthibitisho wa Usalama**: Paneli ya **kuonyesha makosa ya usanidi yaliyopatikana katika akaunti ya GCP**.
* **Ufuatiliaji**: \[Premium required] Sehemu hii inaruhusu **kujaribu mazingira yako ya GCP dhidi ya ukaguzi mbalimbali wa ufuatiliaji** (kama vile PCI-DSS, NIST 800-53, viwango vya CIS...) juu ya shirika.
* **Mali**: Sehemu hii **inaonyesha mali zote zinazotumika**, muhimu sana kwa wasimamizi wa mifumo (na labda mshambuliaji) kuona kinachoendelea katika ukurasa mmoja.
* **Matokeo**: Hii **inaunganisha** katika **meza matokeo** ya sehemu tofauti za Usalama wa GCP (sio tu Kituo cha Amri) ili kuwa na uwezo wa kuona kwa urahisi matokeo muhimu.
* **Vyanzo**: Inaonyesha **muhtasari wa matokeo** ya sehemu zote tofauti za usalama wa GCP **kwa sehemu**.
* **Msimamo**: \[Premium Required] Msimamo wa Usalama unaruhusu **kufafanua, kutathmini, na kufuatilia usalama wa mazingira ya GCP**. Inafanya kazi kwa kuunda sera inayofafanua vikwazo au vizuizi vinavyodhibiti/kufuatilia rasilimali katika GCP. Kuna templeti kadhaa za msimamo zilizowekwa awali ambazo zinaweza kupatikana katika [https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy](https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy)

### **Vitisho**

Kutoka kwa mtazamo wa mshambuliaji, hii huenda ikawa **kipengele cha kuvutia zaidi kwani inaweza kugundua mshambuliaji**. Hata hivyo, kumbuka kwamba kipengele hiki kinahitaji **Premium** (ambacho kinamaanisha kwamba kampuni itahitaji kulipa zaidi), hivyo **huenda kisifunguliwe**.

Kuna aina 3 za mitambo ya ugunduzi wa vitisho:

* **Vitisho vya Matukio**: Matokeo yanayozalishwa kwa kulinganisha matukio kutoka **Cloud Logging** kulingana na **kanuni zilizoundwa** ndani na Google. Inaweza pia kuchanganua **Google Workspace logs**.
* Inawezekana kupata maelezo ya kanuni zote za [**ugunduzi katika nyaraka**](https://cloud.google.com/security-command-center/docs/concepts-event-threat-detection-overview?authuser=2#how\_works)
* **Vitisho vya Kontena**: Matokeo yanayozalishwa baada ya kuchambua tabia ya kiwango cha chini ya kernel ya kontena.
* **Vitisho vya Kawaida**: Kanuni zilizoundwa na kampuni.

Inawezekana kupata majibu yaliyopendekezwa kwa vitisho vilivyogunduliwa vya aina zote mbili katika [https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response](https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response)

### Enumeration

{% code overflow="wrap" %}
```bash
# Get a source
gcloud scc sources describe <org-number> --source=5678
## If the response is that the service is disabled or that the source is not found, then, it isn't enabled

# Get notifications
gcloud scc notifications list <org-number>

# Get findings (if not premium these are just vulnerabilities)
gcloud scc findings list <org-number>
```
{% endcode %}

### Post Exploitation

{% content-ref url="../gcp-post-exploitation/gcp-security-post-exploitation.md" %}
[gcp-security-post-exploitation.md](../gcp-post-exploitation/gcp-security-post-exploitation.md)
{% endcontent-ref %}

## Detections and Controls

* **Chronicle SecOps**: Suite ya hali ya juu ya operesheni za usalama iliyoundwa kusaidia timu kuongeza kasi na athari za operesheni za usalama, ikiwa ni pamoja na ugunduzi wa vitisho, uchunguzi, na majibu.
* **reCAPTCHA Enterprise**: Huduma inayolinda tovuti kutokana na shughuli za udanganyifu kama vile scraping, credential stuffing, na mashambulizi ya kiotomatiki kwa kutofautisha kati ya watumiaji wa kibinadamu na bots.
* **Web Security Scanner**: Chombo cha skanning ya usalama kiotomatiki kinachogundua udhaifu na masuala ya kawaida ya usalama katika programu za wavuti zinazohostiwa kwenye Google Cloud au huduma nyingine za wavuti.
* **Risk Manager**: Chombo cha utawala, hatari, na kufuata (GRC) kinachosaidia mashirika kutathmini, kuandika, na kuelewa hali yao ya hatari ya Google Cloud.
* **Binary Authorization**: Udhibiti wa usalama kwa kontena ambao unahakikisha picha za kontena zinazotegemewa pekee ndizo zinazopelekwa kwenye makundi ya Kubernetes Engine kulingana na sera zilizowekwa na biashara.
* **Advisory Notifications**: Huduma inayotoa arifa na ushauri kuhusu masuala ya usalama yanayoweza kutokea, udhaifu, na hatua zinazopendekezwa ili kuweka rasilimali salama.
* **Access Approval**: Kipengele kinachowezesha mashirika kutaka idhini wazi kabla ya wafanyakazi wa Google kuweza kufikia data zao au mipangilio, ikitoa safu ya ziada ya udhibiti na ukaguzi.
* **Managed Microsoft AD**: Huduma inayotoa Microsoft Active Directory (AD) iliyosimamiwa ambayo inaruhusu watumiaji kutumia programu na mizigo inayotegemea Microsoft AD iliyopo kwenye Google Cloud.

## Data Protection

* **Sensitive Data Protection**: Zana na mbinu zinazolenga kulinda data nyeti, kama vile taarifa za kibinafsi au mali ya akili, dhidi ya ufikiaji au kufichuliwa bila idhini.
* **Data Loss Prevention (DLP)**: Seti ya zana na michakato inayotumika kutambua, kufuatilia, na kulinda data inayotumika, inayoenda, na iliyohifadhiwa kupitia ukaguzi wa kina wa maudhui na kwa kutumia seti kamili ya sheria za ulinzi wa data.
* **Certificate Authority Service**: Huduma inayoweza kupanuka na salama inayorahisisha na kuharakisha usimamizi, uhamasishaji, na upya wa vyeti vya SSL/TLS kwa huduma za ndani na nje.
* **Key Management**: Huduma ya msingi wa wingu inayokuruhusu kusimamia funguo za cryptographic kwa programu zako, ikiwa ni pamoja na uundaji, uagizaji, kubadilisha, matumizi, na uharibifu wa funguo za usimbaji. Maelezo zaidi katika:

{% content-ref url="gcp-kms-enum.md" %}
[gcp-kms-enum.md](gcp-kms-enum.md)
{% endcontent-ref %}

* **Certificate Manager**: Huduma inayosimamia na kuhamasisha vyeti vya SSL/TLS, kuhakikisha uhusiano salama na wa kusimbwa kwa huduma zako za wavuti na programu.
* **Secret Manager**: Mfumo salama na rahisi wa kuhifadhi funguo za API, nywila, vyeti, na data nyeti nyingine, ambayo inaruhusu ufikiaji na usimamizi rahisi na salama wa siri hizi katika programu. Maelezo zaidi katika:

{% content-ref url="gcp-secrets-manager-enum.md" %}
[gcp-secrets-manager-enum.md](gcp-secrets-manager-enum.md)
{% endcontent-ref %}

## Zero Trust

* **BeyondCorp Enterprise**: Jukwaa la usalama la zero-trust linalowezesha ufikiaji salama wa programu za ndani bila haja ya VPN ya jadi, kwa kutegemea uthibitisho wa uaminifu wa mtumiaji na kifaa kabla ya kutoa ufikiaji.
* **Policy Troubleshooter**: Chombo kilichoundwa kusaidia wasimamizi kuelewa na kutatua masuala ya ufikiaji katika shirika lao kwa kutambua kwa nini mtumiaji ana ufikiaji wa rasilimali fulani au kwa nini ufikiaji ulikataliwa, hivyo kusaidia katika utekelezaji wa sera za zero-trust.
* **Identity-Aware Proxy (IAP)**: Huduma inayodhibiti ufikiaji wa programu za wingu na VMs zinazotembea kwenye Google Cloud, kwenye tovuti, au mawingu mengine, kulingana na utambulisho na muktadha wa ombi badala ya mtandao ambao ombi linatoka.
* **VPC Service Controls**: Mipaka ya usalama inayotoa safu za ziada za ulinzi kwa rasilimali na huduma zinazohostiwa katika Wingu la Kibinafsi la Google (VPC), kuzuia uhamasishaji wa data na kutoa udhibiti wa ufikiaji wa kina.
* **Access Context Manager**: Sehemu ya BeyondCorp Enterprise ya Google Cloud, chombo hiki husaidia kufafanua na kutekeleza sera za udhibiti wa ufikiaji wa kina kulingana na utambulisho wa mtumiaji na muktadha wa ombi lao, kama vile hali ya usalama wa kifaa, anwani ya IP, na zaidi.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
