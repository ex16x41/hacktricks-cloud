# GCP - Security Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 游눫 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 游냕 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Basic Information

Google Cloud Platform (GCP) Security obuhvata **sveobuhvatan skup alata** i praksi dizajniranih da obezbede **bezbednost** resursa i podataka unutar Google Cloud okru쬰nja, podeljen u 캜etiri glavne sekcije: **Security Command Center, Detections and Controls, Data Protection i Zero Trust.**

## **Security Command Center**

Google Cloud Platform (GCP) Security Command Center (SCC) je **alat za upravljanje bezbedno코캖u i rizikom za GCP** resurse koji omogu캖ava organizacijama da steknu uvid i kontrolu nad svojim cloud imovinom. Poma쬰 u **otkrivanju i odgovaranju na pretnje** nude캖i sveobuhvatnu analitiku bezbednosti, **identifikuju캖i pogre코ne konfiguracije**, obezbe캠uju캖i **usagla코enost** sa bezbednosnim standardima i **integri코u캖i** se sa drugim bezbednosnim alatima za automatsko otkrivanje i odgovor na pretnje.

* **Pregled**: Panel za **vizualizaciju pregleda** svih rezultata Security Command Center-a.
* Pretnje: \[Premium Required] Panel za vizualizaciju svih **otkrivenih pretnji. Proverite vi코e o Pretnjama ispod**
* **Ranljivosti**: Panel za **vizualizaciju prona캠enih pogre코nih konfiguracija u GCP nalogu**.
* **Usagla코enost**: \[Premium required] Ova sekcija omogu캖ava **testiranje va코eg GCP okru쬰nja prema nekoliko provere usagla코enosti** (kao 코to su PCI-DSS, NIST 800-53, CIS benchmark...) preko organizacije.
* **Imovina**: Ova sekcija **prikazuje svu imovinu koja se koristi**, veoma korisno za sysadmins (i mo쬯a napada캜e) da vide 코ta se pokre캖e na jednoj stranici.
* **Nalazi**: Ova **agregira** u **tabeli nalaze** razli캜itih sekcija GCP Security (ne samo Command Center) kako bi se lako vizualizovali va쬹i nalazi.
* **Izvori**: Prikazuje **rezime nalaza** svih razli캜itih sekcija GCP bezbednosti **po sekciji**.
* **Postura**: \[Premium Required] Security Posture omogu캖ava **definisanje, procenu i pra캖enje bezbednosti GCP okru쬰nja**. Radi tako 코to kreira politiku koja defini코e ograni캜enja ili restrikcije koje kontroli코u/pra캖enje resursa u GCP. Postoji nekoliko unapred definisanih 코ablona posture koji se mogu na캖i na [https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy](https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy)

### **Threats**

Iz perspektive napada캜a, ovo je verovatno **najzanimljivija funkcija jer mo쬰 otkriti napada캜a**. Me캠utim, imajte na umu da ova funkcija zahteva **Premium** (코to zna캜i da 캖e kompanija morati da plati vi코e), tako da **mo쬯a ne캖e biti ni omogu캖ena**.

Postoje 3 tipa mehanizama za otkrivanje pretnji:

* **Event Threats**: Nalazi proizvedeni uskla캠ivanjem doga캠aja iz **Cloud Logging** na osnovu **pravila koja je kreirao** Google. Tako캠e mo쬰 skenirati **Google Workspace logove**.
* Mogu캖e je prona캖i opis svih [**pravila otkrivanja u dokumentaciji**](https://cloud.google.com/security-command-center/docs/concepts-event-threat-detection-overview?authuser=2#how\_works)
* **Container Threats**: Nalazi proizvedeni nakon analize niskonivoa pona코anja jezgra kontejnera.
* **Custom Threats**: Pravila koja kreira kompanija.

Mogu캖e je prona캖i preporu캜ene odgovore na otkrivene pretnje oba tipa na [https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response](https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response)

### Enumeration

{% code overflow="wrap" %}
```bash
# Get a source
gcloud scc sources describe <org-number> --source=5678
## If the response is that the service is disabled or that the source is not found, then, it isn't enabled

# Get notifications
gcloud scc notifications list <org-number>

# Get findings (if not premium these are just vulnerabilities)
gcloud scc findings list <org-number>
```
{% endcode %}

### Post Exploatacija

{% content-ref url="../gcp-post-exploitation/gcp-security-post-exploitation.md" %}
[gcp-security-post-exploitation.md](../gcp-post-exploitation/gcp-security-post-exploitation.md)
{% endcontent-ref %}

## Detekcije i Kontrole

* **Chronicle SecOps**: Napredni paket operacija bezbednosti dizajniran da pomogne timovima da pove캖aju svoju brzinu i uticaj operacija bezbednosti, uklju캜uju캖i detekciju pretnji, istragu i odgovor.
* **reCAPTCHA Enterprise**: Usluga koja 코titi veb sajtove od prevarantskih aktivnosti kao 코to su scraping, credential stuffing i automatski napadi tako 코to razlikuje ljudske korisnike od botova.
* **Web Security Scanner**: Automatizovani alat za skeniranje bezbednosti koji detektuje ranjivosti i uobi캜ajene bezbednosne probleme u veb aplikacijama hostovanim na Google Cloud-u ili drugoj veb usluzi.
* **Risk Manager**: Alat za upravljanje, rizik i uskla캠enost (GRC) koji poma쬰 organizacijama da procene, dokumentuju i razumeju svoj rizik na Google Cloud-u.
* **Binary Authorization**: Kontrola bezbednosti za kontejnere koja osigurava da se samo pouzdane slike kontejnera implementiraju na Kubernetes Engine klastere prema politikama koje postavlja preduze캖e.
* **Advisory Notifications**: Usluga koja pru쬬 upozorenja i savete o potencijalnim bezbednosnim problemima, ranjivostima i preporu캜enim akcijama za o캜uvanje resursa.
* **Access Approval**: Funkcija koja omogu캖ava organizacijama da zahtevaju eksplicitno odobrenje pre nego 코to Google zaposleni mogu pristupiti njihovim podacima ili konfiguracijama, pru쬬ju캖i dodatni sloj kontrole i revizibilnosti.
* **Managed Microsoft AD**: Usluga koja nudi upravljani Microsoft Active Directory (AD) koji omogu캖ava korisnicima da koriste svoje postoje캖e aplikacije i radne optere캖enja zavisne od Microsoft AD-a na Google Cloud-u.

## Za코tita Podataka

* **Za코tita Osetljivih Podataka**: Alati i prakse usmerene na za코titu osetljivih podataka, kao 코to su li캜ne informacije ili intelektualna svojina, od neovla코캖enog pristupa ili izlaganja.
* **Prevencija Gubitka Podataka (DLP)**: Skup alata i procesa koji se koriste za identifikaciju, pra캖enje i za코titu podataka u upotrebi, u pokretu i u mirovanju kroz duboku inspekciju sadr쬬ja i primenu sveobuhvatnog skupa pravila za코tite podataka.
* **Usluga Sertifikacione Autoritete**: Skalabilna i sigurna usluga koja pojednostavljuje i automatizuje upravljanje, implementaciju i obnovu SSL/TLS sertifikata za interne i eksterne usluge.
* **Upravljanje Klju캜evima**: Usluga zasnovana na oblaku koja vam omogu캖ava da upravljate kriptografskim klju캜evima za va코e aplikacije, uklju캜uju캖i kreiranje, uvoz, rotaciju, kori코캖enje i uni코tavanje klju캜eva za enkripciju. Vi코e informacija u:

{% content-ref url="gcp-kms-enum.md" %}
[gcp-kms-enum.md](gcp-kms-enum.md)
{% endcontent-ref %}

* **Upravlja캜 Sertifikatima**: Usluga koja upravlja i implementira SSL/TLS sertifikate, osiguravaju캖i sigurne i enkriptovane veze sa va코im veb uslugama i aplikacijama.
* **Upravlja캜 Tajnama**: Siguran i prakti캜an sistem za skladi코tenje API klju캜eva, lozinki, sertifikata i drugih osetljivih podataka, koji omogu캖ava lako i sigurno pristupanje i upravljanje ovim tajnama u aplikacijama. Vi코e informacija u:

{% content-ref url="gcp-secrets-manager-enum.md" %}
[gcp-secrets-manager-enum.md](gcp-secrets-manager-enum.md)
{% endcontent-ref %}

## Zero Trust

* **BeyondCorp Enterprise**: Platforma za bezbednost bez poverenja koja omogu캖ava siguran pristup internim aplikacijama bez potrebe za tradicionalnim VPN-om, oslanjaju캖i se na verifikaciju poverenja korisnika i ure캠aja pre nego 코to se odobri pristup.
* **Policy Troubleshooter**: Alat dizajniran da pomogne administratorima da razumeju i re코e probleme pristupa u svojoj organizaciji identifikovanjem za코to korisnik ima pristup odre캠enim resursima ili za코to je pristup odbijen, 캜ime se poma쬰 u sprovo캠enju politika bez poverenja.
* **Identity-Aware Proxy (IAP)**: Usluga koja kontroli코e pristup cloud aplikacijama i VM-ovima koji rade na Google Cloud-u, lokalno ili na drugim cloud-ovima, na osnovu identiteta i konteksta zahteva, a ne na osnovu mre쬰 iz koje zahtev poti캜e.
* **VPC Service Controls**: Bezbednosne granice koje pru쬬ju dodatne slojeve za코tite resursima i uslugama hostovanim u Google Cloud-ovom Virtuelnom Privatnom Oblaku (VPC), spre캜avaju캖i exfiltraciju podataka i pru쬬ju캖i granularnu kontrolu pristupa.
* **Access Context Manager**: Deo Google Cloud-ovog BeyondCorp Enterprise, ovaj alat poma쬰 u definisanju i sprovo캠enju politika kontrole pristupa zasnovanih na identitetu korisnika i kontekstu njihovog zahteva, kao 코to su bezbednosni status ure캠aja, IP adresa i jo코 mnogo toga.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 游눫 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 游냕 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
