# GCP - Security Enum

{% hint style="success" %}
NauÄite i veÅ¾bajte AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
NauÄite i veÅ¾bajte GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¾ite HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Delite hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}

## Osnovne Informacije

Google Cloud Platform (GCP) Security obuhvata **sveobuhvatan set alata** i praksi dizajniranih da osiguraju **bezbednost** resursa i podataka unutar Google Cloud okruÅ¾enja, podeljenih u Äetiri glavne sekcije: **Security Command Center, Detections and Controls, Data Protection i Zero Trust.**

## **Security Command Center**

Google Cloud Platform (GCP) Security Command Center (SCC) je **alat za upravljanje bezbednoÅ¡Ä‡u i rizicima za GCP** resurse koji omoguÄ‡ava organizacijama da steknu uvid u i kontrolu nad svojim cloud resursima. PomaÅ¾e u **otkrivanju i odgovoru na pretnje** nudeÄ‡i sveobuhvatne bezbednosne analitike, **identifikaciju pogreÅ¡nih konfiguracija**, osiguranje **usklaÄ‘enosti** sa bezbednosnim standardima i **integraciju** sa drugim bezbednosnim alatima za automatsko otkrivanje i odgovor na pretnje.

* **Pregled**: Panel za **vizualizaciju pregleda** svih rezultata Security Command Center-a.
* Pretnje: \[Potrebna je Premium verzija] Panel za vizualizaciju svih **otkrivenih pretnji. Proverite viÅ¡e o pretnjama ispod**
* **Ranljivosti**: Panel za **vizualizaciju pronaÄ‘enih pogreÅ¡nih konfiguracija u GCP nalogu**.
* **UsklaÄ‘enost**: \[Potrebna je Premium verzija] Ova sekcija omoguÄ‡ava **testiranje vaÅ¡eg GCP okruÅ¾enja prema nekoliko provera usklaÄ‘enosti** (kao Å¡to su PCI-DSS, NIST 800-53, CIS benchmark...) preko organizacije.
* **Resursi**: Ova sekcija **prikazuje sve koriÅ¡Ä‡ene resurse**, veoma korisno za sistem administratore (i moÅ¾da napadaÄe) da vide Å¡ta je pokrenuto na jednoj stranici.
* **Nalazi**: Ovo **agregira** u **tabeli nalaze** iz razliÄitih sekcija GCP Security (ne samo Command Center) kako bi se lako vizualizovali vaÅ¾ni nalazi.
* **Izvori**: Prikazuje **rezime nalaza** iz svih razliÄitih sekcija GCP bezbednosti **po sekcijama**.
* **Stav**: \[Potrebna je Premium verzija] Security Posture omoguÄ‡ava **definisanje, procenu i praÄ‡enje bezbednosti GCP okruÅ¾enja**. Radi tako Å¡to kreira politiku koja definiÅ¡e ograniÄenja ili restrikcije koje kontroliÅ¡u/monitoriÅ¡u resurse u GCP. Postoji nekoliko unapred definisanih Å¡ablona stavova koji se mogu naÄ‡i na [https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy](https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy)

### **Pretnje**

Iz perspektive napadaÄa, ovo je verovatno **najzanimljivija funkcija jer moÅ¾e otkriti napadaÄa**. MeÄ‘utim, imajte na umu da ova funkcija zahteva **Premium** (Å¡to znaÄi da Ä‡e kompanija morati da plati viÅ¡e), tako da **moÅ¾da neÄ‡e biti ni omoguÄ‡ena**.&#x20;

Postoje 3 tipa mehanizama za otkrivanje pretnji:

* **Event Threats**: Nalazi proizvedeni usklaÄ‘ivanjem dogaÄ‘aja iz **Cloud Logging** na osnovu **pravila kreiranih** interno od strane Google-a. TakoÄ‘e moÅ¾e skenirati **Google Workspace logove**.
* MoguÄ‡e je pronaÄ‡i opis svih [**pravila za otkrivanje u dokumentaciji**](https://cloud.google.com/security-command-center/docs/concepts-event-threat-detection-overview?authuser=2#how\_works)
* **Container Threats**: Nalazi proizvedeni nakon analize niskonivojskog ponaÅ¡anja kernela kontejnera.
* **Custom Threats**: Pravila kreirana od strane kompanije.

MoguÄ‡e je pronaÄ‡i preporuÄene odgovore na otkrivene pretnje oba tipa na [https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response](https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response)

### Enumeracija

{% code overflow="wrap" %}
```bash
# Get a source
gcloud scc sources describe <org-number> --source=5678
## If the response is that the service is disabled or that the source is not found, then, it isn't enabled

# Get notifications
gcloud scc notifications list <org-number>

# Get findings (if not premium these are just vulnerabilities)
gcloud scc findings list <org-number>
```
{% endcode %}

### Post Exploitation

{% content-ref url="../gcp-post-exploitation/gcp-security-post-exploitation.md" %}
[gcp-security-post-exploitation.md](../gcp-post-exploitation/gcp-security-post-exploitation.md)
{% endcontent-ref %}

## Detections and Controls

* **Chronicle SecOps**: Napredni paket za bezbednosne operacije dizajniran da pomogne timovima da poveÄ‡aju brzinu i uticaj bezbednosnih operacija, ukljuÄujuÄ‡i detekciju pretnji, istragu i odgovor.
* **reCAPTCHA Enterprise**: Servis koji Å¡titi veb sajtove od prevarantskih aktivnosti kao Å¡to su scraping, credential stuffing i automatizovani napadi, razlikujuÄ‡i ljudske korisnike od botova.
* **Web Security Scanner**: Automatizovani alat za bezbednosno skeniranje koji otkriva ranjivosti i uobiÄajene bezbednosne probleme u veb aplikacijama hostovanim na Google Cloud ili drugom veb servisu.
* **Risk Manager**: Alat za upravljanje, rizik i usklaÄ‘enost (GRC) koji pomaÅ¾e organizacijama da procene, dokumentuju i razumeju svoj rizik na Google Cloud.
* **Binary Authorization**: Bezbednosna kontrola za kontejnere koja osigurava da se samo pouzdane slike kontejnera implementiraju na Kubernetes Engine klasterima prema politikama koje postavlja preduzeÄ‡e.
* **Advisory Notifications**: Servis koji pruÅ¾a upozorenja i savete o potencijalnim bezbednosnim problemima, ranjivostima i preporuÄenim akcijama za odrÅ¾avanje resursa sigurnim.
* **Access Approval**: Funkcija koja omoguÄ‡ava organizacijama da zahtevaju eksplicitno odobrenje pre nego Å¡to Google zaposleni mogu pristupiti njihovim podacima ili konfiguracijama, pruÅ¾ajuÄ‡i dodatni sloj kontrole i revizije.
* **Managed Microsoft AD**: Servis koji nudi upravljani Microsoft Active Directory (AD) koji omoguÄ‡ava korisnicima da koriste svoje postojeÄ‡e aplikacije i radna optereÄ‡enja zavisna od Microsoft AD na Google Cloud.

## Data Protection

* **Sensitive Data Protection**: Alati i prakse usmerene na zaÅ¡titu osetljivih podataka, kao Å¡to su liÄne informacije ili intelektualna svojina, od neovlaÅ¡Ä‡enog pristupa ili izlaganja.
* **Data Loss Prevention (DLP)**: Set alata i procesa koji se koriste za identifikaciju, praÄ‡enje i zaÅ¡titu podataka u upotrebi, u pokretu i u mirovanju kroz dubinsku inspekciju sadrÅ¾aja i primenu sveobuhvatnog seta pravila za zaÅ¡titu podataka.
* **Certificate Authority Service**: Skalabilan i siguran servis koji pojednostavljuje i automatizuje upravljanje, implementaciju i obnavljanje SSL/TLS sertifikata za interne i eksterne servise.
* **Key Management**: Cloud servis koji omoguÄ‡ava upravljanje kriptografskim kljuÄevima za vaÅ¡e aplikacije, ukljuÄujuÄ‡i kreiranje, uvoz, rotaciju, koriÅ¡Ä‡enje i uniÅ¡tavanje enkripcijskih kljuÄeva. ViÅ¡e informacija u:

{% content-ref url="gcp-kms-enum.md" %}
[gcp-kms-enum.md](gcp-kms-enum.md)
{% endcontent-ref %}

* **Certificate Manager**: Servis koji upravlja i implementira SSL/TLS sertifikate, osiguravajuÄ‡i sigurne i enkriptovane veze sa vaÅ¡im veb servisima i aplikacijama.
* **Secret Manager**: Siguran i praktiÄan sistem za skladiÅ¡tenje API kljuÄeva, lozinki, sertifikata i drugih osetljivih podataka, koji omoguÄ‡ava jednostavan i siguran pristup i upravljanje ovim tajnama u aplikacijama. ViÅ¡e informacija u:

{% content-ref url="gcp-secrets-manager-enum.md" %}
[gcp-secrets-manager-enum.md](gcp-secrets-manager-enum.md)
{% endcontent-ref %}

## Zero Trust

* **BeyondCorp Enterprise**: Zero-trust bezbednosna platforma koja omoguÄ‡ava siguran pristup internim aplikacijama bez potrebe za tradicionalnim VPN-om, oslanjajuÄ‡i se na verifikaciju poverenja korisnika i ureÄ‘aja pre nego Å¡to se odobri pristup.
* **Policy Troubleshooter**: Alat dizajniran da pomogne administratorima da razumeju i reÅ¡e probleme sa pristupom u svojoj organizaciji identifikovanjem zaÅ¡to korisnik ima pristup odreÄ‘enim resursima ili zaÅ¡to je pristup odbijen, Äime se pomaÅ¾e u sprovoÄ‘enju zero-trust politika.
* **Identity-Aware Proxy (IAP)**: Servis koji kontroliÅ¡e pristup cloud aplikacijama i VM-ovima koji rade na Google Cloud, on-premises ili drugim cloud-ovima, na osnovu identiteta i konteksta zahteva, a ne mreÅ¾e sa koje zahtev potiÄe.
* **VPC Service Controls**: Bezbednosni perimetri koji pruÅ¾aju dodatne slojeve zaÅ¡tite resursima i servisima hostovanim u Google Cloud-ovom Virtual Private Cloud (VPC), spreÄavajuÄ‡i eksfiltraciju podataka i pruÅ¾ajuÄ‡i granularnu kontrolu pristupa.
* **Access Context Manager**: Deo Google Cloud-ovog BeyondCorp Enterprise, ovaj alat pomaÅ¾e u definisanju i sprovoÄ‘enju detaljnih politika kontrole pristupa na osnovu identiteta korisnika i konteksta njihovog zahteva, kao Å¡to su status bezbednosti ureÄ‘aja, IP adresa i viÅ¡e.

{% hint style="success" %}
UÄite i veÅ¾bajte AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
UÄite i veÅ¾bajte GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¾ite HackTricks</summary>

* Pogledajte [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitter-u** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Delite hacking trikove podnoÅ¡enjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}
