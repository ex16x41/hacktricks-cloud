# GCP - Pub/Sub Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Pub/Sub <a href="#reviewing-cloud-pubsub" id="reviewing-cloud-pubsub"></a>

[Google **Cloud Pub/Sub**](https://cloud.google.com/pubsub/) рдХреЛ рд╕реНрд╡рддрдВрддреНрд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рдмреАрдЪ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рдЖрджрд╛рди-рдкреНрд░рджрд╛рди рдХреА рд╕реБрд╡рд┐рдзрд╛ рджреЗрдиреЗ рд╡рд╛рд▓реА рд╕реЗрд╡рд╛ рдХреЗ рд░реВрдк рдореЗрдВ рд╡рд░реНрдгрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдЗрд╕рдХреЗ рдореБрдЦреНрдп рдШрдЯрдХ **рд╡рд┐рд╖рдп** рд╣реИрдВ, рдЬрд┐рди рдкрд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧ **рд╕рджрд╕реНрдпрддрд╛** рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВред рд╕рджрд╕реНрдпрддрд╛ рд▓реЗрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ **рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдФрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ** рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрддреА рд╣реИред рдкреНрд░рддреНрдпреЗрдХ рд╕рдВрджреЗрд╢ рдореЗрдВ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рд╛рдордЧреНрд░реА рдХреЗ рд╕рд╛рде рд╕рдВрдмрдВрдзрд┐рдд рдореЗрдЯрд╛рдбреЗрдЯрд╛ рд╢рд╛рдорд┐рд▓ рд╣реЛрддрд╛ рд╣реИред

**рд╡рд┐рд╖рдп рд╡рд╣ рдХрддрд╛рд░ рд╣реИ** рдЬрд╣рд╛рдВ рд╕рдВрджреЗрд╢ рднреЗрдЬреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рд╣реИрдВ, рдЬрдмрдХрд┐ **рд╕рджрд╕реНрдпрддрд╛рдПрдБ** рд╡реЗ **рд╡рд╕реНрддреБрдПрдБ рд╣реИрдВ** рдЬрд┐рдирдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ **рд╡рд┐рд╖рдпреЛрдВ рдореЗрдВ рд╕рдВрджреЗрд╢реЛрдВ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ** рдХреЗ рд▓рд┐рдП рдХрд░реЗрдВрдЧреЗред рдПрдХ рд╡рд┐рд╖рдп рдкрд░ **1 рд╕реЗ рдЕрдзрд┐рдХ рд╕рджрд╕реНрдпрддрд╛** рд╣реЛ рд╕рдХрддреА рд╣реИ рдФрд░ рд╕рджрд╕реНрдпрддрд╛рдУрдВ рдХреЗ 4 рдкреНрд░рдХрд╛рд░ рд╣реИрдВ:

* **рдкреБрд▓**: рдЗрд╕ рд╕рджрд╕реНрдпрддрд╛ рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП рдкреБрд▓ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред
* **рдкреБрд╢**: рдПрдХ URL рдЕрдВрдд рдмрд┐рдВрджреБ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдФрд░ рд╕рдВрджреЗрд╢ рддреБрд░рдВрдд рд╡рд╣рд╛рдВ рднреЗрдЬреЗ рдЬрд╛рдПрдВрдЧреЗред
* **рдмрд┐рдЧ рдХреНрд╡реЗрд░реА рдЯреЗрдмрд▓**: рдкреБрд╢ рдХреА рддрд░рд╣ рд▓реЗрдХрд┐рди рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдПрдХ рдмрд┐рдЧ рдХреНрд╡реЗрд░реА рдЯреЗрдмрд▓ рдХреЗ рдЕрдВрджрд░ рд╕реЗрдЯ рдХрд░рдирд╛ред
* **рдХреНрд▓рд╛рдЙрдб рд╕реНрдЯреЛрд░реЗрдЬ**: рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рд╕реАрдзреЗ рдПрдХ рдореМрдЬреВрджрд╛ рдмрдХреЗрдЯ рдореЗрдВ рднреЗрдЬреЗрдВред

**рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ** рдПрдХ **рд╕рджрд╕реНрдпрддрд╛ 31 рджрд┐рдиреЛрдВ рдХреЗ рдмрд╛рдж рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рддреА рд╣реИ**, рд╣рд╛рд▓рд╛рдБрдХрд┐ рдЗрд╕реЗ рдХрднреА рд╕рдорд╛рдкреНрдд рди рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

**рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ**, рдПрдХ рд╕рдВрджреЗрд╢ **7 рджрд┐рдиреЛрдВ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдП рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ**, рд▓реЗрдХрд┐рди рдЗрд╕ рд╕рдордп рдХреЛ **31 рджрд┐рдиреЛрдВ рддрдХ рдмрдврд╝рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрджрд┐ рдЗрд╕реЗ **10 рд╕реЗрдХрдВрдб рдореЗрдВ ACK рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛** рддреЛ рдпрд╣ рдХрддрд╛рд░ рдореЗрдВ рд╡рд╛рдкрд╕ рдЪрд▓рд╛ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рднреА рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ ACK рдХрд┐рдП рдЧрдП рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

рдПрдХ рд╡рд┐рд╖рдп рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ **Google рдкреНрд░рдмрдВрдзрд┐рдд рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреБрдВрдЬреА** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рд▓реЗрдХрд┐рди KMS рд╕реЗ рдПрдХ **CMEK** (рдЧреНрд░рд╛рд╣рдХ рдкреНрд░рдмрдВрдзрд┐рдд рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдХреБрдВрдЬреА) рднреА рдЪреБрдиреА рдЬрд╛ рд╕рдХрддреА рд╣реИред

**рдбреЗрдб рд▓реЗрдЯрд░**: рд╕рджрд╕реНрдпрддрд╛рдПрдБ **рдбрд┐рд▓реАрд╡рд░реА рдкреНрд░рдпрд╛рд╕реЛрдВ рдХреА рдЕрдзрд┐рдХрддрдо рд╕рдВрдЦреНрдпрд╛** рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддреА рд╣реИрдВред рдЬрдм рдПрдХ рд╕рдВрджреЗрд╢ рд╡рд┐рддрд░рд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ **рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдбреЗрдб рд▓реЗрдЯрд░ рд╡рд┐рд╖рдп рдкрд░ рдкреБрдирдГ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред

### рд╕реНрдиреИрдкрд╢реЙрдЯ рдФрд░ рд╕реНрдХреАрдорд╛

рдПрдХ рд╕реНрдиреИрдкрд╢реЙрдЯ рдПрдХ рд╡рд┐рд╢реЗрд╖ рд╕рдордп рдкрд░ **рдПрдХ рд╕рджрд╕реНрдпрддрд╛ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдХреИрдкреНрдЪрд░ рдХрд░рдиреЗ** рдХреА рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИред рдпрд╣ рдореВрд▓ рд░реВрдк рд╕реЗ рдПрдХ **рд╕рджрд╕реНрдпрддрд╛ рдореЗрдВ рдЕрдирд╕реНрд╡реАрдХреГрдд рд╕рдВрджреЗрд╢реЛрдВ рдХрд╛ рд╕реБрд╕рдВрдЧрдд рдмреИрдХрдЕрдк** рд╣реИред рд╕реНрдиреИрдкрд╢реЙрдЯ рдмрдирд╛рдиреЗ рд╕реЗ, рдЖрдк рд╕рджрд╕реНрдпрддрд╛ рдХреЗ рд╕рдВрджреЗрд╢ рд╕реНрд╡реАрдХреГрддрд┐ рд╕реНрдерд┐рддрд┐ рдХреЛ рд╕рдВрд░рдХреНрд╖рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рд╕реЗ рдЖрдк рд╕реНрдиреИрдкрд╢реЙрдЯ рд▓рд┐рдП рдЧрдП рдмрд┐рдВрджреБ рд╕реЗ рд╕рдВрджреЗрд╢реЛрдВ рдХрд╛ рдЙрдкрднреЛрдЧ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рднрд▓реЗ рд╣реА рдореВрд▓ рд╕рдВрджреЗрд╢ рдЕрдиреНрдпрдерд╛ рд╣рдЯрд╛ рджрд┐рдП рдЧрдП рд╣реЛрддреЗред\
рдпрджрд┐ рдЖрдк рдмрд╣реБрдд рднрд╛рдЧреНрдпрд╢рд╛рд▓реА рд╣реИрдВ, рддреЛ рдПрдХ рд╕реНрдиреИрдкрд╢реЙрдЯ рдореЗрдВ **рдкреБрд░рд╛рдиреА рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА** рд╣реЛ рд╕рдХрддреА рд╣реИ рдЬрдм рд╕реНрдиреИрдкрд╢реЙрдЯ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред

рдЬрдм рдЖрдк рдПрдХ рд╡рд┐рд╖рдп рдмрдирд╛рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рд╕рдВрдХреЗрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ **рд╡рд┐рд╖рдп рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдПрдХ рд╕реНрдХреАрдорд╛ рдХрд╛ рдкрд╛рд▓рди рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП**ред

### Enumeration
```bash
# Get a list of topics in the project
gcloud pubsub topics list
gcloud pubsub topics describe <topic>
gcloud pubsub topics list-subscriptions <topic>
gcloud pubsub topics get-iam-policy <topic>

# Get a list of subscriptions across all topics
gcloud pubsub subscriptions list
gcloud pubsub subscriptions describe <subscription>
gcloud pubsub subscriptions get-iam-policy <subscription>

# Get list of schemas
gcloud pubsub schemas list
gcloud pubsub schemas describe <schema>
gcloud pubsub schemas list-revisions <schema>

# Get list of snapshots
gcloud pubsub snapshots list
gcloud pubsub snapshots describe <snapshot>
```
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЖрдк [**рдмрдбрд╝реЗ рдбреЗрдЯрд╛ рд╕реЗрдЯ рдХреЗ рд▓рд┐рдП рдкреВрдЫрдиреЗ**](https://cloud.google.com/pubsub/docs/replay-overview) рдкрд░ рдмреЗрд╣рддрд░ рдкрд░рд┐рдгрд╛рдо рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рдкреБрд░рд╛рдиреЗ рд╕рдВрджреЗрд╢ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред рдЗрд╕рдХреЗ рдХреБрдЫ рдкреВрд░реНрд╡рд╛рдкреЗрдХреНрд╖рд╛рдПрдБ рд╣реИрдВ рдФрд░ рдпрд╣ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдк рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдЖрдк рдХреНрдпрд╛ рдХрд░ рд░рд╣реЗ рд╣реИрдВред

### рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╡реГрджреНрдзрд┐ рдФрд░ рдкреЛрд╕реНрдЯ рд╢реЛрд╖рдг

{% content-ref url="../gcp-post-exploitation/gcp-pub-sub-post-exploitation.md" %}
[gcp-pub-sub-post-exploitation.md](../gcp-post-exploitation/gcp-pub-sub-post-exploitation.md)
{% endcontent-ref %}

## Pub/Sub Lite

[**Pub/Sub Lite**](https://cloud.google.com/pubsub/docs/choosing-pubsub-or-lite) рдПрдХ рд╕рдВрджреЗрд╢ рд╕реЗрд╡рд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ **рдХреНрд╖реЗрддреНрд░реАрдп рднрдВрдбрд╛рд░рдг** рд╣реИред Pub/Sub Lite **Pub/Sub рдХрд╛ рдПрдХ рдЕрдВрд╢** рд╣реИ рдФрд░ рдЗрд╕реЗ **рдЙрдЪреНрдЪ рдорд╛рддреНрд░рд╛ рдХреЗ рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ** (рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб 10 рдорд┐рд▓рд┐рдпрди рд╕рдВрджреЗрд╢ рддрдХ) рдкрд╛рдЗрдкрд▓рд╛рдЗрдиреЛрдВ рдФрд░ рдЗрд╡реЗрдВрдЯ-рдЪрд╛рд▓рд┐рдд рдкреНрд░рдгрд╛рд▓реА рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдЬрд╣рд╛рдБ рдХрдо рд▓рд╛рдЧрдд рдкреНрд░рд╛рдердорд┐рдХ рд╡рд┐рдЪрд╛рд░ рд╣реИред

PubSub Lite рдореЗрдВ **рд╡рд┐рд╖рдп** рдФрд░ **рд╕рджрд╕реНрдпрддрд╛рдПрдБ** рд╣реИрдВ, рд╡рд╣рд╛рдБ **рд╕реНрдиреИрдкрд╢реЙрдЯ** рдФрд░ **рд╕реНрдХреАрдорд╛** рдирд╣реАрдВ рд╣реИрдВ рдФрд░ рд╡рд╣рд╛рдБ рд╣реИрдВ:

* **рдЖрд░рдХреНрд╖рдг**: Pub/Sub Lite рдЖрд░рдХреНрд╖рдг рдПрдХ рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЕрдкрдиреЗ рд╕рдВрджреЗрд╢ рдзрд╛рд░рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдХреНрд╖рдорддрд╛ рдЖрд░рдХреНрд╖рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред
* **рдСрдкрд░реЗрд╢рдВрд╕**: Pub/Sub Lite рдХрд╛ рдкреНрд░рдмрдВрдзрди рдФрд░ рдкреНрд░рд╢рд╛рд╕рди рдХрд░рдиреЗ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХреНрд░рд┐рдпрд╛рдУрдВ рдФрд░ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддрд╛ рд╣реИред

### рдЧрдгрдирд╛
```bash
# lite-topics
gcloud pubsub lite-topics list
gcloud pubsub lite-topics describe <topic>
gcloud pubsub lite-topics list-subscriptions <topic>

# lite-subscriptions
gcloud pubsub lite-subscriptions list
gcloud pubsub lite-subscriptions describe <subscription>

# lite-reservations
gcloud pubsub lite-reservations list
gcloud pubsub lite-reservations describe <topic>
gcloud pubsub lite-reservations list-topics <topic>

# lite-operations
gcloud pubsub lite-operations list
gcloud pubsub lite-operations describe <topic>
```
{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* **рд╣рдорд╛рд░реЗ** ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ **рд╣рдорд╛рд░реЗ** **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks_live)** рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВред**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдЧрд┐рдЯрд╣рдм рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдореЗрдВ PRs рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВред

</details>
{% endhint %}
