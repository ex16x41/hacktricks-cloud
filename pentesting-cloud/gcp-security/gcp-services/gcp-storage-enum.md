# GCP - Storage Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Storage

Google Cloud Platform (GCP) Storage рдПрдХ **рдХреНрд▓рд╛рдЙрдб-рдЖрдзрд╛рд░рд┐рдд рд╕реНрдЯреЛрд░реЗрдЬ рд╕рдорд╛рдзрд╛рди** рд╣реИ рдЬреЛ рдЕрд╕рдВрд░рдЪрд┐рдд рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдЕрддреНрдпрдзрд┐рдХ рдЯрд┐рдХрд╛рдК рдФрд░ рдЙрдкрд▓рдмреНрдз рд╡рд╕реНрддреБ рднрдВрдбрд╛рд░рдг рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдкреНрд░рджрд░реНрд╢рди, рдЙрдкрд▓рдмреНрдзрддрд╛ рдФрд░ рд▓рд╛рдЧрдд рдХреЗ рдЖрдзрд╛рд░ рдкрд░ **рд╡рд┐рднрд┐рдиреНрди рд╕реНрдЯреЛрд░реЗрдЬ рд╢реНрд░реЗрдгрд┐рдпрд╛рдБ** рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ Standard, Nearline, Coldline, рдФрд░ Archive рд╢рд╛рдорд┐рд▓ рд╣реИрдВред GCP Storage рдЙрдиреНрдирдд рд╕реБрд╡рд┐рдзрд╛рдПрдБ рднреА рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ **рд▓рд╛рдЗрдлрд╕рд╛рдЗрдХрд┐рд▓ рдиреАрддрд┐рдпрд╛рдБ, рд╕рдВрд╕реНрдХрд░рдгрди, рдФрд░ рдкрд╣реБрдБрдЪ рдирд┐рдпрдВрддреНрд░рдг** рддрд╛рдХрд┐ рдбреЗрдЯрд╛ рдХреЛ рдкреНрд░рднрд╛рд╡реА рдврдВрдЧ рд╕реЗ рдкреНрд░рдмрдВрдзрд┐рдд рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред

рдмрдХреЗрдЯ рдХреЛ рдПрдХ рдХреНрд╖реЗрддреНрд░, 2 рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рдпрд╛ **рдорд▓реНрдЯреА-рд░реАрдЬрди (рдбрд┐рдлрд╝реЙрд▓реНрдЯ)** рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

### Storage Types

* **Standard Storage**: рдпрд╣ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрдЯреЛрд░реЗрдЬ рд╡рд┐рдХрд▓реНрдк рд╣реИ рдЬреЛ **рдмрд╛рд░-рдмрд╛рд░ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдЙрдЪреНрдЪ-рдкреНрд░рджрд░реНрд╢рди, рдХрдо-рд▓реЗрдЯреЗрдВрд╕реА рдкрд╣реБрдБрдЪ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ**ред рдпрд╣ рд╡реЗрдмрд╕рд╛рдЗрдЯ рд╕рд╛рдордЧреНрд░реА, рдореАрдбрд┐рдпрд╛ рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ, рдФрд░ рдбреЗрдЯрд╛ рдПрдирд╛рд▓рд┐рдЯрд┐рдХреНрд╕ рдкрд╛рдЗрдкрд▓рд╛рдЗрдиреЛрдВ рдХреА рдореЗрдЬрд╝рдмрд╛рдиреА рд╕рд╣рд┐рдд рдХрдИ рдЙрдкрдпреЛрдЧ рдорд╛рдорд▓реЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИред
* **Nearline Storage**: рдпрд╣ рд╕реНрдЯреЛрд░реЗрдЬ рд╢реНрд░реЗрдгреА **рдХрдо рд╕реНрдЯреЛрд░реЗрдЬ рд▓рд╛рдЧрдд** рдФрд░ **рдереЛрдбрд╝реА рдЕрдзрд┐рдХ рдкрд╣реБрдБрдЪ рд▓рд╛рдЧрдд** рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред рдпрд╣ рдХрдо рдмрд╛рд░ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рд┐рдд рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдиреНрдпреВрдирддрдо рд╕реНрдЯреЛрд░реЗрдЬ рдЕрд╡рдзрд┐ 30 рджрд┐рди рд╣реИред рдпрд╣ рдмреИрдХрдЕрдк рдФрд░ рдЖрд░реНрдХрд╛рдЗрд╡рд┐рдВрдЧ рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЖрджрд░реНрд╢ рд╣реИред
* **Coldline Storage**: рдпрд╣ рд╕реНрдЯреЛрд░реЗрдЬ рд╢реНрд░реЗрдгреА **рдХрдо рдмрд╛рд░ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХреЗ рджреАрд░реНрдШрдХрд╛рд▓рд┐рдХ рднрдВрдбрд╛рд░рдг** рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рд┐рдд рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдиреНрдпреВрдирддрдо рд╕реНрдЯреЛрд░реЗрдЬ рдЕрд╡рдзрд┐ 90 рджрд┐рди рд╣реИред рдпрд╣ Nearline Storage рдХреА рддреБрд▓рдирд╛ рдореЗрдВ **рдХрдо рд╕реНрдЯреЛрд░реЗрдЬ рд▓рд╛рдЧрдд** рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди **рдЙрдЪреНрдЪ рдкрд╣реБрдБрдЪ рд▓рд╛рдЧрдд** рдХреЗ рд╕рд╛рдеред
* **Archive Storage**: рдпрд╣ рд╕реНрдЯреЛрд░реЗрдЬ рд╢реНрд░реЗрдгреА рдардВрдбреА рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХреА рдЧрдИ рд╣реИ рдЬрд┐рд╕реЗ **рдмрд╣реБрдд рдХрдо рдмрд╛рд░ рдПрдХреНрд╕реЗрд╕ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ**, рдЬрд┐рд╕рдореЗрдВ рдиреНрдпреВрдирддрдо рд╕реНрдЯреЛрд░реЗрдЬ рдЕрд╡рдзрд┐ 365 рджрд┐рди рд╣реИред рдпрд╣ рд╕рднреА GCP рд╕реНрдЯреЛрд░реЗрдЬ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдореЗрдВ **рд╕рдмрд╕реЗ рдХрдо рд╕реНрдЯреЛрд░реЗрдЬ рд▓рд╛рдЧрдд** рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рд▓реЗрдХрд┐рди **рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдкрд╣реБрдБрдЪ рд▓рд╛рдЧрдд** рдХреЗ рд╕рд╛рдеред рдпрд╣ рдбреЗрдЯрд╛ рдХреЗ рджреАрд░реНрдШрдХрд╛рд▓рд┐рдХ рд╕рдВрд░рдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реИ рдЬрд┐рд╕реЗ рдЕрдиреБрдкрд╛рд▓рди рдпрд╛ рдирд┐рдпрд╛рдордХ рдХрд╛рд░рдгреЛрдВ рд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред
* **Autoclass**: рдпрджрд┐ рдЖрдк **рдирд╣реАрдВ рдЬрд╛рдирддреЗ рдХрд┐ рдЖрдк рдбреЗрдЯрд╛ рдХреЛ рдХрд┐рддрдирд╛ рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рд╣реИрдВ** рддреЛ рдЖрдк Autoclass рдХрд╛ рдЪрдпрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ GCP **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЖрдкрдХреЗ рд▓рд┐рдП рд╕реНрдЯреЛрд░реЗрдЬ рдХрд╛ рдкреНрд░рдХрд╛рд░ рдмрджрд▓ рджреЗрдЧрд╛ рддрд╛рдХрд┐ рд▓рд╛рдЧрдд рдХреЛ рдХрдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗ**ред

### Access Control

**рдбрд┐рдлрд╝реЙрд▓реНрдЯ** рд░реВрдк рд╕реЗ, **IAM** рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд╣реБрдБрдЪ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреА **рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИ**, рд▓реЗрдХрд┐рди **ACLs рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдирд╛** рднреА рд╕рдВрднрд╡ рд╣реИред\
рдпрджрд┐ рдЖрдк рдХреЗрд╡рд▓ IAM (рдбрд┐рдлрд╝реЙрд▓реНрдЯ) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВ рдФрд░ **90 рджрд┐рди рдмреАрдд рдЬрд╛рддреЗ рд╣реИрдВ**, рддреЛ рдЖрдк **рдмрдХреЗрдЯ рдХреЗ рд▓рд┐рдП ACLs рдХреЛ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗ**ред

### Versioning

рд╕рдВрд╕реНрдХрд░рдгрди рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ, рдпрд╣ **рдмрдХреЗрдЯ рдХреЗ рдЕрдВрджрд░ рдлрд╝рд╛рдЗрд▓ рдХреЗ рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЛ рд╕рд╣реЗрдЬрддрд╛ рд╣реИ**ред рдпрд╣ **рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдП рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛** рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ рдФрд░ рдпрд╣рд╛рдВ рддрдХ рдХрд┐ **рдЖрдк рдХрд┐рддрдиреЗ рд╕рдордп рддрдХ** **рдЧреИрд░-рдкреНрд░рдЪрд▓рд┐рдд** рд╕рдВрд╕реНрдХрд░рдгреЛрдВ (рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ) рдХреЛ рдЬреАрд╡рд┐рдд рд░рдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред **Standard рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓рд┐рдП 7 рджрд┐рди** рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢ рдХреА рдЬрд╛рддреА рд╣реИред

**рдЧреИрд░-рдкреНрд░рдЪрд▓рд┐рдд рд╕рдВрд╕реНрдХрд░рдг рдХрд╛ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, **рдЧреИрд░-рдкреНрд░рдЪрд▓рд┐рдд рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ ACLs рднреА рд░рдЦреЗ рдЬрд╛рддреЗ рд╣реИрдВ**, рдЗрд╕рд▓рд┐рдП рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЗ ACLs рд╡рд░реНрддрдорд╛рди рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ рднрд┐рдиреНрди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред

Learn more in the [**docs**](https://cloud.google.com/storage/docs/object-versioning).

### Retention Policy

рдпрд╣ рдмрддрд╛рдПрдВ рдХрд┐ рдЖрдк **рдмрдХреЗрдЯ рдХреЗ рдЕрдВрджрд░ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд╣рдЯрд╛рдиреЗ рдкрд░ рдкреНрд░рддрд┐рдмрдВрдз рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рддрдиреЗ рд╕рдордп рддрдХ** (рдХрдо рд╕реЗ рдХрдо рдЕрдиреБрдкрд╛рд▓рди рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА) рдЪрд╛рд╣рддреЗ рд╣реИрдВред\
**рд╕рдВрд╕реНрдХрд░рдгрди рдпрд╛ рд╕рдВрд░рдХреНрд╖рдг рдиреАрддрд┐ рдореЗрдВ рд╕реЗ рдХреЗрд╡рд▓ рдПрдХ рдХреЛ рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рд╕рдХреНрд╖рдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред

### Encryption

рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╡рд╕реНрддреБрдПрдБ **Google рдкреНрд░рдмрдВрдзрд┐рдд рдХреБрдВрдЬрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯ рдХреА рдЬрд╛рддреА рд╣реИрдВ**, рд▓реЗрдХрд┐рди рдЖрдк **KMS рд╕реЗ рдПрдХ рдХреБрдВрдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ** рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

### Public Access

рдпрд╣ **рдмрд╛рд╣рд░реА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ** (GCP рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд┐рдП рд╣реБрдП рдпрд╛ рдирд╣реАрдВ) рдХреЛ **рдмрдХреЗрдЯ рдХреА рд╕рд╛рдордЧреНрд░реА рддрдХ рдкрд╣реБрдБрдЪ рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ**ред\
рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдЬрдм рдПрдХ рдмрдХреЗрдЯ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЗрд╕рдореЗрдВ **рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд░реВрдк рд╕реЗ рдмрдХреЗрдЯ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рдХрд▓реНрдк рдмрдВрдж** рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рдкрд░реНрдпрд╛рдкреНрдд рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдЗрд╕реЗ рдмрджрд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдмрдХреЗрдЯ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП **URL рдХрд╛ рдкреНрд░рд╛рд░реВрдк** **`https://storage.googleapis.com/<bucket-name>` рдпрд╛ `https://<bucket_name>.storage.googleapis.com`** рд╣реИ (рджреЛрдиреЛрдВ рдорд╛рдиреНрдп рд╣реИрдВ)ред

### HMAC Keys

HMAC рдХреБрдВрдЬреА рдПрдХ рдкреНрд░рдХрд╛рд░ рдХреА _рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓_ рд╣реИ рдФрд░ рдЗрд╕реЗ **Cloud Storage рдореЗрдВ рдПрдХ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддреЗ рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред рдЖрдк HMAC рдХреБрдВрдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ _рд╣рд╕реНрддрд╛рдХреНрд╖рд░_ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдлрд┐рд░ Cloud Storage рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдзреЛрдВ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреЗ рд╣реИрдВред рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ рдХрд┐ **рджрд┐рдпрд╛ рдЧрдпрд╛ рдЕрдиреБрд░реЛрдз рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдпрд╛ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рджреНрд╡рд╛рд░рд╛ рдЕрдзрд┐рдХреГрдд рд╣реИ**ред

HMAC рдХреБрдВрдЬреА рдореЗрдВ рджреЛ рдореБрдЦреНрдп рднрд╛рдЧ рд╣реЛрддреЗ рд╣реИрдВ, рдПрдХ _рдПрдХреНрд╕реЗрд╕ рдЖрдИрдбреА_ рдФрд░ рдПрдХ _рдЧреБрдкреНрдд_ред

*   **Access ID**: рдПрдХ рдЕрд▓реНрдлрд╝рд╛рдиреНрдпреВрдореЗрд░рд┐рдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдЬреЛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реЗрд╡рд╛ рдпрд╛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддреЗ рд╕реЗ рдЬреБрдбрд╝реА рд╣реЛрддреА рд╣реИред рдЬрдм рдЗрд╕реЗ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреА рд▓рдВрдмрд╛рдИ 61 рд╡рд░реНрдг рд╣реЛрддреА рд╣реИ, рдФрд░ рдЬрдм рдЗрд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЦрд╛рддреЗ рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреА рд▓рдВрдмрд╛рдИ 24 рд╡рд░реНрдг рд╣реЛрддреА рд╣реИред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдПрдХ рдПрдХреНрд╕реЗрд╕ рдЖрдИрдбреА рдХрд╛ рдЙрджрд╛рд╣рд░рдг рджрд┐рдЦрд╛рддрд╛ рд╣реИ:

`GOOGTS7C7FUP3AIRVJTE2BCDKINBTES3HC2GY5CBFJDCQ2SYHV6A6XXVTJFSA`
*   **Secret**: рдПрдХ 40-рд╡рд░реНрдг рдХреА Base-64 рдПрдиреНрдХреЛрдбреЗрдб рд╕реНрдЯреНрд░рд┐рдВрдЧ рдЬреЛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдПрдХреНрд╕реЗрд╕ рдЖрдИрдбреА рд╕реЗ рдЬреБрдбрд╝реА рд╣реЛрддреА рд╣реИред рдПрдХ рдЧреБрдкреНрдд рдПрдХ рдкреВрд░реНрд╡-рд╢реЗрдпрд░ рдХреА рдЧрдИ рдХреБрдВрдЬреА рд╣реИ рдЬрд┐рд╕реЗ рдХреЗрд╡рд▓ рдЖрдк рдФрд░ Cloud Storage рдЬрд╛рдирддреЗ рд╣реИрдВред рдЖрдк рдЕрдкрдиреЗ рдЧреБрдкреНрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реЛрддреЗ рд╣реИрдВред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдПрдХ рдЧреБрдкреНрдд рдХрд╛ рдЙрджрд╛рд╣рд░рдг рджрд┐рдЦрд╛рддрд╛ рд╣реИ:

`bGoa+V7g/yqDXvKRqq+JTFn4uQZbPiQJo4pf9RzJ`

рджреЛрдиреЛрдВ **рдПрдХреНрд╕реЗрд╕ рдЖрдИрдбреА рдФрд░ рдЧреБрдкреНрдд рдПрдХ HMAC рдХреБрдВрдЬреА рдХреА рдЕрджреНрд╡рд┐рддреАрдп рдкрд╣рдЪрд╛рди рдХрд░рддреЗ рд╣реИрдВ**, рд▓реЗрдХрд┐рди рдЧреБрдкреНрдд рдмрд╣реБрдд рдЕрдзрд┐рдХ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдЬрд╛рдирдХрд╛рд░реА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ **рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдмрдирд╛рдиреЗ** рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

### Enumeration
```bash
# List all storage buckets in project
gsutil ls

# Get each bucket configuration (protections, CLs, times, configs...)
gsutil ls -L

# List contents of a specific bucket
gsutil ls gs://bucket-name/
gsutil ls -r gs://bucket-name/ # Recursive
gsutil ls -a gs://bucket-name/ # Get ALL versions of objects

# Cat the context of a file without copying it locally
gsutil cat 'gs://bucket-name/folder/object'
gsutil cat 'gs://bucket-name/folder/object#<num>' # cat specific version

# Copy an object from the bucket to your local storage for review
gsutil cp gs://bucket-name/folder/object ~/

# List using a raw OAuth token
## Useful because "CLOUDSDK_AUTH_ACCESS_TOKEN" and "gcloud config set auth/access_token_file" doesn't work with gsutil
curl -H "Authorization: Bearer $TOKEN" "https://storage.googleapis.com/storage/v1/b/<storage-name>/o"
# Download file content from bucket
curl -H "Authorization: Bearer $TOKEN" "https://storage.googleapis.com/storage/v1/b/supportstorage-58249/o/flag.txt?alt=media" --output -

# Enumerate HMAC keys
gsutil hmac list

# Get permissions
gcloud storage buckets get-iam-policy gs://bucket-name/
gcloud storage objects get-iam-policy gs://bucket-name/folder/object
```
рдпрджрд┐ рдЖрдкрдХреЛ рдмрд╛рд▓реНрдЯрд┐рдпреЛрдВ рдХреА рд╕реВрдЪреА рдмрдирд╛рддреЗ рд╕рдордп рдЕрдиреБрдорддрд┐ рдЕрд╕реНрд╡реАрдХреГрдд рддреНрд░реБрдЯрд┐ рдорд┐рд▓рддреА рд╣реИ, рддреЛ рднреА рдЖрдкрдХреЗ рдкрд╛рд╕ рд╕рд╛рдордЧреНрд░реА рддрдХ рдкрд╣реБрдВрдЪ рд╣реЛ рд╕рдХрддреА рд╣реИред рддреЛ, рдЕрдм рдЬрдм рдЖрдк рдмрд╛рд▓реНрдЯрд┐рдпреЛрдВ рдХреЗ рдирд╛рдо рдХреЗ рдирд┐рдпрдо рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рд╕рдВрднрд╛рд╡рд┐рдд рдирд╛рдореЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рдЙрддреНрдкрдиреНрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```bash
for i in $(cat wordlist.txt); do gsutil ls -r gs://"$i"; done
```
`storage.objects.list` рдФрд░ `storage.objects.get` рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде, рдЖрдкрдХреЛ рдмрдХреЗрдЯ рд╕реЗ рд╕рднреА рдлрд╝реЛрд▓реНрдбрд░реЛрдВ рдФрд░ рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рд╕реВрдЪреАрдмрджреНрдз рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ рдЖрдк рдЙрдиреНрд╣реЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХреЗрдВред рдЖрдк рдЗрд╕реЗ рдЗрд╕ Python рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╕рд╛рде рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:
```python
import requests
import xml.etree.ElementTree as ET

def list_bucket_objects(bucket_name, prefix='', marker=None):
url = f"https://storage.googleapis.com/{bucket_name}?prefix={prefix}"
if marker:
url += f"&marker={marker}"
response = requests.get(url)
xml_data = response.content
root = ET.fromstring(xml_data)
ns = {'ns': 'http://doc.s3.amazonaws.com/2006-03-01'}
for contents in root.findall('.//ns:Contents', namespaces=ns):
key = contents.find('ns:Key', namespaces=ns).text
print(key)
next_marker = root.find('ns:NextMarker', namespaces=ns)
if next_marker is not None:
next_marker_value = next_marker.text
list_bucket_objects(bucket_name, prefix, next_marker_value)

list_bucket_objects('<storage-name>')
```
### рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╡реГрджреНрдзрд┐

рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреГрд╖реНрда рдкрд░ рдЖрдк **рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреЛрд░реЗрдЬ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ** рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ:

{% content-ref url="../gcp-privilege-escalation/gcp-storage-privesc.md" %}
[gcp-storage-privesc.md](../gcp-privilege-escalation/gcp-storage-privesc.md)
{% endcontent-ref %}

### рдЕрдирдзрд┐рдХреГрдд Enum

{% content-ref url="../gcp-unauthenticated-enum-and-access/gcp-storage-unauthenticated-enum/" %}
[gcp-storage-unauthenticated-enum](../gcp-unauthenticated-enum-and-access/gcp-storage-unauthenticated-enum/)
{% endcontent-ref %}

### рдкреЛрд╕реНрдЯ рд╢реЛрд╖рдг

{% content-ref url="../gcp-post-exploitation/gcp-storage-post-exploitation.md" %}
[gcp-storage-post-exploitation.md](../gcp-post-exploitation/gcp-storage-post-exploitation.md)
{% endcontent-ref %}

### рд╕реНрдерд┐рд░рддрд╛

{% content-ref url="../gcp-persistence/gcp-storage-persistence.md" %}
[gcp-storage-persistence.md](../gcp-persistence/gcp-storage-persistence.md)
{% endcontent-ref %}

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* **ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ **Twitter** рдкрд░ рд╣рдореЗрдВ **рдлреЙрд▓реЛ рдХрд░реЗрдВ** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░ [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) рдЧрд┐рдЯрд╣рдм рд░рд┐рдкреЛрдЬрд┐рдЯрд░реА рдореЗрдВ PR рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВред**

</details>
{% endhint %}
