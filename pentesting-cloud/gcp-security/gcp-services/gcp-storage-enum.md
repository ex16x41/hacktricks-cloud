# GCP - Storage Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Storage

Google Cloud Platform (GCP) Storage —î **—Ö–º–∞—Ä–Ω–∏–º —Ä—ñ—à–µ–Ω–Ω—è–º –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è**, —è–∫–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –≤–∏—Å–æ–∫—É –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å —Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –æ–±'—î–∫—Ç–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–ª—è –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö. –í—ñ–Ω –ø—Ä–æ–ø–æ–Ω—É—î **—Ä—ñ–∑–Ω—ñ –∫–ª–∞—Å–∏ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è** –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Ç–∞ –≤–∞—Ä—Ç–æ—Å—Ç—ñ, –≤–∫–ª—é—á–∞—é—á–∏ Standard, Nearline, Coldline —Ç–∞ Archive. GCP Storage —Ç–∞–∫–æ–∂ –Ω–∞–¥–∞—î —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó, —Ç–∞–∫—ñ —è–∫ **–ø–æ–ª—ñ—Ç–∏–∫–∏ –∂–∏—Ç—Ç—î–≤–æ–≥–æ —Ü–∏–∫–ª—É, –≤–µ—Ä—Å—ñ–π–Ω—ñ—Å—Ç—å —Ç–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É** –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–∞ –∑–∞—Ö–∏—Å—Ç—É –¥–∞–Ω–∏—Ö.

–ë–∞–∫–µ—Ç –º–æ–∂–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è –≤ —Ä–µ–≥—ñ–æ–Ω—ñ, –≤ 2 —Ä–µ–≥—ñ–æ–Ω–∞—Ö –∞–±–æ **–º—É–ª—å—Ç–∏-—Ä–µ–≥—ñ–æ–Ω–∞–ª—å–Ω–æ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)**.

### Storage Types

* **Standard Storage**: –¶–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è, —è–∫–∏–π **–ø—Ä–æ–ø–æ–Ω—É—î –≤–∏—Å–æ–∫—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å, –Ω–∏–∑—å–∫—É –∑–∞—Ç—Ä–∏–º–∫—É –¥–æ—Å—Ç—É–ø—É –¥–æ —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö**. –í—ñ–Ω –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —à–∏—Ä–æ–∫–æ–≥–æ —Å–ø–µ–∫—Ç—Ä–∞ –≤–∏–ø–∞–¥–∫—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è, –≤–∫–ª—é—á–∞—é—á–∏ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –≤–º—ñ—Å—Ç—É –≤–µ–±-—Å–∞–π—Ç—ñ–≤, –ø–æ—Ç–æ–∫–æ–≤–µ –º–µ–¥—ñ–∞ —Ç–∞ —Ö–æ—Å—Ç–∏–Ω–≥ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
* **Nearline Storage**: –¶–µ–π –∫–ª–∞—Å –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø—Ä–æ–ø–æ–Ω—É—î **–Ω–∏–∂—á—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è** —Ç–∞ **—Ç—Ä–æ—Ö–∏ –≤–∏—â—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –¥–æ—Å—Ç—É–ø**, –Ω—ñ–∂ Standard Storage. –í—ñ–Ω –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –¥–ª—è —Ä—ñ–¥–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö, –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º —Ç–µ—Ä–º—ñ–Ω–æ–º –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è 30 –¥–Ω—ñ–≤. –Ü–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è —Ç–∞ –∞—Ä—Ö—ñ–≤—É–≤–∞–Ω–Ω—è.
* **Coldline Storage**: –¶–µ–π –∫–ª–∞—Å –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –¥–ª—è **–¥–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ä—ñ–¥–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö**, –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º —Ç–µ—Ä–º—ñ–Ω–æ–º –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è 90 –¥–Ω—ñ–≤. –í—ñ–Ω –ø—Ä–æ–ø–æ–Ω—É—î **–Ω–∏–∂—á—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è**, –Ω—ñ–∂ Nearline Storage, –∞–ª–µ –∑ **–≤–∏—â–∏–º–∏ –≤–∏—Ç—Ä–∞—Ç–∞–º–∏ –Ω–∞ –¥–æ—Å—Ç—É–ø**.
* **Archive Storage**: –¶–µ–π –∫–ª–∞—Å –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Ö–æ–ª–æ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö, —è–∫—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ **–¥—É–∂–µ —Ä—ñ–¥–∫–æ**, –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º —Ç–µ—Ä–º—ñ–Ω–æ–º –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è 365 –¥–Ω—ñ–≤. –í—ñ–Ω –ø—Ä–æ–ø–æ–Ω—É—î **–Ω–∞–π–Ω–∏–∂—á—ñ –≤–∏—Ç—Ä–∞—Ç–∏ –Ω–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å–µ—Ä–µ–¥ —É—Å—ñ—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è GCP**, –∞–ª–µ –∑ **–Ω–∞–π–≤–∏—â–∏–º–∏ –≤–∏—Ç—Ä–∞—Ç–∞–º–∏ –Ω–∞ –¥–æ—Å—Ç—É–ø**. –ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –¥–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö, —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –∑ –º–µ—Ç–æ—é –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤–∏–º–æ–≥ –∞–±–æ —Ä–µ–≥—É–ª—è—Ü—ñ–π.
* **Autoclass**: –Ø–∫—â–æ –≤–∏ **–Ω–µ –∑–Ω–∞—î—Ç–µ, —è–∫ —á–∞—Å—Ç–æ –±—É–¥–µ—Ç–µ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø** –¥–æ –¥–∞–Ω–∏—Ö, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–±—Ä–∞—Ç–∏ Autoclass, —ñ GCP **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–º—ñ–Ω–∏—Ç—å —Ç–∏–ø –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è, —â–æ–± –º—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç–∏**.

### Access Control

–ó–∞ **–∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º** —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ **IAM**, –∞–ª–µ —Ç–∞–∫–æ–∂ –º–æ–∂–ª–∏–≤–æ **–≤–∫–ª—é—á–∏—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è ACL**.\
–Ø–∫—â–æ –≤–∏ –≤–∏–±–µ—Ä–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ª–∏—à–µ IAM (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º) —ñ **–ø—Ä–æ–π–¥–µ 90 –¥–Ω—ñ–≤**, –≤–∏ **–Ω–µ –∑–º–æ–∂–µ—Ç–µ –≤–∫–ª—é—á–∏—Ç–∏ ACL** –¥–ª—è –±–∞–∫–µ—Ç–∞.

### Versioning

–ú–æ–∂–Ω–∞ –≤–∫–ª—é—á–∏—Ç–∏ –≤–µ—Ä—Å—ñ–π–Ω—ñ—Å—Ç—å, —Ü–µ **–∑–±–µ—Ä—ñ–≥–∞—Ç–∏–º–µ —Å—Ç–∞—Ä—ñ –≤–µ—Ä—Å—ñ—ó —Ñ–∞–π–ª—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –±–∞–∫–µ—Ç–∞**. –ú–æ–∂–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ **–∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–µ—Ä—Å—ñ–π, —è–∫—ñ –≤–∏ —Ö–æ—á–µ—Ç–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏**, —ñ –Ω–∞–≤—ñ—Ç—å **—è–∫ –¥–æ–≤–≥–æ** –≤–∏ —Ö–æ—á–µ—Ç–µ, —â–æ–± **–Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ** –≤–µ—Ä—Å—ñ—ó (—Å—Ç–∞—Ä—ñ –≤–µ—Ä—Å—ñ—ó) —ñ—Å–Ω—É–≤–∞–ª–∏. –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è **7 –¥–Ω—ñ–≤ –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ç–∏–ø—É**.

**–ú–µ—Ç–∞–¥–∞–Ω—ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ—ó –≤–µ—Ä—Å—ñ—ó –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è**. –ë—ñ–ª—å—à–µ —Ç–æ–≥–æ, **ACL –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏—Ö –≤–µ—Ä—Å—ñ–π —Ç–∞–∫–æ–∂ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è**, —Ç–æ–º—É —Å—Ç–∞—Ä—ñ –≤–µ—Ä—Å—ñ—ó –º–æ–∂—É—Ç—å –º–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ ACL –≤—ñ–¥ –ø–æ—Ç–æ—á–Ω–æ—ó –≤–µ—Ä—Å—ñ—ó.

–î—ñ–∑–Ω–∞–π—Ç–µ—Å—è –±—ñ–ª—å—à–µ –≤ [**–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó**](https://cloud.google.com/storage/docs/object-versioning).

### Retention Policy

–í–∫–∞–∂—ñ—Ç—å, —è–∫ **–¥–æ–≤–≥–æ** –≤–∏ —Ö–æ—á–µ—Ç–µ **–∑–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –±–∞–∫–µ—Ç–∞** (–¥—É–∂–µ –∫–æ—Ä–∏—Å–Ω–æ –¥–ª—è –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤–∏–º–æ–≥, –ø—Ä–∏–Ω–∞–π–º–Ω—ñ).\
–õ–∏—à–µ –æ–¥–Ω–∞ –∑ **–≤–µ—Ä—Å—ñ–π–Ω–æ—Å—Ç—ñ –∞–±–æ –ø–æ–ª—ñ—Ç–∏–∫–∏ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –º–æ–∂–µ –±—É—Ç–∏ –≤–∫–ª—é—á–µ–Ω–∞ –æ–¥–Ω–æ—á–∞—Å–Ω–æ**.

### Encryption

–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –æ–±'—î–∫—Ç–∏ **—à–∏—Ñ—Ä—É—é—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–ª—é—á—ñ–≤, –∫–µ—Ä–æ–≤–∞–Ω–∏—Ö Google**, –∞–ª–µ –≤–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **–∫–ª—é—á –∑ KMS**.

### Public Access

–ú–æ–∂–ª–∏–≤–æ –Ω–∞–¥–∞—Ç–∏ **–∑–æ–≤–Ω—ñ—à–Ω—ñ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º** (—É–≤—ñ–π—à–ª–∏ –≤ GCP —á–∏ –Ω—ñ) **–¥–æ—Å—Ç—É–ø –¥–æ –≤–º—ñ—Å—Ç—É –±–∞–∫–µ—Ç—ñ–≤**.\
–ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, –∫–æ–ª–∏ –±–∞–∫–µ—Ç —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è, —É –Ω—å–æ–≥–æ –±—É–¥–µ **–≤–∏–º–∫–Ω–µ–Ω–∞ –æ–ø—Ü—ñ—è –ø—É–±–ª—ñ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É** –¥–æ –±–∞–∫–µ—Ç–∞, –∞–ª–µ –∑ –¥–æ—Å—Ç–∞—Ç–Ω—ñ–º–∏ –ø—Ä–∞–≤–∞–º–∏ —Ü–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏.

**–§–æ—Ä–º–∞—Ç URL** –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –±–∞–∫–µ—Ç–∞ —î **`https://storage.googleapis.com/<bucket-name>` –∞–±–æ `https://<bucket_name>.storage.googleapis.com`** (–æ–±–∏–¥–≤–∞ —î –¥—ñ–π—Å–Ω–∏–º–∏).

### HMAC Keys

HMAC-–∫–ª—é—á —î —Ç–∏–ø–æ–º _–æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö_ —ñ –º–æ–∂–µ –±—É—Ç–∏ **–∞—Å–æ—Ü—ñ–π–æ–≤–∞–Ω–∏–π –∑ –æ–±–ª—ñ–∫–æ–≤–∏–º –∑–∞–ø–∏—Å–æ–º —Å–ª—É–∂–±–∏ –∞–±–æ –æ–±–ª—ñ–∫–æ–≤–∏–º –∑–∞–ø–∏—Å–æ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤ Cloud Storage**. –í–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ HMAC-–∫–ª—é—á –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è _–ø—ñ–¥–ø–∏—Å—ñ–≤_, —è–∫—ñ –ø–æ—Ç—ñ–º –≤–∫–ª—é—á–∞—é—Ç—å—Å—è –≤ –∑–∞–ø–∏—Ç–∏ –¥–æ Cloud Storage. –ü—ñ–¥–ø–∏—Å–∏ –ø–æ–∫–∞–∑—É—é—Ç—å, —â–æ **–¥–∞–Ω–∏–π –∑–∞–ø–∏—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º –∞–±–æ –æ–±–ª—ñ–∫–æ–≤–∏–º –∑–∞–ø–∏—Å–æ–º —Å–ª—É–∂–±–∏**.

HMAC-–∫–ª—é—á—ñ –º–∞—é—Ç—å –¥–≤—ñ –æ—Å–Ω–æ–≤–Ω—ñ —á–∞—Å—Ç–∏–Ω–∏: _—ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –¥–æ—Å—Ç—É–ø—É_ —Ç–∞ _—Å–µ–∫—Ä–µ—Ç_.

*   **Access ID**: –ê–ª—Ñ–∞–≤—ñ—Ç–Ω–æ-—Ü–∏—Ñ—Ä–æ–≤–∏–π —Ä—è–¥–æ–∫, –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—é —Å–ª—É–∂–±–æ—é –∞–±–æ –æ–±–ª—ñ–∫–æ–≤–∏–º –∑–∞–ø–∏—Å–æ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞. –ö–æ–ª–∏ –≤—ñ–Ω –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ –æ–±–ª—ñ–∫–æ–≤–∏–º –∑–∞–ø–∏—Å–æ–º —Å–ª—É–∂–±–∏, —Ä—è–¥–æ–∫ –º–∞—î –¥–æ–≤–∂–∏–Ω—É 61 —Å–∏–º–≤–æ–ª, –∞ –∫–æ–ª–∏ –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ –æ–±–ª—ñ–∫–æ–≤–∏–º –∑–∞–ø–∏—Å–æ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —Ä—è–¥–æ–∫ –º–∞—î –¥–æ–≤–∂–∏–Ω—É 24 —Å–∏–º–≤–æ–ª–∏. –ù–∞—Å—Ç—É–ø–Ω–µ –ø–æ–∫–∞–∑—É—î –ø—Ä–∏–∫–ª–∞–¥ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞ –¥–æ—Å—Ç—É–ø—É:

`GOOGTS7C7FUP3AIRVJTE2BCDKINBTES3HC2GY5CBFJDCQ2SYHV6A6XXVTJFSA`
*   **Secret**: 40-—Å–∏–º–≤–æ–ª—å–Ω–∏–π —Ä—è–¥–æ–∫, –∑–∞–∫–æ–¥–æ–≤–∞–Ω–∏–π —É Base-64, —è–∫–∏–π –ø–æ–≤'—è–∑–∞–Ω–∏–π –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º –¥–æ—Å—Ç—É–ø—É. –°–µ–∫—Ä–µ—Ç —î –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –ø–æ–¥—ñ–ª–µ–Ω–∏–º –∫–ª—é—á–µ–º, —è–∫–∏–π –∑–Ω–∞—î—Ç–µ –ª–∏—à–µ –≤–∏ —Ç–∞ Cloud Storage. –í–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ —Å–≤—ñ–π —Å–µ–∫—Ä–µ—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—ñ–¥–ø–∏—Å—ñ–≤ —è–∫ —á–∞—Å—Ç–∏–Ω–∏ –ø—Ä–æ—Ü–µ—Å—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –ù–∞—Å—Ç—É–ø–Ω–µ –ø–æ–∫–∞–∑—É—î –ø—Ä–∏–∫–ª–∞–¥ —Å–µ–∫—Ä–µ—Ç—É:

`bGoa+V7g/yqDXvKRqq+JTFn4uQZbPiQJo4pf9RzJ`

–Ø–∫ —ñ **—ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –¥–æ—Å—Ç—É–ø—É, —Ç–∞–∫ —ñ —Å–µ–∫—Ä–µ—Ç —É–Ω—ñ–∫–∞–ª—å–Ω–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É—é—Ç—å HMAC-–∫–ª—é—á**, –∞–ª–µ —Å–µ–∫—Ä–µ—Ç —î –Ω–∞–±–∞–≥–∞—Ç–æ –±—ñ–ª—å—à —á—É—Ç–ª–∏–≤–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é, –æ—Å–∫—ñ–ª—å–∫–∏ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –¥–ª—è **—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—ñ–¥–ø–∏—Å—ñ–≤**.

### Enumeration
```bash
# List all storage buckets in project
gsutil ls

# Get each bucket configuration (protections, CLs, times, configs...)
gsutil ls -L

# List contents of a specific bucket
gsutil ls gs://bucket-name/
gsutil ls -r gs://bucket-name/ # Recursive
gsutil ls -a gs://bucket-name/ # Get ALL versions of objects

# Cat the context of a file without copying it locally
gsutil cat 'gs://bucket-name/folder/object'
gsutil cat 'gs://bucket-name/folder/object#<num>' # cat specific version

# Copy an object from the bucket to your local storage for review
gsutil cp gs://bucket-name/folder/object ~/

# List using a raw OAuth token
## Useful because "CLOUDSDK_AUTH_ACCESS_TOKEN" and "gcloud config set auth/access_token_file" doesn't work with gsutil
curl -H "Authorization: Bearer $TOKEN" "https://storage.googleapis.com/storage/v1/b/<storage-name>/o"
# Download file content from bucket
curl -H "Authorization: Bearer $TOKEN" "https://storage.googleapis.com/storage/v1/b/supportstorage-58249/o/flag.txt?alt=media" --output -

# Enumerate HMAC keys
gsutil hmac list

# Get permissions
gcloud storage buckets get-iam-policy gs://bucket-name/
gcloud storage objects get-iam-policy gs://bucket-name/folder/object
```
–Ø–∫—â–æ –≤–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ –ø–æ–º–∏–ª–∫—É –≤—ñ–¥–º–æ–≤–∏ –≤ –¥–æ—Å—Ç—É–ø—ñ –ø—Ä–∏ –ø–µ—Ä–µ–ª—ñ–∫—É –±–∞–∫–µ—Ç—ñ–≤, –≤–∏ –≤—Å–µ —â–µ –º–æ–∂–µ—Ç–µ –º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –≤–º—ñ—Å—Ç—É. –û—Ç–∂–µ, —Ç–µ–ø–µ—Ä, –∫–æ–ª–∏ –≤–∏ –∑–Ω–∞—î—Ç–µ –ø—Ä–æ –∫–æ–Ω–≤–µ–Ω—Ü—ñ—é —ñ–º–µ–Ω –±–∞–∫–µ—Ç—ñ–≤, –≤–∏ –º–æ–∂–µ—Ç–µ –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –º–æ–∂–ª–∏–≤–∏—Ö —ñ–º–µ–Ω —ñ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ –Ω–∏—Ö –¥–æ—Å—Ç—É–ø:
```bash
for i in $(cat wordlist.txt); do gsutil ls -r gs://"$i"; done
```
–ó –ø—Ä–∞–≤–∞–º–∏ `storage.objects.list` —Ç–∞ `storage.objects.get` –≤–∏ –ø–æ–≤–∏–Ω–Ω—ñ –º–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–µ—Ä–µ—Ä–∞—Ö—É–≤–∞—Ç–∏ –≤—Å—ñ –ø–∞–ø–∫–∏ —Ç–∞ —Ñ–∞–π–ª–∏ –∑ –±–∞–∫–µ—Ç—É, —â–æ–± –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —ó—Ö. –í–∏ –º–æ–∂–µ—Ç–µ –¥–æ—Å—è–≥—Ç–∏ —Ü—å–æ–≥–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ü—å–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ Python:
```python
import requests
import xml.etree.ElementTree as ET

def list_bucket_objects(bucket_name, prefix='', marker=None):
url = f"https://storage.googleapis.com/{bucket_name}?prefix={prefix}"
if marker:
url += f"&marker={marker}"
response = requests.get(url)
xml_data = response.content
root = ET.fromstring(xml_data)
ns = {'ns': 'http://doc.s3.amazonaws.com/2006-03-01'}
for contents in root.findall('.//ns:Contents', namespaces=ns):
key = contents.find('ns:Key', namespaces=ns).text
print(key)
next_marker = root.find('ns:NextMarker', namespaces=ns)
if next_marker is not None:
next_marker_value = next_marker.text
list_bucket_objects(bucket_name, prefix, next_marker_value)

list_bucket_objects('<storage-name>')
```
### –ü—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ü—Ä–∏–≤—ñ–ª–µ—ó–≤

–ù–∞ –Ω–∞—Å—Ç—É–ø–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –≤–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —è–∫ **–∑–ª–æ–≤–∂–∏–≤–∞—Ç–∏ –¥–æ–∑–≤–æ–ª–∞–º–∏ –Ω–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –ø—Ä–∏–≤—ñ–ª–µ—ó–≤**:

{% content-ref url="../gcp-privilege-escalation/gcp-storage-privesc.md" %}
[gcp-storage-privesc.md](../gcp-privilege-escalation/gcp-storage-privesc.md)
{% endcontent-ref %}

### –ù–µ–∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–æ–≤–∞–Ω–µ –ü–µ—Ä–µ—Ä–∞—Ö—É–≤–∞–Ω–Ω—è

{% content-ref url="../gcp-unauthenticated-enum-and-access/gcp-storage-unauthenticated-enum/" %}
[gcp-storage-unauthenticated-enum](../gcp-unauthenticated-enum-and-access/gcp-storage-unauthenticated-enum/)
{% endcontent-ref %}

### –ü—ñ—Å–ª—è –ï–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó

{% content-ref url="../gcp-post-exploitation/gcp-storage-post-exploitation.md" %}
[gcp-storage-post-exploitation.md](../gcp-post-exploitation/gcp-storage-post-exploitation.md)
{% endcontent-ref %}

### –ü–æ—Å—Ç—ñ–π–Ω—ñ—Å—Ç—å

{% content-ref url="../gcp-persistence/gcp-storage-persistence.md" %}
[gcp-storage-persistence.md](../gcp-persistence/gcp-storage-persistence.md)
{% endcontent-ref %}

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>–ü—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ HackTricks</summary>

* –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ø–ª–∞–Ω–∏ –ø—ñ–¥–ø–∏—Å–∫–∏**](https://github.com/sponsors/carlospolop)!
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –≤ **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **–î—ñ–ª—ñ—Ç—å—Å—è —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –ø–æ–¥–∞—é—á–∏ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ github.

</details>
{% endhint %}
