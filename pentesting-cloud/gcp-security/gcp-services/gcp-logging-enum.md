# GCP - Logging Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## åŸºæœ¬æƒ…å ±

ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒGCPã‹ã‚‰ã®**ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã¨ã‚¤ãƒ™ãƒ³ãƒˆ**ã‚’ä¿å­˜ã€æ¤œç´¢ã€åˆ†æã€ç›£è¦–ã€ã‚¢ãƒ©ãƒ¼ãƒˆã‚’è¡Œã†ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚

Cloud Loggingã¯ä»–ã®GCPã‚µãƒ¼ãƒ“ã‚¹ã¨å®Œå…¨ã«çµ±åˆã•ã‚Œã¦ãŠã‚Šã€ã™ã¹ã¦ã®GCPãƒªã‚½ãƒ¼ã‚¹ã‹ã‚‰ã®ãƒ­ã‚°ã®é›†ä¸­ãƒªãƒã‚¸ãƒˆãƒªã‚’æä¾›ã—ã¾ã™ã€‚ã“ã‚Œã¯ã€App Engineã€Compute Engineã€Cloud Functionsãªã©ã®ã•ã¾ã–ã¾ãªGCPã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰**è‡ªå‹•çš„ã«ãƒ­ã‚°ã‚’åé›†**ã—ã¾ã™ã€‚ã¾ãŸã€Cloud Loggingã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚„APIã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚ªãƒ³ãƒ—ãƒ¬ãƒŸã‚¹ã‚„ä»–ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã§å®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚‚ä½¿ç”¨ã§ãã¾ã™ã€‚

ä¸»ãªæ©Ÿèƒ½ï¼š

* **ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã®é›†ä¸­ç®¡ç†ï¼š** æ§˜ã€…ãªã‚½ãƒ¼ã‚¹ã‹ã‚‰ã®ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’é›†ç´„ã—ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã®å…¨ä½“åƒã‚’æä¾›ã—ã¾ã™ã€‚
* **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ç®¡ç†ï¼š** ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ­ã‚°ã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ã—ã€å³æ™‚åˆ†æã¨å¿œç­”ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚
* **å¼·åŠ›ãªãƒ‡ãƒ¼ã‚¿åˆ†æï¼š** é«˜åº¦ãªãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã¨æ¤œç´¢æ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ã¦ã€å¤§é‡ã®ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’è¿…é€Ÿã«å‡¦ç†ã—ã¾ã™ã€‚
* **BigQueryã¨ã®çµ±åˆï¼š** è©³ç´°ãªåˆ†æã¨ã‚¯ã‚¨ãƒªã®ãŸã‚ã«ãƒ­ã‚°ã‚’BigQueryã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚
* **ãƒ­ã‚°ãƒ™ãƒ¼ã‚¹ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼š** ç›£è¦–ã¨ã‚¢ãƒ©ãƒ¼ãƒˆã®ãŸã‚ã«ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚

### ãƒ­ã‚°ã®æµã‚Œ

<figure><img src="../../../.gitbook/assets/image (3) (1).png" alt=""><figcaption><p><a href="https://betterstack.com/community/guides/logging/gcp-logging/">https://betterstack.com/community/guides/logging/gcp-logging/</a></p></figcaption></figure>

åŸºæœ¬çš„ã«ã€ã‚·ãƒ³ã‚¯ã¨ãƒ­ã‚°ãƒ™ãƒ¼ã‚¹ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ã€ãƒ­ã‚°ãŒã©ã“ã«ä¿å­˜ã•ã‚Œã‚‹ã¹ãã‹ã‚’æ±ºå®šã—ã¾ã™ã€‚

### GCP LoggingãŒã‚µãƒãƒ¼ãƒˆã™ã‚‹è¨­å®š

Cloud Loggingã¯å¤šæ§˜ãªé‹ç”¨ãƒ‹ãƒ¼ã‚ºã«åˆã‚ã›ã¦é«˜åº¦ã«æ§‹æˆå¯èƒ½ã§ã™ï¼š

1. **ãƒ­ã‚°ãƒã‚±ãƒƒãƒˆï¼ˆã‚¦ã‚§ãƒ–ä¸Šã®ãƒ­ã‚°ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼‰ï¼š** Cloud Loggingã§ãƒã‚±ãƒƒãƒˆã‚’å®šç¾©ã—ã¦**ãƒ­ã‚°ä¿æŒ**ã‚’ç®¡ç†ã—ã€ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒªãŒã©ã®ãã‚‰ã„ã®æœŸé–“ä¿æŒã•ã‚Œã‚‹ã‹ã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚
* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã€ãƒã‚±ãƒƒãƒˆ`_Default`ã¨`_Required`ãŒä½œæˆã•ã‚Œã¾ã™ï¼ˆç‰‡æ–¹ã¯ã‚‚ã†ç‰‡æ–¹ãŒè¨˜éŒ²ã—ã¦ã„ãªã„ã‚‚ã®ã‚’è¨˜éŒ²ã—ã¦ã„ã¾ã™ï¼‰ã€‚
* **\_Required**ã¯ï¼š 

{% code overflow="wrap" %}
````
```bash
LOG_ID("cloudaudit.googleapis.com/activity") OR LOG_ID("externalaudit.googleapis.com/activity") OR LOG_ID("cloudaudit.googleapis.com/system_event") OR LOG_ID("externalaudit.googleapis.com/system_event") OR LOG_ID("cloudaudit.googleapis.com/access_transparency") OR LOG_ID("externalaudit.googleapis.com/access_transparency")
```

````
{% endcode %}

* ãƒ‡ãƒ¼ã‚¿ã®**ä¿æŒæœŸé–“**ã¯ãƒã‚±ãƒƒãƒˆã”ã¨ã«è¨­å®šã•ã‚Œã€**å°‘ãªãã¨ã‚‚1æ—¥**ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ãŸã ã—ã€**\_Requiredã®ä¿æŒæœŸé–“ã¯400æ—¥**ã§ã‚ã‚Šã€å¤‰æ›´ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚
* ãƒ­ã‚°ãƒã‚±ãƒƒãƒˆã¯**Cloud Storageã«è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“**ã€‚

2. **ãƒ­ã‚°ã‚·ãƒ³ã‚¯ï¼ˆã‚¦ã‚§ãƒ–ã®ãƒ­ã‚°ãƒ«ãƒ¼ã‚¿ãƒ¼ï¼‰ï¼š** **ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼**ã«åŸºã¥ã„ã¦ã€Pub/Subã€BigQueryã€ã¾ãŸã¯Cloud Storageãªã©ã®ã•ã¾ã–ã¾ãªå®›å…ˆã«**ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒªã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**ã™ã‚‹ãŸã‚ã®ã‚·ãƒ³ã‚¯ã‚’ä½œæˆã—ã¾ã™ã€‚
* **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ**ã§ã¯ã€ãƒã‚±ãƒƒãƒˆ`\_Default`ã¨`\_Required`ã®ãŸã‚ã®ã‚·ãƒ³ã‚¯ãŒä½œæˆã•ã‚Œã¾ã™ï¼š
* ```bash
_Required  logging.googleapis.com/projects/<proj-name>/locations/global/buckets/_Required  LOG_ID("cloudaudit.googleapis.com/activity") OR LOG_ID("externalaudit.googleapis.com/activity") OR LOG_ID("cloudaudit.googleapis.com/system_event") OR LOG_ID("externalaudit.googleapis.com/system_event") OR LOG_ID("cloudaudit.googleapis.com/access_transparency") OR LOG_ID("externalaudit.googleapis.com/access_transparency")
_Default   logging.googleapis.com/projects/<proj-name>/locations/global/buckets/_Default   NOT LOG_ID("cloudaudit.googleapis.com/activity") AND NOT LOG_ID("externalaudit.googleapis.com/activity") AND NOT LOG_ID("cloudaudit.googleapis.com/system_event") AND NOT LOG_ID("externalaudit.googleapis.com/system_event") AND NOT LOG_ID("cloudaudit.googleapis.com/access_transparency") AND NOT LOG_ID("externalaudit.googleapis.com/access_transparency")
```
* **é™¤å¤–ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼š** ç‰¹å®šã®ãƒ­ã‚°ã‚¨ãƒ³ãƒˆãƒªãŒå–ã‚Šè¾¼ã¾ã‚Œãªã„ã‚ˆã†ã«**é™¤å¤–ã‚’è¨­å®šã™ã‚‹**ã“ã¨ãŒå¯èƒ½ã§ã€ã‚³ã‚¹ãƒˆã‚’ç¯€ç´„ã—ã€ä¸å¿…è¦ãªãƒã‚¤ã‚ºã‚’æ¸›ã‚‰ã—ã¾ã™ã€‚
3. **ãƒ­ã‚°ãƒ™ãƒ¼ã‚¹ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼š** ãƒ­ã‚°ã®å†…å®¹ã«åŸºã¥ã„ã¦**ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹**ã‚’è¨­å®šã—ã€ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ã¦ã‚¢ãƒ©ãƒ¼ãƒˆã‚„ç›£è¦–ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚
4. **ãƒ­ã‚°ãƒ“ãƒ¥ãƒ¼ï¼š** ãƒ­ã‚°ãƒ“ãƒ¥ãƒ¼ã¯ã€ãƒ­ã‚°ãƒã‚±ãƒƒãƒˆå†…ã®ãƒ­ã‚°ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æŒã¤**èª°ã«å¯¾ã—ã¦ã‚‚é«˜åº¦ã§è©³ç´°ãªåˆ¶å¾¡ã‚’æä¾›**ã—ã¾ã™ã€‚
* Cloud Loggingã¯ã€ã™ã¹ã¦ã®ãƒã‚±ãƒƒãƒˆã«å¯¾ã—ã¦è‡ªå‹•çš„ã«`\_AllLogs`ãƒ“ãƒ¥ãƒ¼ã‚’ä½œæˆã—ã€ã™ã¹ã¦ã®ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚Cloud Loggingã¯ã€`\_Default`ãƒã‚±ãƒƒãƒˆã®ãŸã‚ã«`\_Default`ã¨ã„ã†ãƒ“ãƒ¥ãƒ¼ã‚‚ä½œæˆã—ã¾ã™ã€‚`\_Default`ãƒã‚±ãƒƒãƒˆã®`\_Default`ãƒ“ãƒ¥ãƒ¼ã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ç›£æŸ»ãƒ­ã‚°ã‚’é™¤ãã™ã¹ã¦ã®ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚`\_AllLogs`ãŠã‚ˆã³`\_Default`ãƒ“ãƒ¥ãƒ¼ã¯ç·¨é›†ã§ãã¾ã›ã‚“ã€‚

ç‰¹å®šã®ãƒ­ã‚°ãƒ“ãƒ¥ãƒ¼ã‚’**ä½¿ç”¨ã™ã‚‹ã ã‘ã®æ¨©é™ã‚’æŒã¤**ã‚ˆã†ã«ã€IAMãƒãƒªã‚·ãƒ¼ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ï¼š

{% code overflow="wrap" %}
```json
{
"bindings": [
{
"members": [
"user:username@gmail.com"
],
"role": "roles/logging.viewAccessor",
"condition": {
"title": "Bucket reader condition example",
"description": "Grants logging.viewAccessor role to user username@gmail.com for the VIEW_ID log view.",
"expression":
"resource.name == \"projects/PROJECT_ID/locations/LOCATION/buckets/BUCKET_NAME/views/VIEW_ID\""
}
}
],
"etag": "BwWd_6eERR4=",
"version": 3
}
```
{% endcode %}

### ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ­ã‚°

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€**Admin Write** æ“ä½œï¼ˆAdmin Activity ç›£æŸ»ãƒ­ã‚°ã¨ã‚‚å‘¼ã°ã‚Œã‚‹ï¼‰ãŒè¨˜éŒ²ã•ã‚Œï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚„æ§‹æˆæƒ…å ±ã‚’æ›¸ãè¾¼ã‚€ï¼‰ã€**ç„¡åŠ¹ã«ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“**ã€‚

ãã®å¾Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ **Data Access ç›£æŸ»ãƒ­ã‚°** ã‚’æœ‰åŠ¹ã«ã§ãã¾ã™ã€‚ã“ã‚Œã«ã¯ **Admin Readã€Data Writeã€ãŠã‚ˆã³ Data Write** ãŒå«ã¾ã‚Œã¾ã™ã€‚

å„ãƒ­ã‚°ã‚¿ã‚¤ãƒ—ã®è©³ç´°ã«ã¤ã„ã¦ã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„: [https://cloud.google.com/iam/docs/audit-logging](https://cloud.google.com/iam/docs/audit-logging)

ãŸã ã—ã€ã“ã‚Œã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ **`GetIamPolicy`** ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚„ãã®ä»–ã®èª­ã¿å–ã‚Šã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒ **è¨˜éŒ²ã•ã‚Œã¦ã„ãªã„** ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ç’°å¢ƒã‚’åˆ—æŒ™ã—ã‚ˆã†ã¨ã™ã‚‹æ”»æ’ƒè€…ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ãŒã‚ˆã‚Šå¤šãã®ãƒ­ã‚°ã‚’ç”Ÿæˆã™ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ã„ãªã‘ã‚Œã°ã€æ•ã¾ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚ˆã‚Šå¤šãã®ãƒ­ã‚°ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã«ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ã¯ [https://console.cloud.google.com/iam-admin/audit](https://console.cloud.google.com/iam-admin/audit) ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ãã‚Œã‚‰ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚2ã¤ã®ç•°ãªã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã™ï¼š

* **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ§‹æˆ**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ§‹æˆã‚’ä½œæˆã—ã€ã™ã¹ã¦ã® Admin Read ãŠã‚ˆã³/ã¾ãŸã¯ Data Read ãŠã‚ˆã³/ã¾ãŸã¯ Data Write ãƒ­ã‚°ã‚’è¨˜éŒ²ã—ã€å…é™¤ã•ã‚ŒãŸãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ï¼š

<figure><img src="../../../.gitbook/assets/image (338).png" alt=""><figcaption></figcaption></figure>

* **ã‚µãƒ¼ãƒ“ã‚¹ã‚’é¸æŠ**: ã¾ãŸã¯ã€ãƒ­ã‚°ã‚’ç”Ÿæˆã—ãŸã„ã‚µãƒ¼ãƒ“ã‚¹ã¨ãã®ç‰¹å®šã®ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ­ã‚°ã‚¿ã‚¤ãƒ—ãŠã‚ˆã³å…é™¤ã•ã‚ŒãŸãƒ—ãƒªãƒ³ã‚·ãƒ‘ãƒ«ã‚’**é¸æŠ**ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ã“ã‚Œã‚‰ã®ãƒ­ã‚°ã®ã¿ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã«ã‚‚æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ã‚ˆã‚Šå¤šãã®ãƒ­ã‚°ã‚’ç”Ÿæˆã™ã‚‹ã¨ã‚³ã‚¹ãƒˆãŒå¢—åŠ ã—ã¾ã™ã€‚

### åˆ—æŒ™

`gcloud` ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã¯ GCP ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®ä¸å¯æ¬ ãªéƒ¨åˆ†ã§ã‚ã‚Šã€ãƒªã‚½ãƒ¼ã‚¹ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç®¡ç†ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚`gcloud` ã‚’ä½¿ç”¨ã—ã¦ãƒ­ã‚°è¨­å®šã‚’ç®¡ç†ã—ã€ãƒ­ã‚°ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹æ–¹æ³•ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚

{% code overflow="wrap" %}
```bash
# List buckets
gcloud logging buckets list
gcloud logging buckets describe <bucket-name> --location <location>

# List log entries: only logs that contain log entries are listed.
gcloud logging logs list

# Get log metrics
gcloud logging metrics list
gcloud logging metrics describe <metric-name>

# Get log sinks
gcloud logging sinks list
gcloud logging sinks describe <sink-name>

# Get log views
gcloud logging views list --bucket <bucket> --location global
gcloud logging views describe --bucket <bucket> --location global <view-id> # view-id is usually the same as the bucket name

# Get log links
gcloud logging links list --bucket _Default --location global
gcloud logging links describe <link-id> --bucket _Default --location global
```
{% endcode %}

**`cloudresourcemanager`**ã®ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ä¾‹ï¼ˆæ¨©é™ã‚’ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹ã‚‚ã®ï¼‰: [https://console.cloud.google.com/logs/query;query=protoPayload.serviceName%3D%22cloudresourcemanager.googleapis.com%22;summaryFields=:false:32:beginning;cursorTimestamp=2024-01-20T00:07:14.482809Z;startTime=2024-01-01T11:12:26.062Z;endTime=2024-02-02T17:12:26.062Z?authuser=2\&project=digital-bonfire-410512](https://console.cloud.google.com/logs/query;query=protoPayload.serviceName%3D%22cloudresourcemanager.googleapis.com%22;summaryFields=:false:32:beginning;cursorTimestamp=2024-01-20T00:07:14.482809Z;startTime=2024-01-01T11:12:26.062Z;endTime=2024-02-02T17:12:26.062Z?authuser=2\&project=digital-bonfire-410512)

**`testIamPermissions`**ã®ãƒ­ã‚°ã¯ã‚ã‚Šã¾ã›ã‚“:

<figure><img src="../../../.gitbook/assets/image (2) (1) (1).png" alt=""><figcaption></figcaption></figure>

### ãƒã‚¹ãƒˆã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ã‚¤ãƒˆ

{% content-ref url="../gcp-post-exploitation/gcp-logging-post-exploitation.md" %}
[gcp-logging-post-exploitation.md](../gcp-post-exploitation/gcp-logging-post-exploitation.md)
{% endcontent-ref %}

### æ°¸ç¶šæ€§

{% content-ref url="../gcp-persistence/gcp-logging-persistence.md" %}
[gcp-logging-persistence.md](../gcp-persistence/gcp-logging-persistence.md)
{% endcontent-ref %}

## å‚è€ƒæ–‡çŒ®

* [https://cloud.google.com/logging/docs/logs-views#gcloud](https://cloud.google.com/logging/docs/logs-views#gcloud)
* [https://betterstack.com/community/guides/logging/gcp-logging/](https://betterstack.com/community/guides/logging/gcp-logging/)

{% hint style="success" %}
AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCPãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹</summary>

* [**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ç¢ºèªã—ã¦ãã ã•ã„!
* **ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**ãƒ†ãƒ¬ã‚°ãƒ©ãƒ ã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks)ãŠã‚ˆã³[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®githubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã—ã¦ãã ã•ã„ã€‚**

</details>
{% endhint %}
