# GCP - Bulut SQL Enum

{% hint style="success" %}
AWS Hacking Ã¶ÄŸrenin ve uygulayÄ±n: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking Ã¶ÄŸrenin ve uygulayÄ±n: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katÄ±lÄ±n veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ± paylaÅŸarak PR'ler gÃ¶ndererek HackTricks ve HackTricks Cloud github depolarÄ±na katkÄ±da bulunun.**

</details>
{% endhint %}

## Temel Bilgiler

Google Cloud SQL, MySQL, PostgreSQL ve SQL Server gibi iliÅŸkisel veritabanlarÄ±nÄ± **kurmayÄ±, sÃ¼rdÃ¼rmeyi ve yÃ¶netmeyi basitleÅŸtiren yÃ¶netilen bir hizmettir** ve Google Cloud Platform'da donanÄ±m saÄŸlama, veritabanÄ± kurulumu, yamalama ve yedekleme gibi gÃ¶revlerle uÄŸraÅŸma ihtiyacÄ±nÄ± ortadan kaldÄ±rÄ±r.

Google Cloud SQL'nin temel Ã¶zellikleri ÅŸunlardÄ±r:

1. **Tamamen YÃ¶netilen**: Google Cloud SQL tamamen yÃ¶netilen bir hizmettir, yani Google yamalama, gÃ¼ncelleme, yedekleme ve yapÄ±landÄ±rma gibi veritabanÄ± bakÄ±m gÃ¶revlerini Ã¼stlenir.
2. **Ã–lÃ§eklenebilirlik**: VeritabanÄ±nÄ±zÄ±n depolama kapasitesini ve hesaplama kaynaklarÄ±nÄ± genellikle kesintisiz bir ÅŸekilde Ã¶lÃ§eklendirme olanaÄŸÄ± saÄŸlar.
3. **YÃ¼ksek KullanÄ±labilirlik**: BÃ¶lge veya Ã¶rnek arÄ±zalarÄ±na dayanÄ±klÄ± olacak ÅŸekilde yÃ¼ksek kullanÄ±labilirlik yapÄ±landÄ±rmalarÄ± sunar.
4. **GÃ¼venlik**: Veri ÅŸifreleme, Kimlik ve EriÅŸim YÃ¶netimi (IAM) kontrolleri ve Ã¶zel IP'ler ve VPC kullanarak aÄŸ izolasyonu gibi gÃ¼Ã§lÃ¼ gÃ¼venlik Ã¶zellikleri sunar.
5. **Yedekler ve Kurtarma**: Otomatik yedeklemeleri ve zamana gÃ¶re kurtarmayÄ± destekleyerek verilerinizi korumanÄ±za ve geri yÃ¼klemenize yardÄ±mcÄ± olur.
6. **Entegrasyon**: DiÄŸer Google Cloud hizmetleriyle sorunsuz entegre olur, uygulamalarÄ± oluÅŸturmak, daÄŸÄ±tmak ve yÃ¶netmek iÃ§in kapsamlÄ± bir Ã§Ã¶zÃ¼m sunar.
7. **Performans**: VeritabanÄ± performansÄ±nÄ± izlemek, sorun gidermek ve iyileÅŸtirmek iÃ§in performans metrikleri ve teÅŸhisler sunar.

### Åifre

Web konsolda Cloud SQL, veritabanÄ±nÄ±n **ÅŸifresini belirlemeye** izin verir, ayrÄ±ca bir oluÅŸturma Ã¶zelliÄŸi de bulunur, ancak en Ã¶nemlisi, **MySQL**'e **boÅŸ bir ÅŸifre bÄ±rakmaya** ve tÃ¼m ÅŸifreleri sadece "a" karakteri olarak ayarlamaya izin verir:

<figure><img src="../../../.gitbook/assets/image (14).png" alt=""><figcaption></figcaption></figure>

AyrÄ±ca, **uzunluk**, **karmaÅŸÄ±klÄ±k**, **yeniden kullanÄ±mÄ± devre dÄ±ÅŸÄ± bÄ±rakma** ve **kullanÄ±cÄ± adÄ±nÄ± ÅŸifrede devre dÄ±ÅŸÄ± bÄ±rakma** gerektiren bir ÅŸifre politikasÄ± yapÄ±landÄ±rmak da mÃ¼mkÃ¼ndÃ¼r. TÃ¼mÃ¼ varsayÄ±lan olarak devre dÄ±ÅŸÄ± bÄ±rakÄ±lmÄ±ÅŸtÄ±r.

**SQL Server**, **Active Directory Kimlik DoÄŸrulamasÄ±** ile yapÄ±landÄ±rÄ±labilir.

### BÃ¶lge KullanÄ±labilirliÄŸi

VeritabanÄ±, **1 bÃ¶lgede veya birden fazla bÃ¶lgede** kullanÄ±labilir, elbette Ã¶nemli veritabanlarÄ±nÄ±n birden fazla bÃ¶lgede olmasÄ± Ã¶nerilir.

### Åifreleme

VarsayÄ±lan olarak Google tarafÄ±ndan yÃ¶netilen bir ÅŸifreleme anahtarÄ± kullanÄ±lÄ±r, ancak ayrÄ±ca **MÃ¼ÅŸteri tarafÄ±ndan yÃ¶netilen ÅŸifreleme anahtarÄ± (CMEK)** seÃ§mek de mÃ¼mkÃ¼ndÃ¼r.

### BaÄŸlantÄ±lar

* **Ã–zel IP**: VPC aÄŸÄ±nÄ± belirtin ve veritabanÄ± aÄŸ iÃ§inde Ã¶zel bir IP alÄ±r
* **Genel IP**: VeritabanÄ± genel bir IP alÄ±r, ancak varsayÄ±lan olarak kimse baÄŸlanamaz
* **YetkilendirilmiÅŸ aÄŸlar**: VeritabanÄ±na baÄŸlanmaya izin verilmesi gereken genel **IP aralÄ±klarÄ±nÄ± belirtin**
* **Ã–zel Yol**: DB bir VPC'ye baÄŸlÄ±ysa, bu seÃ§eneÄŸi etkinleÅŸtirmek ve **BigQuery gibi diÄŸer GCP hizmetlerine eriÅŸim saÄŸlamak mÃ¼mkÃ¼ndÃ¼r**

<figure><img src="../../../.gitbook/assets/image (15).png" alt=""><figcaption></figcaption></figure>

### Veri Koruma

* **GÃ¼nlÃ¼k yedekler**: Otomatik gÃ¼nlÃ¼k yedeklemeler gerÃ§ekleÅŸtirin ve saklamak istediÄŸiniz yedek sayÄ±sÄ±nÄ± belirtin.
* **Zamana GÃ¶re Kurtarma**: Belirli bir zamandaki verileri, saniyenin bir kesirine kadar geri yÃ¼klemenize olanak tanÄ±r.
* **Silinme KorumasÄ±**: EtkinleÅŸtirildiÄŸinde, bu Ã¶zellik devre dÄ±ÅŸÄ± bÄ±rakÄ±lana kadar DB silinemez

### NumaralandÄ±rma
```bash
# Get SQL instances
gcloud sql instances list
gcloud sql instances describe <inst-name> # get IPs, CACert, settings

# Get database names inside an instance (like information_schema, sys...)
gcloud sql databases list --instance <intance-name>
gcloud sql databases describe <db-name> --instance <intance-name>

# Get usernames inside the db instance
gcloud sql users list --instance <intance-name>

# Backups
gcloud sql backups list --instance <intance-name>
gcloud sql backups describe <backup-name> --instance <intance-name>
```
### Kimlik DoÄŸrulamasÄ±z SÄ±ralama

{% content-ref url="../gcp-unaunthenticated-enum-and-access/gcp-cloud-sql-unauthenticated-enum.md" %}
[gcp-cloud-sql-unauthenticated-enum.md](../gcp-unaunthenticated-enum-and-access/gcp-cloud-sql-unauthenticated-enum.md)
{% endcontent-ref %}

### SonrasÄ± SÄ±zma

{% content-ref url="../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md" %}
[gcp-cloud-sql-post-exploitation.md](../gcp-post-exploitation/gcp-cloud-sql-post-exploitation.md)
{% endcontent-ref %}

### KalÄ±cÄ±lÄ±k

{% content-ref url="../gcp-persistence/gcp-cloud-sql-persistence.md" %}
[gcp-cloud-sql-persistence.md](../gcp-persistence/gcp-cloud-sql-persistence.md)
{% endcontent-ref %}

{% hint style="success" %}
AWS Hacking Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katÄ±lÄ±n veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ± paylaÅŸarak PR'ler gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>
{% endhint %}
