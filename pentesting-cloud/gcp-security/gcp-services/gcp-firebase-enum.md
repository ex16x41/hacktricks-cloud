# GCP - Firebase Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## [Firebase](https://cloud.google.com/sdk/gcloud/reference/firebase/)

Î— Firebase Realtime Database ÎµÎ¯Î½Î±Î¹ Î¼Î¹Î± Î²Î¬ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ NoSQL Ï€Î¿Ï… Ï†Î¹Î»Î¿Î¾ÎµÎ½ÎµÎ¯Ï„Î±Î¹ ÏƒÏ„Î¿ cloud ÎºÎ±Î¹ ÏƒÎ±Ï‚ ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Î½Î± Î±Ï€Î¿Î¸Î·ÎºÎµÏÎµÏ„Îµ ÎºÎ±Î¹ Î½Î± ÏƒÏ…Î³Ï‡ÏÎ¿Î½Î¯Î¶ÎµÏ„Îµ Î´ÎµÎ´Î¿Î¼Î­Î½Î± Î¼ÎµÏ„Î±Î¾Ï Ï„Ï‰Î½ Ï‡ÏÎ·ÏƒÏ„ÏÎ½ ÏƒÎ±Ï‚ ÏƒÎµ Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÏŒ Ï‡ÏÏŒÎ½Î¿. [ÎœÎ¬Î¸ÎµÏ„Îµ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ±](https://firebase.google.com/products/realtime-database/).

### Unauthenticated Enum

ÎŸÏÎ¹ÏƒÎ¼Î­Î½Î± **Firebase endpoints** Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î²ÏÎµÎ¸Î¿ÏÎ½ ÏƒÎµ **ÎºÎ¹Î½Î·Ï„Î­Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î­Ï‚**. Î•Î¯Î½Î±Î¹ Ï€Î¹Î¸Î±Î½ÏŒ ÏŒÏ„Î¹ Ï„Î¿ Firebase endpoint Ï€Î¿Ï… Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ ÎµÎ¯Î½Î±Î¹ **ÎºÎ±ÎºÏÏ‚ ÏÏ…Î¸Î¼Î¹ÏƒÎ¼Î­Î½Î¿ Î´Î¯Î½Î¿Î½Ï„Î±Ï‚ ÏƒÎµ ÏŒÎ»Î¿Ï…Ï‚ Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± Î±Î½Î¬Î³Î½Ï‰ÏƒÎ·Ï‚ (ÎºÎ±Î¹ ÎµÎ³Î³ÏÎ±Ï†Î®Ï‚)** ÏƒÎµ Î±Ï…Ï„ÏŒ.

Î‘Ï…Ï„Î® ÎµÎ¯Î½Î±Î¹ Î· ÎºÎ¿Î¹Î½Î® Î¼ÎµÎ¸Î¿Î´Î¿Î»Î¿Î³Î¯Î± Î³Î¹Î± Ï„Î·Î½ Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ· ÎºÎ±Î¹ ÎµÎºÎ¼ÎµÏ„Î¬Î»Î»ÎµÏ…ÏƒÎ· ÎºÎ±ÎºÏÏ‚ ÏÏ…Î¸Î¼Î¹ÏƒÎ¼Î­Î½Ï‰Î½ Î²Î¬ÏƒÎµÏ‰Î½ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Firebase:

1. **Î Î¬ÏÏ„Îµ Ï„Î¿ APK** Ï„Î·Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Î¿Ï€Î¿Î¹Î¿Î´Î®Ï€Î¿Ï„Îµ ÎµÏÎ³Î±Î»ÎµÎ¯Î¿ Î³Î¹Î± Î½Î± Î±Ï€Î¿ÎºÏ„Î®ÏƒÎµÏ„Îµ Ï„Î¿ APK Î±Ï€ÏŒ Ï„Î· ÏƒÏ…ÏƒÎºÎµÏ…Î® Î³Î¹Î± Î±Ï…Ï„Î®Î½ Ï„Î·Î½ POC.\
ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î¿ â€œAPK Extractorâ€ [https://play.google.com/store/apps/details?id=com.ext.ui\&hl=e](https://hackerone.com/redirect?signature=3774f35d1b5ea8a4fd209d80084daa9f5887b105\&url=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.ext.ui%26hl%3Den)
2. **Î‘Ï€Î¿ÏƒÏ…Î¼Ï€Î¹Î­ÏƒÏ„Îµ** Ï„Î¿ APK Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ Ï„Î¿ **apktool**, Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ Ï„Î·Î½ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ ÎµÎ½Ï„Î¿Î»Î® Î³Î¹Î± Î½Î± ÎµÎ¾Î±Î³Î¬Î³ÎµÏ„Îµ Ï„Î¿Î½ Ï€Î·Î³Î±Î¯Î¿ ÎºÏÎ´Î¹ÎºÎ± Î±Ï€ÏŒ Ï„Î¿ APK.
3. ÎœÎµÏ„Î±Î²ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ _**res/values/strings.xml**_ ÎºÎ±Î¹ Î±Î½Î±Î¶Î·Ï„Î®ÏƒÏ„Îµ Î±Ï…Ï„ÏŒ ÎºÎ±Î¹ **ÏˆÎ¬Î¾Ï„Îµ** Î³Î¹Î± Ï„Î· Î»Î­Î¾Î·-ÎºÎ»ÎµÎ¹Î´Î¯ â€œ**firebase**â€
4. ÎœÏ€Î¿ÏÎµÎ¯ Î½Î± Î²ÏÎµÎ¯Ï„Îµ ÎºÎ¬Ï„Î¹ ÏƒÎ±Î½ Î±Ï…Ï„ÏŒ Ï„Î¿ URL â€œ_**https://xyz.firebaseio.com/**_â€
5. Î£Ï„Î· ÏƒÏ…Î½Î­Ï‡ÎµÎ¹Î±, Î¼ÎµÏ„Î±Î²ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿Î½ Ï€ÎµÏÎ¹Î·Î³Î·Ï„Î® ÎºÎ±Î¹ **Î½Î± Ï€Î»Î¿Î·Î³Î·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ Î²ÏÎµÎ¸Î­Î½ URL**: _https://xyz.firebaseio.com/.json_
6. 2 Ï„ÏÏ€Î¿Î¹ Î±Ï€Î±Î½Ï„Î®ÏƒÎµÏ‰Î½ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÎ¼Ï†Î±Î½Î¹ÏƒÏ„Î¿ÏÎ½:
1. â€œ**Permission Denied**â€: Î‘Ï…Ï„ÏŒ ÏƒÎ·Î¼Î±Î¯Î½ÎµÎ¹ ÏŒÏ„Î¹ Î´ÎµÎ½ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î­Ï‡ÎµÏ„Îµ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·, Î¿Ï€ÏŒÏ„Îµ ÎµÎ¯Î½Î±Î¹ ÎºÎ±Î»Î¬ ÏÏ…Î¸Î¼Î¹ÏƒÎ¼Î­Î½Î¿
2. â€œ**null**â€ Î±Ï€Î¬Î½Ï„Î·ÏƒÎ· Î® Î¼Î¹Î± ÏƒÎµÎ¹ÏÎ¬ Î±Ï€ÏŒ **JSON Î´ÎµÎ´Î¿Î¼Î­Î½Î±**: Î‘Ï…Ï„ÏŒ ÏƒÎ·Î¼Î±Î¯Î½ÎµÎ¹ ÏŒÏ„Î¹ Î· Î²Î¬ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ ÎµÎ¯Î½Î±Î¹ Î´Î·Î¼ÏŒÏƒÎ¹Î± ÎºÎ±Î¹ Î­Ï‡ÎµÏ„Îµ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± Î±Î½Î¬Î³Î½Ï‰ÏƒÎ·Ï‚.
1. Î£Îµ Î±Ï…Ï„Î® Ï„Î·Î½ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ·, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **ÎµÎ»Î­Î³Î¾ÎµÏ„Îµ Î³Î¹Î± Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± ÎµÎ³Î³ÏÎ±Ï†Î®Ï‚**, Î¼Î¹Î± ÎµÎºÎ¼ÎµÏ„Î¬Î»Î»ÎµÏ…ÏƒÎ· Î³Î¹Î± Î½Î± Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÎµÏ„Îµ Ï„Î± Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± ÎµÎ³Î³ÏÎ±Ï†Î®Ï‚ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î²ÏÎµÎ¯Ï„Îµ ÎµÎ´Ï: [https://github.com/MuhammadKhizerJaved/Insecure-Firebase-Exploit](https://github.com/MuhammadKhizerJaved/Insecure-Firebase-Exploit)

**Î•Î½Î´Î¹Î±Ï†Î­ÏÎ¿Ï…ÏƒÎ± ÏƒÎ·Î¼ÎµÎ¯Ï‰ÏƒÎ·**: ÎŒÏ„Î±Î½ Î±Î½Î±Î»ÏÎµÏ„Îµ Î¼Î¹Î± ÎºÎ¹Î½Î·Ï„Î® ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Î¼Îµ Ï„Î¿ **MobSF**, Î±Î½ Î²ÏÎµÎ¹ Î¼Î¹Î± Î²Î¬ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ firebase Î¸Î± ÎµÎ»Î­Î³Î¾ÎµÎ¹ Î±Î½ Î±Ï…Ï„Î® ÎµÎ¯Î½Î±Î¹ **Î´Î·Î¼ÏŒÏƒÎ¹Î± Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î·** ÎºÎ±Î¹ Î¸Î± Ï„Î¿ ÎµÎ¹Î´Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹.

Î•Î½Î±Î»Î»Î±ÎºÏ„Î¹ÎºÎ¬, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î¿ [Firebase Scanner](https://github.com/shivsahni/FireBaseScanner), Î­Î½Î± ÏƒÎµÎ½Î¬ÏÎ¹Î¿ python Ï€Î¿Ï… Î±Ï…Ï„Î¿Î¼Î±Ï„Î¿Ï€Î¿Î¹ÎµÎ¯ Ï„Î·Î½ Ï€Î±ÏÎ±Ï€Î¬Î½Ï‰ ÎµÏÎ³Î±ÏƒÎ¯Î± ÏŒÏ€Ï‰Ï‚ Ï†Î±Î¯Î½ÎµÏ„Î±Î¹ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰:
```bash
python FirebaseScanner.py -f <commaSeperatedFirebaseProjectNames>
```
### Authenticated Enum

Î‘Î½ Î­Ï‡ÎµÏ„Îµ Î´Î¹Î±Ï€Î¹ÏƒÏ„ÎµÏ…Ï„Î®ÏÎ¹Î± Î³Î¹Î± Î½Î± Î±Ï€Î¿ÎºÏ„Î®ÏƒÎµÏ„Îµ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÏ„Î· Î²Î¬ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Firebase, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Î­Î½Î± ÎµÏÎ³Î±Î»ÎµÎ¯Î¿ ÏŒÏ€Ï‰Ï‚ Ï„Î¿ [**Baserunner**](https://github.com/iosiro/baserunner) Î³Î¹Î± Î½Î± Î±Ï€Î¿ÎºÏ„Î®ÏƒÎµÏ„Îµ Ï€Î¹Î¿ ÎµÏÎºÎ¿Î»Î± Ï„Î¹Ï‚ Î±Ï€Î¿Î¸Î·ÎºÎµÏ…Î¼Î­Î½ÎµÏ‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚. Î‰ Î­Î½Î± ÏƒÎµÎ½Î¬ÏÎ¹Î¿ ÏŒÏ€Ï‰Ï‚ Ï„Î¿ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰:
```python
#Taken from https://blog.assetnote.io/bug-bounty/2020/02/01/expanding-attack-surface-react-native/
import pyrebase

config = {
"apiKey": "FIREBASE_API_KEY",
"authDomain": "FIREBASE_AUTH_DOMAIN_ID.firebaseapp.com",
"databaseURL": "https://FIREBASE_AUTH_DOMAIN_ID.firebaseio.com",
"storageBucket": "FIREBASE_AUTH_DOMAIN_ID.appspot.com",
}

firebase = pyrebase.initialize_app(config)

db = firebase.database()

print(db.get())
```
Î“Î¹Î± Î½Î± Î´Î¿ÎºÎ¹Î¼Î¬ÏƒÎµÏ„Îµ Î¬Î»Î»ÎµÏ‚ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚ ÏƒÏ„Î· Î²Î¬ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½, ÏŒÏ€Ï‰Ï‚ Î· ÎµÎ³Î³ÏÎ±Ï†Î® ÏƒÏ„Î· Î²Î¬ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½, Î±Î½Î±Ï„ÏÎ­Î¾Ï„Îµ ÏƒÏ„Î·Î½ Ï„ÎµÎºÎ¼Î·ÏÎ¯Ï‰ÏƒÎ· Pyrebase Ï€Î¿Ï… Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î²ÏÎµÎ¯Ï„Îµ [ÎµÎ´Ï](https://github.com/thisbejim/Pyrebase).

### Î ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÎµ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ Î¼Îµ APPID ÎºÎ±Î¹ API Key <a href="#access-info-with-appid-and-api-key" id="access-info-with-appid-and-api-key"></a>

Î•Î¬Î½ Î±Ï€Î¿ÏƒÏ…Î¼Ï€Î¹Î­ÏƒÎµÏ„Îµ Ï„Î·Î½ ÎµÏ†Î±ÏÎ¼Î¿Î³Î® iOS ÎºÎ±Î¹ Î±Î½Î¿Î¯Î¾ÎµÏ„Îµ Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ `GoogleService-Info.plist` ÎºÎ±Î¹ Î²ÏÎµÎ¯Ï„Îµ Ï„Î¿ API Key ÎºÎ±Î¹ Ï„Î¿ APP ID:

* API KEY **AIzaSyAs1\[...]**
* APP ID **1:612345678909:ios:c212345678909876**

ÎœÏ€Î¿ÏÎµÎ¯ Î½Î± ÎµÎ¯ÏƒÏ„Îµ ÏƒÎµ Î¸Î­ÏƒÎ· Î½Î± Î±Ï€Î¿ÎºÏ„Î®ÏƒÎµÏ„Îµ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÎµ ÎºÎ¬Ï€Î¿Î¹ÎµÏ‚ ÎµÎ½Î´Î¹Î±Ï†Î­ÏÎ¿Ï…ÏƒÎµÏ‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚

**Î‘Î¯Ï„Î·Î¼Î±**

`curl -v -X POST "https://firebaseremoteconfig.googleapis.com/v1/projects/612345678909/namespaces/firebase:fetch?key=AIzaSyAs1[...]" -H "Content-Type: application/json" --data '{"appId": "1:612345678909:ios:c212345678909876", "appInstanceId": "PROD"}'`

## Î‘Î½Î±Ï†Î¿ÏÎ­Ï‚ <a href="#references" id="references"></a>

* â€‹[https://blog.securitybreached.org/2020/02/04/exploiting-insecure-firebase-database-bugbounty/](https://blog.securitybreached.org/2020/02/04/exploiting-insecure-firebase-database-bugbounty/)â€‹
* â€‹[https://medium.com/@danangtriatmaja/firebase-database-takover-b7929bbb62e1](https://medium.com/@danangtriatmaja/firebase-database-takover-b7929bbb62e1)â€‹

{% hint style="success" %}
ÎœÎ¬Î¸ÎµÏ„Îµ & ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
ÎœÎ¬Î¸ÎµÏ„Îµ & ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Î¥Ï€Î¿ÏƒÏ„Î®ÏÎ¹Î¾Î· HackTricks</summary>

* Î•Î»Î­Î³Î¾Ï„Îµ Ï„Î± [**ÏƒÏ‡Î­Î´Î¹Î± ÏƒÏ…Î½Î´ÏÎ¿Î¼Î®Ï‚**](https://github.com/sponsors/carlospolop)!
* **Î•Î³Î³ÏÎ±Ï†ÎµÎ¯Ï„Îµ ÏƒÏ„Î·Î½** ğŸ’¬ [**Î¿Î¼Î¬Î´Î± Discord**](https://discord.gg/hRep4RUj7f) Î® ÏƒÏ„Î·Î½ [**Î¿Î¼Î¬Î´Î± telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ ÎºÏŒÎ»Ï€Î± hacking Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
