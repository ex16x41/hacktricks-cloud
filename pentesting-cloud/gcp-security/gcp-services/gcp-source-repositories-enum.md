# GCP - Kaynak DepolarÄ± Enum

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve uygulayÄ±n: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve uygulayÄ±n: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katÄ±lÄ±n veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ± paylaÅŸarak PR'ler gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>
{% endhint %}

## Temel Bilgiler <a href="#reviewing-cloud-git-repositories" id="reviewing-cloud-git-repositories"></a>

Google Cloud Kaynak DepolarÄ±, tam Ã¶zellikli, Ã¶lÃ§eklenebilir, **Ã¶zel Git depo hizmetidir**. DiÄŸer GCP araÃ§larÄ± ve hizmetleriyle sorunsuz entegre olan bir ortamda kaynak kodunuzu barÄ±ndÄ±rmak Ã¼zere tasarlanmÄ±ÅŸtÄ±r. Ekiplerin kodlarÄ±nÄ± depolamak, yÃ¶netmek ve izlemek iÃ§in iÅŸbirlikÃ§i ve gÃ¼venli bir yer sunar.

Cloud Kaynak DepolarÄ±nÄ±n temel Ã¶zellikleri ÅŸunlardÄ±r:

1. **Tamamen YÃ¶netilen Git BarÄ±ndÄ±rma**: Git'in tanÄ±dÄ±k iÅŸlevselliÄŸini sunar, yani dÃ¼zenli Git komutlarÄ± ve iÅŸ akÄ±ÅŸlarÄ±nÄ± kullanabilirsiniz.
2. **GCP Hizmetleriyle Entegrasyon**: Cloud Build, Pub/Sub ve App Engine gibi diÄŸer GCP hizmetleriyle entegre olarak kodunuzdan daÄŸÄ±tÄ±ma kadar izlenebilirlik saÄŸlar.
3. **Ã–zel Depolar**: Kodunuzun gÃ¼venli ve Ã¶zel bir ÅŸekilde depolanmasÄ±nÄ± saÄŸlar. EriÅŸimi Cloud Kimlik ve EriÅŸim YÃ¶netimi (IAM) rollerini kullanarak kontrol edebilirsiniz.
4. **Kaynak Kodu Analizi**: Kaynak kodunuzun otomatik analizini saÄŸlamak iÃ§in diÄŸer GCP araÃ§larÄ±yla Ã§alÄ±ÅŸarak hatalar, gÃ¼venlik aÃ§Ä±klarÄ± veya kÃ¶tÃ¼ kodlama uygulamalarÄ± gibi potansiyel sorunlarÄ± tanÄ±mlar.
5. **Ä°ÅŸbirliÄŸi AraÃ§larÄ±**: BirleÅŸtirme istekleri, yorumlar ve incelemeler gibi araÃ§larla iÅŸbirlikÃ§i kodlama desteÄŸi saÄŸlar.
6. **Ayna DesteÄŸi**: GitHub veya Bitbucket'ta barÄ±ndÄ±rÄ±lan depolarla Cloud Kaynak DepolarÄ±nÄ± baÄŸlamanÄ±za olanak tanÄ±r, otomatik senkronizasyonu etkinleÅŸtirir ve tÃ¼m depolarÄ±nÄ±zÄ±n birleÅŸik bir gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ saÄŸlar.

### OffSec bilgileri <a href="#reviewing-cloud-git-repositories" id="reviewing-cloud-git-repositories"></a>

* Bir projenin iÃ§indeki kaynak depolarÄ± yapÄ±landÄ±rmasÄ±, Cloud Pub/Sub mesajlarÄ±nÄ± yayÄ±nlamak iÃ§in kullanÄ±lan bir **Hizmet HesabÄ±** iÃ§erecektir. KullanÄ±lan varsayÄ±lan hesap **Compute SA**'dÄ±r. Ancak, kaynak depolarÄ±ndan token Ã§almanÄ±n mÃ¼mkÃ¼n olmadÄ±ÄŸÄ±nÄ± dÃ¼ÅŸÃ¼nÃ¼yorum Ã§Ã¼nkÃ¼ arka planda yÃ¼rÃ¼tÃ¼lÃ¼yor.
* GCP Cloud Kaynak DepolarÄ± web konsolunda ([https://source.cloud.google.com/](https://source.cloud.google.com/)) kodu gÃ¶rmek iÃ§in kodun varsayÄ±lan olarak **ana dal iÃ§inde** olmasÄ± gerekir.
* GitHub veya Bitbucket'tan bir repo'ya iÅŸaret eden bir ayna Cloud Deposu oluÅŸturabilirsiniz (bu platformlara eriÅŸim saÄŸlar).
* GCP iÃ§inden kod yazÄ±p hata ayÄ±klamak mÃ¼mkÃ¼ndÃ¼r.
* VarsayÄ±lan olarak, Kaynak DepolarÄ± **Ã¶zel anahtarlarÄ±n taahhÃ¼tlerde itilmesini engeller**, ancak bu devre dÄ±ÅŸÄ± bÄ±rakÄ±labilir.

### Bulutta Kabukta AÃ§

Depoyu Bulut KabuÄŸunda aÃ§mak mÃ¼mkÃ¼ndÃ¼r, ÅŸÃ¶yle bir iletiÅŸim kutusu gÃ¶rÃ¼necektir:

<figure><img src="../../../.gitbook/assets/image (325).png" alt=""><figcaption></figcaption></figure>

Bu, Bulut KabuÄŸunda kod yazmanÄ±za ve hata ayÄ±klamanÄ±za olanak tanÄ±r (bu, cloudshell'in tehlikeye atÄ±labileceÄŸi anlamÄ±na gelir).

### NumaralandÄ±rma

{% code overflow="wrap" %}
```bash
# Repos enumeration
gcloud source repos list #Get names and URLs
gcloud source repos describe <repo_name>
gcloud source repos get-iam-policy <repo_name>

# gcloud repo clone
gcloud source repos clone <REPO NAME>
gcloud source repos get-iam-policy <REPO NAME>
... git add & git commit -m ...
git push --set-upstream origin master
git push -u origin master

# Access via git
## To add a SSH key go to https://source.cloud.google.com/user/ssh_keys (no gcloud command)
git clone ssh://username@domain.com@source.developers.google.com:2022/p/<proj-name>/r/<repo-name>
git add, commit, push...
```
{% endcode %}

### Yetki YÃ¼kseltme ve Son SaldÄ±rÄ±

{% content-ref url="../gcp-privilege-escalation/gcp-sourcerepos-privesc.md" %}
[gcp-sourcerepos-privesc.md](../gcp-privilege-escalation/gcp-sourcerepos-privesc.md)
{% endcontent-ref %}

### Kimlik DoÄŸrulamasÄ±z SÄ±ralama

{% content-ref url="../gcp-unaunthenticated-enum-and-access/gcp-source-repositories-unauthenticated-enum.md" %}
[gcp-source-repositories-unauthenticated-enum.md](../gcp-unaunthenticated-enum-and-access/gcp-source-repositories-unauthenticated-enum.md)
{% endcontent-ref %}

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve uygulayÄ±n: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve uygulayÄ±n: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ± paylaÅŸarak PR gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>
{% endhint %}
