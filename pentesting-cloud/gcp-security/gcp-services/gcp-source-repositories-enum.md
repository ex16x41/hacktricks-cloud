# GCP - Kaynak DepolarÄ± Enum

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **Bize katÄ±lÄ±n** ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya **bizi** **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'da takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

## Temel Bilgiler <a href="#reviewing-cloud-git-repositories" id="reviewing-cloud-git-repositories"></a>

Google Cloud Source Repositories, tam Ã¶zellikli, Ã¶lÃ§eklenebilir, **Ã¶zel bir Git depo hizmetidir**. **Kaynak kodunuzu tamamen yÃ¶netilen bir ortamda barÄ±ndÄ±rmak** iÃ§in tasarlanmÄ±ÅŸtÄ±r ve diÄŸer GCP araÃ§larÄ± ve hizmetleriyle sorunsuz bir ÅŸekilde entegre olur. Ekiplerin kodlarÄ±nÄ± depolamak, yÃ¶netmek ve izlemek iÃ§in iÅŸbirlikÃ§i ve gÃ¼venli bir yer sunar.

Cloud Source Repositories'in ana Ã¶zellikleri ÅŸunlardÄ±r:

1. **Tam YÃ¶netilen Git BarÄ±ndÄ±rma**: Git'in tanÄ±dÄ±k iÅŸlevselliÄŸini sunar, yani normal Git komutlarÄ±nÄ± ve iÅŸ akÄ±ÅŸlarÄ±nÄ± kullanabilirsiniz.
2. **GCP Hizmetleri ile Entegrasyon**: Koddan daÄŸÄ±tÄ±ma kadar uÃ§tan uca izlenebilirlik iÃ§in Cloud Build, Pub/Sub ve App Engine gibi diÄŸer GCP hizmetleriyle entegre olur.
3. **Ã–zel Depolar**: Kodunuzun gÃ¼venli ve Ã¶zel bir ÅŸekilde depolandÄ±ÄŸÄ±ndan emin olur. EriÅŸimi Cloud Identity and Access Management (IAM) rolleri kullanarak kontrol edebilirsiniz.
4. **Kaynak Kodu Analizi**: DiÄŸer GCP araÃ§larÄ±yla Ã§alÄ±ÅŸarak kaynak kodunuzun otomatik analizini saÄŸlar, hatalar, gÃ¼venlik aÃ§Ä±klarÄ± veya kÃ¶tÃ¼ kodlama uygulamalarÄ± gibi potansiyel sorunlarÄ± tanÄ±mlar.
5. **Ä°ÅŸbirliÄŸi AraÃ§larÄ±**: BirleÅŸtirme talepleri, yorumlar ve incelemeler gibi araÃ§larla iÅŸbirlikÃ§i kodlamayÄ± destekler.
6. **Aynalama DesteÄŸi**: Cloud Source Repositories'i GitHub veya Bitbucket'ta barÄ±ndÄ±rÄ±lan depolarla baÄŸlamanÄ±za olanak tanÄ±r, otomatik senkronizasyon saÄŸlar ve tÃ¼m depolarÄ±nÄ±zÄ±n birleÅŸik bir gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ sunar.

### OffSec bilgileri <a href="#reviewing-cloud-git-repositories" id="reviewing-cloud-git-repositories"></a>

* Bir projedeki kaynak depolarÄ± yapÄ±landÄ±rmasÄ±, Cloud Pub/Sub mesajlarÄ±nÄ± yayÄ±nlamak iÃ§in kullanÄ±lan bir **Hizmet HesabÄ±** iÃ§erecektir. KullanÄ±lan varsayÄ±lan **Compute SA**'dÄ±r. Ancak, **Kaynak DepolarÄ±ndan token'Ä±nÄ± Ã§almanÄ±n mÃ¼mkÃ¼n olduÄŸunu dÃ¼ÅŸÃ¼nmÃ¼yorum** Ã§Ã¼nkÃ¼ arka planda Ã§alÄ±ÅŸtÄ±rÄ±lmaktadÄ±r.
* GCP Cloud Source Repositories web konsolundaki kodu gÃ¶rmek iÃ§in, kodun **varsayÄ±lan olarak ana dalda** olmasÄ± gerekir.
* AyrÄ±ca **Github** veya **Bitbucket**'taki bir depoya iÅŸaret eden **bir ayna Cloud Repository** oluÅŸturabilirsiniz (bu platformlara eriÅŸim vererek).
* **GCP iÃ§inden kod yazmak ve hata ayÄ±klamak** mÃ¼mkÃ¼ndÃ¼r.
* VarsayÄ±lan olarak, Kaynak DepolarÄ± **Ã¶zel anahtarlarÄ±n taahhÃ¼tlerde itilmesini engeller**, ancak bu devre dÄ±ÅŸÄ± bÄ±rakÄ±labilir.

### Cloud Shell'de AÃ§

Depoyu Cloud Shell'de aÃ§mak mÃ¼mkÃ¼ndÃ¼r, bu gibi bir istemci gÃ¶rÃ¼necektir:

<figure><img src="../../../.gitbook/assets/image (325).png" alt=""><figcaption></figcaption></figure>

Bu, Cloud Shell'de kod yazmanÄ±za ve hata ayÄ±klamanÄ±za olanak tanÄ±r (bu, cloudshell'in tehlikeye girmesine neden olabilir).

### SayÄ±m

{% code overflow="wrap" %}
```bash
# Repos enumeration
gcloud source repos list #Get names and URLs
gcloud source repos describe <repo_name>
gcloud source repos get-iam-policy <repo_name>

# gcloud repo clone
gcloud source repos clone <REPO NAME>
gcloud source repos get-iam-policy <REPO NAME>
... git add & git commit -m ...
git push --set-upstream origin master
git push -u origin master

# Access via git
## To add a SSH key go to https://source.cloud.google.com/user/ssh_keys (no gcloud command)
git clone ssh://username@domain.com@source.developers.google.com:2022/p/<proj-name>/r/<repo-name>
git add, commit, push...
```
{% endcode %}

### Yetki YÃ¼kseltme & SaldÄ±rÄ± SonrasÄ±

{% content-ref url="../gcp-privilege-escalation/gcp-sourcerepos-privesc.md" %}
[gcp-sourcerepos-privesc.md](../gcp-privilege-escalation/gcp-sourcerepos-privesc.md)
{% endcontent-ref %}

### Kimlik DoÄŸrulamasÄ± Olmadan Enum

{% content-ref url="../gcp-unauthenticated-enum-and-access/gcp-source-repositories-unauthenticated-enum.md" %}
[gcp-source-repositories-unauthenticated-enum.md](../gcp-unauthenticated-enum-and-access/gcp-source-repositories-unauthenticated-enum.md)
{% endcontent-ref %}

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'i takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}
