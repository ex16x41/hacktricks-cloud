# GCP Pentesting

{% hint style="success" %}
AWS Hacking ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… í”Œëœ**](https://github.com/sponsors/carlospolop) í™•ì¸í•˜ê¸°!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**telegram ê·¸ë£¹**](https://t.me/peass)ì— ê°€ì…í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **PRì„ ì œì¶œí•˜ì—¬** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì„¸ìš”.

</details>
{% endhint %}

## ê¸°ë³¸ ì •ë³´

**GCP** í™˜ê²½ì„ **íœí…ŒìŠ¤íŒ…**í•˜ê¸° ì „ì—, **ì‘ë™ ë°©ì‹ì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì‚¬í•­**ì„ ì•Œì•„ì•¼ **ì˜¤ë¥˜ë¥¼ ì°¾ê³  ì´ë¥¼ ì•…ìš©í•˜ëŠ” ë°©ë²•**ì„ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.

**ì¡°ì§** ê³„ì¸µ êµ¬ì¡°, **ê¶Œí•œ** ë° ê¸°íƒ€ ê¸°ë³¸ ê°œë…ê³¼ ê°™ì€ ê°œë…ì€ ë‹¤ìŒì—ì„œ ì„¤ëª…ë©ë‹ˆë‹¤:

{% content-ref url="gcp-basic-information/" %}
[gcp-basic-information](gcp-basic-information/)
{% endcontent-ref %}

## í•™ìŠµì„ ìœ„í•œ ì‹¤ìŠµ

* [https://gcpgoat.joshuajebaraj.com/](https://gcpgoat.joshuajebaraj.com/)
* [https://github.com/ine-labs/GCPGoat](https://github.com/ine-labs/GCPGoat)
* [https://github.com/lacioffi/GCP-pentest-lab/](https://github.com/lacioffi/GCP-pentest-lab/)
* [https://github.com/carlospolop/gcp\_privesc\_scripts](https://github.com/carlospolop/gcp\_privesc\_scripts)

## GCP íœí…ŒìŠ¤í„°/ë ˆë“œ íŒ€ ë°©ë²•ë¡ 

GCP í™˜ê²½ì„ ê°ì‚¬í•˜ë ¤ë©´ **ì–´ë–¤ ì„œë¹„ìŠ¤ê°€ ì‚¬ìš©ë˜ê³  ìˆëŠ”ì§€**, **ë¬´ì—‡ì´ ë…¸ì¶œë˜ê³  ìˆëŠ”ì§€**, ëˆ„ê°€ **ë¬´ì—‡ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€**, ë‚´ë¶€ GCP ì„œë¹„ìŠ¤ì™€ **ì™¸ë¶€ ì„œë¹„ìŠ¤ê°€ ì–´ë–»ê²Œ ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€**ë¥¼ ì•„ëŠ” ê²ƒì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.

ë ˆë“œ íŒ€ ê´€ì ì—ì„œ **GCP í™˜ê²½ì„ ì†ìƒì‹œí‚¤ëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„**ëŠ” **ìê²© ì¦ëª…**ì„ ì–»ëŠ” ê²ƒì…ë‹ˆë‹¤. ë‹¤ìŒì€ ê·¸ ë°©ë²•ì— ëŒ€í•œ ëª‡ ê°€ì§€ ì•„ì´ë””ì–´ì…ë‹ˆë‹¤:

* github (ë˜ëŠ” ìœ ì‚¬í•œ ê³³)ì—ì„œì˜ **ìœ ì¶œ** - OSINT
* **ì‚¬íšŒ** ê³µí•™ (í˜ì´ì§€ [**Workspace Security**](../workspace-security/) í™•ì¸)
* **ë¹„ë°€ë²ˆí˜¸** ì¬ì‚¬ìš© (ë¹„ë°€ë²ˆí˜¸ ìœ ì¶œ)
* GCP-í˜¸ìŠ¤íŒ… ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì·¨ì•½ì 
* ë©”íƒ€ë°ì´í„° ì—”ë“œí¬ì¸íŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” [**Server Side Request Forgery**](https://book.hacktricks.xyz/pentesting-web/ssrf-server-side-request-forgery/cloud-ssrf)
* **ë¡œì»¬ íŒŒì¼ ì½ê¸°**
* `/home/USERNAME/.config/gcloud/*`
* `C:\Users\USERNAME\.config\gcloud\*`
* 3ì **ì¹¨í•´**
* **ë‚´ë¶€** ì§ì›

ë˜ëŠ” ë…¸ì¶œëœ **ì¸ì¦ë˜ì§€ ì•Šì€ ì„œë¹„ìŠ¤**ë¥¼ ì†ìƒì‹œì¼œì„œ:

{% content-ref url="gcp-unaunthenticated-enum-and-access/" %}
[gcp-unaunthenticated-enum-and-access](gcp-unaunthenticated-enum-and-access/)
{% endcontent-ref %}

ë˜ëŠ” **ë¦¬ë·°**ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê²½ìš° ë‹¤ìŒ ì—­í• ë¡œ **ìê²© ì¦ëª…ì„ ìš”ì²­**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

{% content-ref url="gcp-permissions-for-a-pentest.md" %}
[gcp-permissions-for-a-pentest.md](gcp-permissions-for-a-pentest.md)
{% endcontent-ref %}

{% hint style="info" %}
ìê²© ì¦ëª…ì„ ì–»ì€ í›„ì—ëŠ” **ê·¸ ìê²© ì¦ëª…ì´ ëˆ„êµ¬ì˜ ê²ƒì¸ì§€**, **ë¬´ì—‡ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€**ë¥¼ ì•Œì•„ì•¼ í•˜ë¯€ë¡œ ê¸°ë³¸ì ì¸ ì—´ê±°ë¥¼ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤:
{% endhint %}

## ê¸°ë³¸ ì—´ê±°

### **SSRF**

**GCP ë©”íƒ€ë°ì´í„°ë¥¼ ì—´ê±°í•˜ëŠ” ë°©ë²•**ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ ë‹¤ìŒ hacktricks í˜ì´ì§€ë¥¼ í™•ì¸í•˜ì„¸ìš”:

{% embed url="https://book.hacktricks.xyz/pentesting-web/ssrf-server-side-request-forgery/cloud-ssrf#6440" %}

### Whoami

GCPì—ì„œ ìì‹ ì´ ëˆ„êµ¬ì¸ì§€ ì¶”ì¸¡í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ì˜µì…˜ì„ ì‹œë„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

{% code overflow="wrap" %}
```bash
#If you are inside a compromise machine
gcloud auth list
curl -H "Content-Type: application/x-www-form-urlencoded" -d "access_token=$(gcloud auth print-access-token)" https://www.googleapis.com/oauth2/v1/tokeninfo
gcloud auth print-identity-token #Get info from the token

#If you compromised a metadata token or somehow found an OAuth token
curl -H "Content-Type: application/x-www-form-urlencoded" -d "access_token=<token>" https://www.googleapis.com/oauth2/v1/tokeninfo
```
{% endcode %}

### Org Enumeration

ì¡°ì§ ë‚˜ì—´
```bash
# Get organizations
gcloud organizations list #The DIRECTORY_CUSTOMER_ID is the Workspace ID
gcloud resource-manager folders list --organization <org_number> # Get folders
gcloud projects list # Get projects
```
### Principals & IAM Enumeration

ë§Œì•½ ì¶©ë¶„í•œ ê¶Œí•œì´ ìˆë‹¤ë©´, **GCP ê³„ì • ë‚´ ê° ì—”í‹°í‹°ì˜ ê¶Œí•œì„ í™•ì¸**í•˜ëŠ” ê²ƒì´ ë‹¹ì‹ ê³¼ ë‹¤ë¥¸ ì•„ì´ë´í‹°í‹°ê°€ ë¬´ì—‡ì„ í•  ìˆ˜ ìˆëŠ”ì§€ ê·¸ë¦¬ê³  **ê¶Œí•œì„ ìƒìŠ¹ì‹œí‚¤ëŠ” ë°©ë²•**ì„ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.

ë§Œì•½ IAMì„ ì—´ê±°í•  ì¶©ë¶„í•œ ê¶Œí•œì´ ì—†ë‹¤ë©´, **ê°•ì œë¡œ íƒˆì·¨**í•˜ì—¬ ì•Œì•„ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\
**ì—´ê±° ë° ê°•ì œ íƒˆì·¨ ë°©ë²•**ì€ ë‹¤ìŒì„ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤:

{% content-ref url="gcp-services/gcp-iam-and-org-policies-enum.md" %}
[gcp-iam-and-org-policies-enum.md](gcp-services/gcp-iam-and-org-policies-enum.md)
{% endcontent-ref %}

{% hint style="info" %}
ì´ì œ **ìê²© ì¦ëª…ì— ëŒ€í•œ ì •ë³´ë¥¼ ì–»ì—ˆìœ¼ë¯€ë¡œ** (ê·¸ë¦¬ê³  ë ˆë“œ íŒ€ì´ë¼ë©´ **íƒì§€ë˜ì§€ ì•Šì•˜ê¸°ë¥¼ ë°”ëë‹ˆë‹¤**). í™˜ê²½ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ íŒŒì•…í•  ì‹œê°„ì…ë‹ˆë‹¤.\
ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” **ì¼ë°˜ì ì¸ ì„œë¹„ìŠ¤ë¥¼ ì—´ê±°í•˜ëŠ” ëª‡ ê°€ì§€ ë°©ë²•**ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
{% endhint %}

## Services Enumeration

GCPì—ëŠ” ë†€ë¼ìš´ ì–‘ì˜ ì„œë¹„ìŠ¤ê°€ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ í˜ì´ì§€ì—ì„œ **ê¸°ë³¸ ì •ë³´, ì—´ê±°** ì¹˜íŠ¸ì‹œíŠ¸, **íƒì§€ íšŒí”¼** ë°©ë²•, **ì§€ì†ì„±** í™•ë³´ ë° ê¸°íƒ€ **ì‚¬í›„ ìµìŠ¤í”Œë¡œì‡** íŠ¸ë¦­ì— ëŒ€í•œ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

{% content-ref url="gcp-services/" %}
[gcp-services](gcp-services/)
{% endcontent-ref %}

ëª¨ë“  ì‘ì—…ì„ **ìˆ˜ë™ìœ¼ë¡œ ìˆ˜í–‰í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤**, ì´ ê²Œì‹œë¬¼ ì•„ë˜ì—ì„œ **ìë™í™” ë„êµ¬ì— ëŒ€í•œ ì„¹ì…˜**ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜í•œ, ì´ ë‹¨ê³„ì—ì„œ **ì¸ì¦ë˜ì§€ ì•Šì€ ì‚¬ìš©ìì—ê²Œ ë…¸ì¶œëœ ë” ë§ì€ ì„œë¹„ìŠ¤**ë¥¼ ë°œê²¬í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ ì•…ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

{% content-ref url="gcp-unaunthenticated-enum-and-access/" %}
[gcp-unaunthenticated-enum-and-access](gcp-unaunthenticated-enum-and-access/)
{% endcontent-ref %}

## Privilege Escalation, Post Exploitation & Persistence

í´ë¼ìš°ë“œ ìê²© ì¦ëª…ì„ ì–»ì—ˆê±°ë‚˜ í´ë¼ìš°ë“œ ë‚´ë¶€ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì„œë¹„ìŠ¤ë¥¼ ì†ìƒì‹œí‚¨ ê²½ìš° ê°€ì¥ ì¼ë°˜ì ì¸ ë°©ë²•ì€ ì†ìƒëœ ê³„ì •ì´ ê°€ì§ˆ ìˆ˜ ìˆëŠ” **ì˜ëª» êµ¬ì„±ëœ ê¶Œí•œì„ ì•…ìš©**í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë”°ë¼ì„œ ì²« ë²ˆì§¸ë¡œ í•´ì•¼ í•  ì¼ì€ ìì‹ ì˜ ê¶Œí•œì„ ì—´ê±°í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ë˜í•œ, ì´ ì—´ê±° ì¤‘ì— **ê¶Œí•œì´ "Organization"ì˜ ìµœê³  ìˆ˜ì¤€ì—ì„œ ì„¤ì •ë  ìˆ˜ ìˆë‹¤ëŠ” ì **ì„ ê¸°ì–µí•˜ì‹­ì‹œì˜¤.

{% content-ref url="gcp-privilege-escalation/" %}
[gcp-privilege-escalation](gcp-privilege-escalation/)
{% endcontent-ref %}

{% content-ref url="gcp-post-exploitation/" %}
[gcp-post-exploitation](gcp-post-exploitation/)
{% endcontent-ref %}

{% content-ref url="gcp-persistence/" %}
[gcp-persistence](gcp-persistence/)
{% endcontent-ref %}

### Publicly Exposed Services

GCP ì„œë¹„ìŠ¤ë¥¼ ì—´ê±°í•˜ëŠ” ë™ì•ˆ **ì¸í„°ë„·ì— ë…¸ì¶œëœ ìš”ì†Œë“¤**(VM/ì»¨í…Œì´ë„ˆ í¬íŠ¸, ë°ì´í„°ë² ì´ìŠ¤ ë˜ëŠ” í ì„œë¹„ìŠ¤, ìŠ¤ëƒ…ìƒ· ë˜ëŠ” ë²„í‚·...)ì„ ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\
íœí…ŒìŠ¤í„°/ë ˆë“œ íŒ€ìœ¼ë¡œì„œ í•­ìƒ **ë¯¼ê°í•œ ì •ë³´/ì·¨ì•½ì **ì„ ì°¾ì„ ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•´ì•¼ í•˜ë©°, ì´ëŠ” **AWS ê³„ì •ì— ëŒ€í•œ ì¶”ê°€ ì ‘ê·¼ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤**.

ì´ ì±…ì—ì„œëŠ” **ë…¸ì¶œëœ GCP ì„œë¹„ìŠ¤ë¥¼ ì°¾ê³  ì´ë¥¼ í™•ì¸í•˜ëŠ” ë°©ë²•**ì— ëŒ€í•œ **ì •ë³´**ë¥¼ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë…¸ì¶œëœ ë„¤íŠ¸ì›Œí¬ ì„œë¹„ìŠ¤ì˜ **ì·¨ì•½ì ì„ ì°¾ëŠ” ë°©ë²•**ì— ëŒ€í•´ì„œëŠ” íŠ¹ì • **ì„œë¹„ìŠ¤**ë¥¼ **ê²€ìƒ‰**í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤:

{% embed url="https://book.hacktricks.xyz/" %}

## GCP <--> Workspace Pivoting

**í•˜ë‚˜ì˜** í”Œë«í¼ì—ì„œ **ì—”í‹°í‹°ë¥¼ ì†ìƒì‹œí‚¤ëŠ” ê²ƒ**ì´ ê³µê²©ìê°€ **ë‹¤ë¥¸ í”Œë«í¼ì„ ì†ìƒì‹œí‚¤ëŠ” ê²ƒ**ì„ ê°€ëŠ¥í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì„ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤:

{% content-ref url="gcp-to-workspace-pivoting/" %}
[gcp-to-workspace-pivoting](gcp-to-workspace-pivoting/)
{% endcontent-ref %}

## Automatic Tools

* **GCloud ì½˜ì†”**ì—ì„œ, [https://console.cloud.google.com/iam-admin/asset-inventory/dashboard](https://console.cloud.google.com/iam-admin/asset-inventory/dashboard)ì—ì„œ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš© ì¤‘ì¸ ë¦¬ì†ŒìŠ¤ì™€ IAMì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* ì´ APIì—ì„œ ì§€ì›í•˜ëŠ” ìì‚°ì„ ì—¬ê¸°ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: [https://cloud.google.com/asset-inventory/docs/supported-asset-types](https://cloud.google.com/asset-inventory/docs/supported-asset-types)
* [**ì—¬ëŸ¬ í´ë¼ìš°ë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë„êµ¬**](../pentesting-cloud-methodology.md)ë¥¼ í™•ì¸í•˜ì‹­ì‹œì˜¤.
* [**gcp\_scanner**](https://github.com/google/gcp\_scanner): ì´ëŠ” GCP ë¦¬ì†ŒìŠ¤ ìŠ¤ìºë„ˆë¡œ, GCPì—ì„œ íŠ¹ì • ìê²© ì¦ëª…ì´ **ì–´ë–¤ ìˆ˜ì¤€ì˜ ì ‘ê·¼ ê¶Œí•œì„ ê°€ì§€ê³  ìˆëŠ”ì§€** í™•ì¸í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤.
```bash
# Install
git clone https://github.com/google/gcp_scanner.git
cd gcp_scanner
virtualenv -p python3 venv
source venv/bin/activate
pip install -r requirements.txt
# Execute with gcloud creds
python3 __main__.py -o /tmp/output/ -g "$HOME/.config/gcloud"
```
* [**gcp\_enum**](https://gitlab.com/gitlab-com/gl-security/threatmanagement/redteam/redteam-public/gcp\_enum): gcloud clië¥¼ ì‚¬ìš©í•˜ì—¬ GCP í™˜ê²½ì„ ì—´ê±°í•˜ê³  ê²°ê³¼ë¥¼ íŒŒì¼ì— ì €ì¥í•˜ëŠ” Bash ìŠ¤í¬ë¦½íŠ¸.
* [**GCP-IAM-Privilege-Escalation**](https://github.com/RhinoSecurityLabs/GCP-IAM-Privilege-Escalation): ë†’ì€ IAM ê¶Œí•œì„ ì—´ê±°í•˜ê³  ì´ë¥¼ ì•…ìš©í•˜ì—¬ GCPì—ì„œ ê¶Œí•œì„ ìƒìŠ¹ì‹œí‚¤ëŠ” ìŠ¤í¬ë¦½íŠ¸ (ì—´ê±° ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤).
* [**BF My GCP Permissions**](https://github.com/carlospolop/bf\_my\_gcp\_permissions): ê¶Œí•œì„ brute forceí•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸.

## gcloud config & debug
```bash
# Login so gcloud can use your credentials
gcloud auth login
gcloud config set project security-devbox
gcloud auth print-access-token

# Login so SDKs can use your user credentials
gcloud auth application-default login
gcloud auth application-default set-quota-project security-devbox
gcloud auth application-default print-access-token

# Update gcloud
gcloud components update
```
### gcloud, gsutil... ë„¤íŠ¸ì›Œí¬ ìº¡ì²˜

**`gcloud`** cliì—ì„œ **`--log-http`** **íŒŒë¼ë¯¸í„°**ë¥¼ ì‚¬ìš©í•˜ì—¬ ë„êµ¬ê°€ ìˆ˜í–‰í•˜ëŠ” **ìš”ì²­**ì„ **ì¶œë ¥**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œê·¸ì—ì„œ í† í° ê°’ì„ ìˆ¨ê¸°ì§€ ì•Šìœ¼ë ¤ë©´ `gcloud config set log_http_redact_token false`ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.

ë˜í•œ, í†µì‹ ì„ ê°€ë¡œì±„ë ¤ë©´:
```bash
gcloud config set proxy/address 127.0.0.1
gcloud config set proxy/port 8080
gcloud config set proxy/type http
gcloud config set auth/disable_ssl_validation True

# If you don't want to completely disable ssl_validation use:
gcloud config set core/custom_ca_certs_file cert.pem

# Back to normal
gcloud config unset proxy/address
gcloud config unset proxy/port
gcloud config unset proxy/type
gcloud config unset auth/disable_ssl_validation
gcloud config unset core/custom_ca_certs_file
```
### OAuth token configure in gcloud

**ë©”íƒ€ë°ì´í„° ì—”ë“œí¬ì¸íŠ¸ì—ì„œ ìœ ì¶œëœ ì„œë¹„ìŠ¤ ê³„ì • OAuth í† í°ì„ ì‚¬ìš©**í•˜ë ¤ë©´ ë‹¤ìŒì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```bash
# Via env vars
export CLOUDSDK_AUTH_ACCESS_TOKEN=<token>
gcloud projects list

# Via setup
echo "<token>" > /some/path/to/token
gcloud config set auth/access_token_file /some/path/to/token
gcloud projects list
gcloud config unset auth/access_token_file
```
## ì°¸ê³  ìë£Œ

* [https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/](https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/)

{% hint style="success" %}
AWS Hacking ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… í”Œëœ**](https://github.com/sponsors/carlospolop)ì„ í™•ì¸í•˜ì„¸ìš”!
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**telegram ê·¸ë£¹**](https://t.me/peass)ì— ê°€ì…í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)ì„ íŒ”ë¡œìš°í•˜ì„¸ìš”.
* PRì„ ì œì¶œí•˜ì—¬ [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì„¸ìš”.

</details>
{% endhint %}
