# GCP - рдореВрд▓ рдЬрд╛рдирдХрд╛рд░реА

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## **рд╕рдВрд╕рд╛рдзрди рдкрджрд╛рдиреБрдХреНрд░рдо**

Google Cloud рдПрдХ [рд╕рдВрд╕рд╛рдзрди рдкрджрд╛рдиреБрдХреНрд░рдо](https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдЕрд╡рдзрд╛рд░рдгрд╛рддреНрдордХ рд░реВрдк рд╕реЗ рдкрд╛рд░рдВрдкрд░рд┐рдХ рдлрд╝рд╛рдЗрд▓ рдкреНрд░рдгрд╛рд▓реА рдХреЗ рд╕рдорд╛рди рд╣реИред рдпрд╣ рдиреАрддрд┐рдпреЛрдВ рдФрд░ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрд▓рдЧреНрди рдмрд┐рдВрджреБрдУрдВ рдХреЗ рд╕рд╛рде рдПрдХ рддрд╛рд░реНрдХрд┐рдХ рдорд╛рддрд╛/рдмрдЪреНрдЪрд╛ рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред

рдЙрдЪреНрдЪ рд╕реНрддрд░ рдкрд░, рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ:
```
Organization
--> Folders
--> Projects
--> Resources
```
A virtual machine (called a Compute Instance) is a resource. A resource resides in a project, probably alongside other Compute Instances, storage buckets, etc.

<figure><img src="../../../.gitbook/assets/image (1) (1) (1) (1) (1) (1).png" alt=""><figcaption><p><a href="https://cloud.google.com/static/resource-manager/img/cloud-hierarchy.svg">https://cloud.google.com/static/resource-manager/img/cloud-hierarchy.svg</a></p></figcaption></figure>

## **Projects Migration**

рдпрд╣ рд╕рдВрднрд╡ рд╣реИ рдХрд┐ **рдХреЛрдИ рд╕рдВрдЧрдарди рдирд╣реАрдВ рд╣реЛрдиреЗ рдкрд░ рдПрдХ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рдПрдХ рд╕рдВрдЧрдарди рдореЗрдВ рдорд╛рдЗрдЧреНрд░реЗрдЯ рдХрд░реЗрдВ** рдЬрд┐рд╕рдореЗрдВ рдЕрдиреБрдорддрд┐рдпрд╛рдБ `roles/resourcemanager.projectCreator` рдФрд░ `roles/resourcemanager.projectMover` рд╣реЛрдВред рдпрджрд┐ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХрд┐рд╕реА рдЕрдиреНрдп рд╕рдВрдЧрдарди рдХреЗ рдЕрдВрджрд░ рд╣реИ, рддреЛ рдЗрд╕реЗ **рдкрд╣рд▓реЗ рд╕рдВрдЧрдарди рд╕реЗ рдмрд╛рд╣рд░ рд▓реЗ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП GCP рд╕рдорд░реНрдерди рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ**ред рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП [**рдпрд╣рд╛рдБ рджреЗрдЦреЗрдВ**](https://medium.com/google-cloud/migrating-a-project-from-one-organization-to-another-gcp-4b37a86dd9e6).

## **Organization Policies**

рдЖрдкрдХреЗ рд╕рдВрдЧрдарди рдХреЗ рдХреНрд▓рд╛рдЙрдб рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдкрд░ рдирд┐рдпрдВрддреНрд░рдг рдХреЗрдВрджреНрд░реАрдХреГрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ:

* **рд╕рдВрд░рдХреНрд╖рдгреЛрдВ** рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдВрддреНрд░рдг рдХреЛ рдХреЗрдВрджреНрд░реАрдХреГрдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдХреЗ рд╕рдВрдЧрдарди рдХреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
* рдЖрдкрдХреЗ рд╡рд┐рдХрд╛рд╕ рдЯреАрдореЛрдВ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдкрд╛рд▓рди рд╕реАрдорд╛рдУрдВ рдХреЗ рднреАрддрд░ рд░рд╣рдиреЗ рдХреЗ рд▓рд┐рдП **рдЧрд╛рд░реНрдбрд░реЗрд▓** рдкрд░рд┐рднрд╛рд╖рд┐рдд рдФрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВред
* рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдорд╛рд▓рд┐рдХреЛрдВ рдФрд░ рдЙрдирдХреА рдЯреАрдореЛрдВ рдХреЛ рдмрд┐рдирд╛ рдЕрдиреБрдкрд╛рд▓рди рддреЛрдбрд╝рдиреЗ рдХреА рдЪрд┐рдВрддрд╛ рдХрд┐рдП рддреЗрдЬреА рд╕реЗ рдЖрдЧреЗ рдмрдврд╝рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдВред

рдпреЗ рдиреАрддрд┐рдпрд╛рдБ **рдкреВрд░реНрдг рд╕рдВрдЧрдарди, рдлрд╝реЛрд▓реНрдбрд░(рдУрдВ) рдпрд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ(рдУрдВ)** рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИрдВред рд▓рдХреНрд╖рд┐рдд рд╕рдВрд╕рд╛рдзрди рдкрджрд╛рдиреБрдХреНрд░рдо рдиреЛрдб рдХреЗ рд╡рдВрд╢рдЬ **рд╕рдВрдЧрдарди рдиреАрддрд┐ рдХреЛ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рд▓реЗрддреЗ рд╣реИрдВ**ред

рдПрдХ рд╕рдВрдЧрдарди рдиреАрддрд┐ рдХреЛ **рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП**, **рдЖрдк рдПрдХ** [**рдкреНрд░рддрд┐рдмрдВрдз**](https://cloud.google.com/resource-manager/docs/organization-policy/overview#constraints) рдЪреБрдирддреЗ рд╣реИрдВ, рдЬреЛ рдпрд╛ рддреЛ рдПрдХ Google Cloud рд╕реЗрд╡рд╛ рдпрд╛ Google Cloud рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд╕рдореВрд╣ рдХреЗ рдЦрд┐рд▓рд╛рдл рдПрдХ рд╡рд┐рд╢реЗрд╖ рдкреНрд░рдХрд╛рд░ рдХреА рдкреНрд░рддрд┐рдмрдВрдз рд╣реИред рдЖрдк **рдЕрдкрдиреА рдЗрдЪреНрдЫрд┐рдд рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХреЗ рд╕рд╛рде рдЙрд╕ рдкреНрд░рддрд┐рдмрдВрдз рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╣реИрдВ**ред

<figure><img src="../../../.gitbook/assets/image (217).png" alt=""><figcaption><p><a href="https://cloud.google.com/resource-manager/img/org-policy-concepts.svg">https://cloud.google.com/resource-manager/img/org-policy-concepts.svg</a></p></figcaption></figure>

#### Common use cases <a href="#common_use_cases" id="common_use_cases"></a>

* рдбреЛрдореЗрди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕рдВрд╕рд╛рдзрди рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХреА рд╕реАрдорд╛ред
* рдкрд╣рдЪрд╛рди рдФрд░ рдкрд╣реБрдВрдЪ рдкреНрд░рдмрдВрдзрди рд╕реЗрд╡рд╛ рдЦрд╛рддреЛрдВ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рд╕реАрдорд┐рдд рдХрд░реЗрдВред
* рдирдП рдмрдирд╛рдП рдЧрдП рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рднреМрддрд┐рдХ рд╕реНрдерд╛рди рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░реЗрдВред
* рд╕реЗрд╡рд╛ рдЦрд╛рддрд╛ рдирд┐рд░реНрдорд╛рдг рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░реЗрдВред

<figure><img src="../../../.gitbook/assets/image (172).png" alt=""><figcaption></figcaption></figure>

рдЖрдкрдХреЗ рд╕рдВрдЧрдарди рдХреЗ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдкрд░ рдмрд╛рд░реАрдХ рдирд┐рдпрдВрддреНрд░рдг рджреЗрдиреЗ рд╡рд╛рд▓реЗ рдХрдИ рдФрд░ рдкреНрд░рддрд┐рдмрдВрдз рд╣реИрдВред рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, [**рд╕рднреА рд╕рдВрдЧрдарди рдиреАрддрд┐ рд╕реЗрд╡рд╛ рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХреА рд╕реВрдЪреА рджреЗрдЦреЗрдВ**](https://cloud.google.com/resource-manager/docs/organization-policy/org-policy-constraints)**.**

### **Default Organization Policies**

<details>

<summary>рдпреЗ рдиреАрддрд┐рдпрд╛рдБ рд╣реИрдВ рдЬреЛ Google рдЖрдкрдХреЗ GCP рд╕рдВрдЧрдарди рдХреЛ рд╕реЗрдЯ рдХрд░рддреЗ рд╕рдордп рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝ рджреЗрдЧрд╛:</summary>

**Access Management Policies**

* **рдбреЛрдореЗрди рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рд╕рдВрдкрд░реНрдХ:** рдЖрдкрдХреЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдбреЛрдореЗрди рдХреЗ рдмрд╛рд╣рд░ рдЖрд╡рд╢реНрдпрдХ рд╕рдВрдкрд░реНрдХреЛрдВ рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИред рдпрд╣ рдЖрд╡рд╢реНрдпрдХ рд╕рдВрдкрд░реНрдХреЛрдВ рдХреЛ рдХреЗрд╡рд▓ рдЖрдкрдХреЗ рдЪрдпрдирд┐рдд рдбреЛрдореЗрди рдореЗрдВ рдкреНрд░рдмрдВрдзрд┐рдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╣рдЪрд╛рди рдХреЛ рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рд╕реВрдЪрдирд╛рдПрдБ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред
* **рдбреЛрдореЗрди рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рд╕рд╛рдЭрд╛ рдХрд░рдирд╛:** рдЖрдкрдХреЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдбреЛрдореЗрди рдХреЗ рдмрд╛рд╣рд░ IAM рдиреАрддрд┐рдпреЛрдВ рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИред рдпрд╣ IAM рдиреАрддрд┐рдпреЛрдВ рдХреЛ рдХреЗрд╡рд▓ рдЖрдкрдХреЗ рдЪрдпрдирд┐рдд рдбреЛрдореЗрди рдореЗрдВ рдкреНрд░рдмрдВрдзрд┐рдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╣рдЪрд╛рди рдХреЛ рдЗрд╕ рд╕рдВрдЧрдарди рдХреЗ рдЕрдВрджрд░ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред
* **рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдкрд╣реБрдВрдЪ рд░реЛрдХрдирд╛:** рдХреНрд▓рд╛рдЙрдб рд╕реНрдЯреЛрд░реЗрдЬ рдмрдХреЗрдЯ рдХреЛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд░реВрдк рд╕реЗ рдЙрдЬрд╛рдЧрд░ рд╣реЛрдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИред рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдПрдХ рдбреЗрд╡рд▓рдкрд░ рдХреНрд▓рд╛рдЙрдб рд╕реНрдЯреЛрд░реЗрдЬ рдмрдХреЗрдЯ рдХреЛ рдмрд┐рдирд╛ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХреЗ рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд╣реБрдВрдЪ рдХреЗ рд▓рд┐рдП рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ред
* **рд╕рдорд╛рди рдмрдХреЗрдЯ рд╕реНрддрд░ рдХреА рдкрд╣реБрдВрдЪ:** рдХреНрд▓рд╛рдЙрдб рд╕реНрдЯреЛрд░реЗрдЬ рдмрдХреЗрдЯ рдореЗрдВ рдСрдмреНрдЬреЗрдХреНрдЯ-рд╕реНрддрд░реАрдп рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рд╕реВрдЪрд┐рдпреЛрдВ (ACLs) рдХреЛ рд░реЛрдХрддрд╛ рд╣реИред рдпрд╣ рдЖрдкрдХреЗ рдкрд╣реБрдВрдЪ рдкреНрд░рдмрдВрдзрди рдХреЛ рд╕рд░рд▓ рдмрдирд╛рддрд╛ рд╣реИ, рд╕рднреА рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдореЗрдВ IAM рдиреАрддрд┐рдпреЛрдВ рдХреЛ рд▓рдЧрд╛рддрд╛рд░ рд▓рд╛рдЧреВ рдХрд░рдХреЗред
* **OS рд▓реЙрдЧрд┐рди рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛:** рдирдП рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рдмрдирд╛рдП рдЧрдП VMs рдореЗрдВ OS рд▓реЙрдЧрд┐рди рд╕рдХреНрд╖рдо рд╣реЛрдЧрд╛ред рдпрд╣ рдЖрдкрдХреЛ IAM рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдиреЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рддрдХ SSH рдкрд╣реБрдВрдЪ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдмрд┐рдирд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд SSH рдХреБрдВрдЬреА рдмрдирд╛рдиреЗ рдФрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗред

**рд╕реЗрд╡рд╛ рдЦрд╛рддреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рд╕реБрд░рдХреНрд╖рд╛ рдиреАрддрд┐рдпрд╛рдБ**

* **рд╕реНрд╡рдЪрд╛рд▓рд┐рдд IAM рдЕрдиреБрджрд╛рди рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░реЗрдВ:** рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдкрд░ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдРрдк рдЗрдВрдЬрди рдФрд░ рдХрдВрдкреНрдпреВрдЯ рдЗрдВрдЬрди рд╕реЗрд╡рд╛ рдЦрд╛рддреЛрдВ рдХреЛ рд╕рдВрдкрд╛рджрдХ IAM рднреВрдорд┐рдХрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рджрд┐рдП рдЬрд╛рдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИред рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╕реЗрд╡рд╛ рдЦрд╛рддреЛрдВ рдХреЛ рдирд┐рд░реНрдорд╛рдг рдкрд░ рдЕрддреНрдпрдзрд┐рдХ рдЕрдиреБрдорддрд┐ рд╡рд╛рд▓реЗ IAM рднреВрдорд┐рдХрд╛рдПрдБ рдирд╣реАрдВ рдорд┐рд▓реЗрдВрдЧреАред
* **рд╕реЗрд╡рд╛ рдЦрд╛рддрд╛ рдХреБрдВрдЬреА рдирд┐рд░реНрдорд╛рдг рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░реЗрдВ:** рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╕реЗрд╡рд╛ рдЦрд╛рддрд╛ рдХреБрдВрдЬреА рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЛ рд░реЛрдХрддрд╛ рд╣реИред рдпрд╣ рд╕реНрдерд╛рдпреА рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рдХреЛ рдЙрдЬрд╛рдЧрд░ рдХрд░рдиреЗ рдХреЗ рдЬреЛрдЦрд┐рдо рдХреЛ рдХрдо рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИред
* **рд╕реЗрд╡рд╛ рдЦрд╛рддрд╛ рдХреБрдВрдЬреА рдЕрдкрд▓реЛрдб рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░реЗрдВ:** рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╕реЗрд╡рд╛ рдЦрд╛рддрд╛ рдХреБрдВрдЬреА рдХреЗ рдЕрдкрд▓реЛрдб рдХреЛ рд░реЛрдХрддрд╛ рд╣реИред рдпрд╣ рд▓реАрдХ рдпрд╛ рдкреБрди: рдЙрдкрдпреЛрдЧ рдХреА рдЧрдИ рдХреБрдВрдЬреА рд╕рд╛рдордЧреНрд░реА рдХреЗ рдЬреЛрдЦрд┐рдо рдХреЛ рдХрдо рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИред

**рд╕реБрд░рдХреНрд╖рд┐рдд VPC рдиреЗрдЯрд╡рд░реНрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдиреАрддрд┐рдпрд╛рдБ**

* **VM рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдордд рдмрд╛рд╣рд░реА IP рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВ:** рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ IP рдХреЗ рд╕рд╛рде рдХрдВрдкреНрдпреВрдЯ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЛ рд░реЛрдХрддрд╛ рд╣реИ, рдЬреЛ рдЙрдиреНрд╣реЗрдВ рдЗрдВрдЯрд░рдиреЗрдЯ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЗ рд▓рд┐рдП рдЙрдЬрд╛рдЧрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИред

- **VM рдиреЗрд╕реНрдЯреЗрдб рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░реЗрдВ:** рдХрдВрдкреНрдпреВрдЯ рдЗрдВрдЬрди VMs рдкрд░ рдиреЗрд╕реНрдЯреЗрдб VMs рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЛ рд░реЛрдХрддрд╛ рд╣реИред рдпрд╣ рдмрд┐рдирд╛ рдирд┐рдЧрд░рд╛рдиреА рд╡рд╛рд▓реЗ рдиреЗрд╕реНрдЯреЗрдб VMs рдХреЗ рд╕реБрд░рдХреНрд╖рд╛ рдЬреЛрдЦрд┐рдо рдХреЛ рдХрдо рдХрд░рддрд╛ рд╣реИред

* **VM рд╕реАрд░рд┐рдпрд▓ рдкреЛрд░реНрдЯ рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░реЗрдВ:** рдХрдВрдкреНрдпреВрдЯ рдЗрдВрдЬрди VMs рдкрд░ рд╕реАрд░рд┐рдпрд▓ рдкреЛрд░реНрдЯ рдкрд╣реБрдВрдЪ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИред рдпрд╣ рдХрдВрдкреНрдпреВрдЯ рдЗрдВрдЬрди API рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рд░реНрд╡рд░ рдХреЗ рд╕реАрд░рд┐рдпрд▓ рдкреЛрд░реНрдЯ рдореЗрдВ рдЗрдирдкреБрдЯ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИред

- **рдХреНрд▓рд╛рдЙрдб SQL рдЙрджрд╛рд╣рд░рдгреЛрдВ рдкрд░ рдЕрдзрд┐рдХреГрдд рдиреЗрдЯрд╡рд░реНрдХ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░реЗрдВ:** рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдпрд╛ рдЧреИрд░-рдЖрдВрддрд░рд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ рд░реЗрдВрдЬ рдХреЛ рдЖрдкрдХреЗ рдХреНрд▓рд╛рдЙрдб SQL рдбреЗрдЯрд╛рдмреЗрд╕ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИред

* **IP рдкрддреЗ рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдлреЙрд░рд╡рд░реНрдбрд┐рдВрдЧ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░реЗрдВ:** рдмрд╛рд╣рд░реА IP рдкрддреЗ рдХреЗ рд▓рд┐рдП VM рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдлреЙрд░рд╡рд░реНрдбрд┐рдВрдЧ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИред

- **рдХреНрд▓рд╛рдЙрдб SQL рдЙрджрд╛рд╣рд░рдгреЛрдВ рдкрд░ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ IP рдкрд╣реБрдВрдЪ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░реЗрдВ:** рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ IP рдХреЗ рд╕рд╛рде рдХреНрд▓рд╛рдЙрдб SQL рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЛ рд░реЛрдХрддрд╛ рд╣реИ, рдЬреЛ рдЙрдиреНрд╣реЗрдВ рдЗрдВрдЯрд░рдиреЗрдЯ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЗ рд▓рд┐рдП рдЙрдЬрд╛рдЧрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИред

* **рд╕рд╛рдЭрд╛ VPC рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд▓рд┐рдпрди рд╣рдЯрд╛рдиреЗ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░реЗрдВ:** рд╕рд╛рдЭрд╛ VPC рд╣реЛрд╕реНрдЯ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рдЖрдХрд╕реНрдорд┐рдХ рд╣рдЯрд╛рдиреЗ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИред

- **рдирдП рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рд▓рд┐рдП рдЖрдВрддрд░рд┐рдХ DNS рд╕реЗрдЯрд┐рдВрдЧ рдХреЛ рдЬрд╝реЛрдирд▓ DNS рдХреЗрд╡рд▓ рдкрд░ рд╕реЗрдЯ рдХрд░реЗрдВ:** рдПрдХ рд╡рд┐рд░рд╛рд╕рддреА DNS рд╕реЗрдЯрд┐рдВрдЧ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдиреЗ рд╕реЗрд╡рд╛ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреЛ рдХрдо рдХрд░ рджрд┐рдпрд╛ рд╣реИред

* **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдиреЗрдЯрд╡рд░реНрдХ рдирд┐рд░реНрдорд╛рдг рдХреЛ рдЫреЛрдбрд╝реЗрдВ:** рдбрд┐рдлрд╝реЙрд▓реНрдЯ VPC рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рд╕рдВрдмрдВрдзрд┐рдд рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдирд┐рд░реНрдорд╛рдг рдХреЛ рд░реЛрдХрддрд╛ рд╣реИред рдпрд╣ рдЕрддреНрдпрдзрд┐рдХ рдЕрдиреБрдорддрд┐ рд╡рд╛рд▓реЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдирд┐рдпрдореЛрдВ рд╕реЗ рдмрдЪрд╛рддрд╛ рд╣реИред

- **VPC рдмрд╛рд╣рд░реА IPv6 рдЙрдкрдпреЛрдЧ рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░реЗрдВ:** рдмрд╛рд╣рд░реА IPv6 рдЙрдк-рдиреЗрдЯ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЛ рд░реЛрдХрддрд╛ рд╣реИ, рдЬреЛ рдЕрдирдзрд┐рдХреГрдд рдЗрдВрдЯрд░рдиреЗрдЯ рдкрд╣реБрдВрдЪ рдХреЗ рд▓рд┐рдП рдЙрдЬрд╛рдЧрд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

</details>

## **IAM Roles**

рдпреЗ AWS рдореЗрдВ IAM рдиреАрддрд┐рдпреЛрдВ рдХреЗ рд╕рдорд╛рди рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ **рдкреНрд░рддреНрдпреЗрдХ рднреВрдорд┐рдХрд╛ рдореЗрдВ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХрд╛ рдПрдХ рд╕реЗрдЯ рд╣реЛрддрд╛ рд╣реИред**

рд╣рд╛рд▓рд╛рдВрдХрд┐, AWS рдХреА рддреБрд▓рдирд╛ рдореЗрдВ, **рднреВрдорд┐рдХрд╛рдУрдВ рдХрд╛ рдХреЛрдИ рдХреЗрдВрджреНрд░реАрдХреГрдд рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдирд╣реАрдВ рд╣реИред** рдЗрд╕рдХреЗ рдмрдЬрд╛рдп, **рд╕рдВрд╕рд╛рдзрди X рдХреЛ Y рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдХреЛ рдПрдХреНрд╕реЗрд╕ рднреВрдорд┐рдХрд╛рдПрдБ рджреЗрддреЗ рд╣реИрдВ**, рдФрд░ рдпрд╣ рдЬрд╛рдирдиреЗ рдХрд╛ рдПрдХрдорд╛рддреНрд░ рддрд░реАрдХрд╛ рд╣реИ рдХрд┐ рдХрд┐рд╕реА рд╕рдВрд╕рд╛рдзрди рдХреЛ рдХрд┐рд╕рдиреЗ рдПрдХреНрд╕реЗрд╕ рджрд┐рдпрд╛ рд╣реИ, **рдЙрд╕ рд╕рдВрд╕рд╛рдзрди рдкрд░ `get-iam-policy` рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИред**\
рдпрд╣ рдПрдХ рд╕рдорд╕реНрдпрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдпрд╣ рдЬрд╛рдирдиреЗ рдХрд╛ рдПрдХрдорд╛рддреНрд░ рддрд░реАрдХрд╛ рд╣реИ рдХрд┐ **рдХрд┐рд╕ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдХреЗ рдкрд╛рд╕ рдХреМрди рд╕реА рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реИрдВ, рдпрд╣ рдкреВрдЫрдирд╛ рд╣реИ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рд╕рдВрд╕рд╛рдзрди рдХрд┐рд╕реЗ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рджреЗ рд░рд╣рд╛ рд╣реИ**, рдФрд░ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдкрд╛рд╕ рд╕рднреА рд╕рдВрд╕рд╛рдзрдиреЛрдВ рд╕реЗ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреА рд╣реИред

IAM рдореЗрдВ **рддреАрди рдкреНрд░рдХрд╛рд░** рдХреА рднреВрдорд┐рдХрд╛рдПрдБ рд╣реИрдВ:

* **рдмреБрдирд┐рдпрд╛рджреА/рдкреНрд░рд╛рдердорд┐рдХ рднреВрдорд┐рдХрд╛рдПрдБ**, рдЬрд┐рд╕рдореЗрдВ **рд╕реНрд╡рд╛рдореА**, **рд╕рдВрдкрд╛рджрдХ**, рдФрд░ **рджрд░реНрд╢рдХ** рднреВрдорд┐рдХрд╛рдПрдБ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ рдЬреЛ IAM рдХреЗ рдкрд░рд┐рдЪрдп рд╕реЗ рдкрд╣рд▓реЗ рдореМрдЬреВрдж рдереАрдВред
* **рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рднреВрдорд┐рдХрд╛рдПрдБ**, рдЬреЛ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рдмрд╛рд░реАрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИрдВ рдФрд░ Google Cloud рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдмрдВрдзрд┐рдд рд╣реЛрддреА рд╣реИрдВред рдмрд╣реБрдд рд╕рд╛рд░реА рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рднреВрдорд┐рдХрд╛рдПрдБ рд╣реИрдВ, рдЖрдк **рдЙрди рд╕рднреА рдХреЛ рдЙрдирдХреЗ рдкрд╛рд╕ рдореМрдЬреВрдж рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде** [**рдпрд╣рд╛рдБ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ**](https://cloud.google.com/iam/docs/understanding-roles#predefined_roles).
* **рдХрд╕реНрдЯрдо рднреВрдорд┐рдХрд╛рдПрдБ**, рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рджреНрд╡рд╛рд░рд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреА рд╕реВрдЪреА рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдмрд╛рд░реАрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИрдВред

GCP рдореЗрдВ рд╣рдЬрд╛рд░реЛрдВ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реИрдВред рдпрд╣ рдЬрд╛рдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдХреНрдпрд╛ рдХрд┐рд╕реА рднреВрдорд┐рдХрд╛ рдореЗрдВ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реИрдВ, рдЖрдк [**рдпрд╣рд╛рдБ рдЕрдиреБрдорддрд┐ рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВ**](https://cloud.google.com/iam/docs/permissions-reference) рдФрд░ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреМрди рд╕реА рднреВрдорд┐рдХрд╛рдПрдБ рдЗрд╕реЗ рд░рдЦрддреА рд╣реИрдВред

рдЖрдк [**рдпрд╣рд╛рдБ рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рднреВрдорд┐рдХрд╛рдПрдБ**](https://cloud.google.com/iam/docs/understanding-roles#product_specific_documentation) рднреА рдЦреЛрдЬ рд╕рдХрддреЗ рд╣реИрдВ **рдЬреЛ рдкреНрд░рддреНрдпреЗрдХ рдЙрддреНрдкрд╛рдж рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХреА рдЬрд╛рддреА рд╣реИрдВред** рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдХреБрдЫ **рднреВрдорд┐рдХрд╛рдПрдБ** рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕рдВрд▓рдЧреНрди рдирд╣реАрдВ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВ рдФрд░ **рдХреЗрд╡рд▓ SAs рдХреЛ рдХреНрдпреЛрдВрдХрд┐ рдЙрдирдореЗрдВ рдХреБрдЫ рдЕрдиреБрдорддрд┐рдпрд╛рдБ** рд╣реЛрддреА рд╣реИрдВред\
рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ **рдЕрдиреБрдорддрд┐рдпрд╛рдБ** рдХреЗрд╡рд▓ рддрднреА **рдкреНрд░рднрд╛рд╡реА рд╣реЛрдВрдЧреА** рдпрджрд┐ рд╡реЗ **рд╕рдВрдмрдВрдзрд┐рдд рд╕реЗрд╡рд╛ рд╕реЗ рд╕рдВрд▓рдЧреНрди рд╣реЛрдВред**

рдпрд╛ рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдХреНрдпрд╛ **рдХрд╕реНрдЯрдо рднреВрдорд┐рдХрд╛ рдПрдХ** [**рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЕрдиреБрдорддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреА рд╣реИ рдпрд╣рд╛рдБ**](https://cloud.google.com/iam/docs/custom-roles-permissions-support)**.**

{% content-ref url="../gcp-services/gcp-iam-and-org-policies-enum.md" %}
[gcp-iam-and-org-policies-enum.md](../gcp-services/gcp-iam-and-org-policies-enum.md)
{% endcontent-ref %}

## Users <a href="#default-credentials" id="default-credentials"></a>

**GCP рдХрдВрд╕реЛрд▓** рдореЗрдВ **рдХреЛрдИ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдпрд╛ рд╕рдореВрд╣** рдкреНрд░рдмрдВрдзрди рдирд╣реАрдВ рд╣реИ, рдпрд╣ **Google Workspace** рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЖрдк Google Workspace рдореЗрдВ рдПрдХ рдЕрд▓рдЧ рдкрд╣рдЪрд╛рди рдкреНрд░рджрд╛рддрд╛ рдХреЛ рд╕рдордиреНрд╡рдпрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдЖрдк рдХрд╛рд░реНрдпрдХреНрд╖реЗрддреНрд░ **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдФрд░ рд╕рдореВрд╣реЛрдВ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддреЗ рд╣реИрдВ** [**https://admin.google.com**](https://admin.google.com/)ред

**MFA** рдХреЛ рдХрд╛рд░реНрдпрдХреНрд╖реЗрддреНрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдкрд░ **рд▓рд╛рдЧреВ** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд╣рд╛рд▓рд╛рдБрдХрд┐, рдПрдХ **рд╣рдорд▓рд╛рд╡рд░** рдПрдХ рдЯреЛрдХрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ GCP **рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ CLI рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ MFA рджреНрд╡рд╛рд░рд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рдирд╣реАрдВ рд╣реЛрдЧрд╛** (рдпрд╣ MFA рджреНрд╡рд╛рд░рд╛ рдХреЗрд╡рд▓ рддрдм рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реЛрдЧрд╛ рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрд╕реЗ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓реЙрдЧрд┐рди рдХрд░рддрд╛ рд╣реИ: `gcloud auth login`)ред

## Groups

рдЬрдм рдПрдХ рд╕рдВрдЧрдарди рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдХрдИ рд╕рдореВрд╣реЛрдВ рдХрд╛ **рдирд┐рд░реНрдорд╛рдг рдХрд░рдирд╛ рдЕрддреНрдпрдзрд┐рдХ рдЕрдиреБрд╢рдВрд╕рд┐рдд рд╣реИред** рдпрджрд┐ рдЖрдк рдЗрдирдореЗрдВ рд╕реЗ рдХрд┐рд╕реА рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рд╕рдВрдЧрдарди рдХреЗ рд╕рднреА рдпрд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рднрд╛рдЧ рдХреЛ рд╕рдордЭреМрддрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

<table data-header-hidden><thead><tr><th width="299.3076923076923"></th><th></th></tr></thead><tbody><tr><td><strong>Group</strong></td><td><strong>Function</strong></td></tr><tr><td><strong><code>gcp-organization-admins</code></strong><br><em>(рдЪреЗрдХрд▓рд┐рд╕реНрдЯ рдХреЗ рд▓рд┐рдП рд╕рдореВрд╣ рдпрд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддреЗ рдЖрд╡рд╢реНрдпрдХ)</em></td><td>рд╕рдВрдЧрдарди рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдХрд┐рд╕реА рднреА рд╕рдВрд╕рд╛рдзрди рдХрд╛ рдкреНрд░рд╢рд╛рд╕рди рдХрд░рдирд╛ред рдЗрд╕ рднреВрдорд┐рдХрд╛ рдХреЛ рд╕рд╛рд╡рдзрд╛рдиреА рд╕реЗ рд╕реМрдВрдкреЗрдВ; рд╕рдВрдЧрдарди рдХреЗ рдкреНрд░рд╢рд╛рд╕рдХреЛрдВ рдХреЛ рдЖрдкрдХреЗ рд╕рднреА Google Cloud рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рдкрд╣реБрдБрдЪ рд╣реЛрддреА рд╣реИред рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдХрд╛рд░реНрдп рдЕрддреНрдпрдзрд┐рдХ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд рд╣реИ, рд╕рдореВрд╣ рдмрдирд╛рдиреЗ рдХреЗ рдмрдЬрд╛рдп рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЦрд╛рддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред</td></tr><tr><td><strong><code>gcp-network-admins</code></strong><br><em>(рдЪреЗрдХрд▓рд┐рд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ)</em></td><td>рдиреЗрдЯрд╡рд░реНрдХ, рдЙрдк-рдиреЗрдЯ, рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдирд┐рдпрдо, рдФрд░ рдХреНрд▓рд╛рдЙрдб рд░рд╛рдЙрдЯрд░, рдХреНрд▓рд╛рдЙрдб VPN, рдФрд░ рдХреНрд▓рд╛рдЙрдб рд▓реЛрдб рдмреИрд▓реЗрдВрд╕рд░ рдЬреИрд╕реЗ рдиреЗрдЯрд╡рд░реНрдХ рдЙрдкрдХрд░рдг рдмрдирд╛рдирд╛ред</td></tr><tr><td><strong><code>gcp-billing-admins</code></strong><br><em>(рдЪреЗрдХрд▓рд┐рд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ)</em></td><td>рдмрд┐рд▓рд┐рдВрдЧ рдЦрд╛рддреЛрдВ рдХреЛ рд╕реЗрдЯ рдХрд░рдирд╛ рдФрд░ рдЙрдирдХреЗ рдЙрдкрдпреЛрдЧ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>gcp-developers</code></strong><br><em>(рдЪреЗрдХрд▓рд┐рд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ)</em></td><td>рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЛ рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд░рдирд╛, рдХреЛрдб рдХрд░рдирд╛, рдФрд░ рдкрд░реАрдХреНрд╖рдг рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>gcp-security-admins</code></strong><br></td><td>рд╕рдВрдЧрдарди рдХреЗ рд▓рд┐рдП рд╕реБрд░рдХреНрд╖рд╛ рдиреАрддрд┐рдпреЛрдВ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдФрд░ рдкреНрд░рдмрдВрдзрди рдХрд░рдирд╛, рдЬрд┐рд╕рдореЗрдВ рдкрд╣реБрдВрдЪ рдкреНрд░рдмрдВрдзрди рдФрд░ <a href="https://cloud.google.com/resource-manager/docs/organization-policy/org-policy-constraints">рд╕рдВрдЧрдарди рдкреНрд░рддрд┐рдмрдВрдз рдиреАрддрд┐рдпрд╛рдБ</a> рд╢рд╛рдорд┐рд▓ рд╣реИрдВред рдЕрдкрдиреЗ Google Cloud рд╕реБрд░рдХреНрд╖рд╛ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП <a href="https://cloud.google.com/architecture/security-foundations/authentication-authorization#users_and_groups">Google Cloud рд╕реБрд░рдХреНрд╖рд╛ рдиреАрдВрд╡ рдЧрд╛рдЗрдб</a> рджреЗрдЦреЗрдВред</td></tr><tr><td><strong><code>gcp-devops</code></strong></td><td>рдирд┐рд░рдВрддрд░ рдПрдХреАрдХрд░рдг рдФрд░ рд╡рд┐рддрд░рдг, рдирд┐рдЧрд░рд╛рдиреА, рдФрд░ рдкреНрд░рдгрд╛рд▓реА рдкреНрд░рд╛рд╡рдзрд╛рди рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдПрдВрдб-рдЯреВ-рдПрдВрдб рдкрд╛рдЗрдкрд▓рд╛рдЗрдиреЛрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдпрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>gcp-logging-admins</code></strong></td><td></td></tr><tr><td><strong><code>gcp-logging-viewers</code></strong></td><td></td></tr><tr><td><strong><code>gcp-monitor-admins</code></strong></td><td></td></tr><tr><td><strong><code>gcp-billing-viewer</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдирд╣реАрдВ)</em></td><td>рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдкрд░ рдЦрд░реНрдЪ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХрд░рдирд╛ред рд╕рд╛рдорд╛рдиреНрдп рд╕рджрд╕реНрдп рд╡рд┐рддреНрдд рдЯреАрдо рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реЛрддреЗ рд╣реИрдВред</td></tr><tr><td><strong><code>gcp-platform-viewer</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдирд╣реАрдВ)</em></td><td>Google Cloud рд╕рдВрдЧрдарди рдореЗрдВ рд╕рдВрд╕рд╛рдзрди рдЬрд╛рдирдХрд╛рд░реА рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>gcp-security-reviewer</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдирд╣реАрдВ)</em></td><td>рдХреНрд▓рд╛рдЙрдб рд╕реБрд░рдХреНрд╖рд╛ рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>gcp-network-viewer</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдирд╣реАрдВ)</em></td><td>рдиреЗрдЯрд╡рд░реНрдХ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>grp-gcp-audit-viewer</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдирд╣реАрдВ)</em></td><td>рдСрдбрд┐рдЯ рд▓реЙрдЧ рджреЗрдЦрдиреЗред</td></tr><tr><td><strong><code>gcp-scc-admin</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдирд╣реАрдВ)</em></td><td>рд╕реБрд░рдХреНрд╖рд╛ рдХрдорд╛рдВрдб рд╕реЗрдВрдЯрд░ рдХрд╛ рдкреНрд░рд╢рд╛рд╕рди рдХрд░рдирд╛ред</td></tr><tr><td><strong><code>gcp-secrets-admin</code></strong><br><em>(рдЕрдм рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдирд╣реАрдВ)</em></td><td>рд╕реАрдХреНрд░реЗрдЯ рдореИрдиреЗрдЬрд░ рдореЗрдВ рд░рд╣рд╕реНрдпреЛрдВ рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рдирд╛ред</td></tr></tbody></table>

## **Default Password Policy**

* рдордЬрдмреВрдд рдкрд╛рд╕рд╡рд░реНрдб рд▓рд╛рдЧреВ рдХрд░реЗрдВ
* 8 рд╕реЗ 100 рд╡рд░реНрдгреЛрдВ рдХреЗ рдмреАрдЪ
* рдкреБрди: рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ
* рд╕рдорд╛рдкреНрддрд┐ рдирд╣реАрдВ
* рдпрджрд┐ рд▓реЛрдЧ рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреЗ рдкреНрд░рджрд╛рддрд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрд╛рд░реНрдпрдХреНрд╖реЗрддреНрд░ рддрдХ рдкрд╣реБрдБрдЪ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдпреЗ рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдБ рд▓рд╛рдЧреВ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИрдВред

<figure><img src="../../../.gitbook/assets/image (20).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../.gitbook/assets/image (22).png" alt=""><figcaption></figcaption></figure>

## **Service accounts**

рдпреЗ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ **рд╕рдВрд╕рд╛рдзрдиреЛрдВ** рдХреЗ рд╕рд╛рде **рд╕рдВрд▓рдЧреНрди** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ GCP рдХреЗ рд╕рд╛рде рдЖрд╕рд╛рдиреА рд╕реЗ рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╣реБрдБрдЪ рдкреНрд░рд╛рдкреНрдд рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рдХреЗ **auth token** рддрдХ рдкрд╣реБрдБрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ рдЬреЛ **рдПрдХ VM** рдореЗрдВ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдореЗрдВ рд╕рдВрд▓рдЧреНрди рд╣реИред\
рдпрд╣ **IAM рдФрд░ рдПрдХреНрд╕реЗрд╕ рд╕реНрдХреЛрдк** рджреЛрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдХреБрдЫ **рд╕рдВрдШрд░реНрд╖реЛрдВ** рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЗ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рдореЗрдВ `compute.instanceAdmin` рдХреА IAM рднреВрдорд┐рдХрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ рд▓реЗрдХрд┐рди рдЬрд┐рд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдЖрдк рдШреБрд╕рдкреИрда рдХрд░ рдЪреБрдХреЗ рд╣реИрдВ, рдЙрд╕реЗ `https://www.googleapis.com/auth/compute.readonly` рдХреЗ рд╕реНрдХреЛрдк рдкреНрд░рддрд┐рдмрдВрдз рдХреЗ рд╕рд╛рде рдХрдордЬреЛрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред рдпрд╣ рдЖрдкрдХреЛ рдЙрд╕ OAuth рдЯреЛрдХрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреЛрдИ рдкрд░рд┐рд╡рд░реНрддрди рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХ рджреЗрдЧрд╛ рдЬреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЖрдкрдХреЗ рдЙрджрд╛рд╣рд░рдг рдХреЛ рд╕реМрдВрдкрд╛ рдЧрдпрд╛ рд╣реИред

рдпрд╣ AWS рд╕реЗ **IAM рднреВрдорд┐рдХрд╛рдУрдВ** рдХреЗ рд╕рдорд╛рди рд╣реИред рд▓реЗрдХрд┐рди AWS рдХреА рддрд░рд╣ рдирд╣реАрдВ, **рдХреЛрдИ рднреА** рд╕реЗрд╡рд╛ рдЦрд╛рддрд╛ **рдХрд┐рд╕реА рднреА рд╕реЗрд╡рд╛ рд╕реЗ рд╕рдВрд▓рдЧреНрди** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рдпрд╣ рдиреАрддрд┐ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрд╕рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ)ред

рдЖрдкрдХреЛ рдЬреЛ рдХрдИ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рдорд┐рд▓реЗрдВрдЧреЗ, рд╡реЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ **GCP рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди** рд╣реЛрддреЗ рд╣реИрдВ рдЬрдм рдЖрдк рдХрд┐рд╕реА рд╕реЗрд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ:
```
PROJECT_NUMBER-compute@developer.gserviceaccount.com
PROJECT_ID@appspot.gserviceaccount.com
```
рд╣рд╛рд▓рд╛рдВрдХрд┐, **рдХрд╕реНрдЯрдо рд╕реЗрд╡рд╛ рдЦрд╛рддреЛрдВ** рдХреЛ рдмрдирд╛рдирд╛ рдФрд░ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рд╕реЗ рдЬреЛрдбрд╝рдирд╛ рднреА рд╕рдВрднрд╡ рд╣реИ, рдЬреЛ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдВрдЧреЗ:
```
SERVICE_ACCOUNT_NAME@PROJECT_NAME.iam.gserviceaccount.com
```
### **Keys & Tokens**

GCP рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ 2 рдореБрдЦреНрдп рддрд░реАрдХреЗ рд╣реИрдВ рдЬреИрд╕реЗ рдХрд┐ рд╕реЗрд╡рд╛ рдЦрд╛рддрд╛:

* **OAuth рдЯреЛрдХрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ**: рдпреЗ рдЯреЛрдХрди рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЛ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдпрд╛ HTTP рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдЪреБрд░рд╛рдиреЗ рд╕реЗ рдорд┐рд▓реЗрдВрдЧреЗ рдФрд░ рдЗрдиреНрд╣реЗрдВ **рдПрдХреНрд╕реЗрд╕ рд╕реНрдХреЛрдк** рджреНрд╡рд╛рд░рд╛ рд╕реАрдорд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред
* **рдХреБрдВрдЬреА**: рдпреЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдФрд░ рдирд┐рдЬреА рдХреБрдВрдЬреА рдЬреЛрдбрд╝реЗ рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЛ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рдХреЗ рд░реВрдк рдореЗрдВ рдЕрдиреБрд░реЛрдзреЛрдВ рдкрд░ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдВрдЧреЗ рдФрд░ рдпрд╣рд╛рдВ рддрдХ рдХрд┐ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП OAuth рдЯреЛрдХрди рдЙрддреНрдкрдиреНрди рдХрд░реЗрдВрдЧреЗред рдпреЗ рдХреБрдВрдЬреА рдЦрддрд░рдирд╛рдХ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рдЗрдиреНрд╣реЗрдВ рд╕реАрдорд┐рдд рдФрд░ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдирд╛ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИ, рдЗрд╕рд▓рд┐рдП GCP рдЕрдиреБрд╢рдВрд╕рд╛ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЗрдиреНрд╣реЗрдВ рдЙрддреНрдкрдиреНрди рди рдХрд┐рдпрд╛ рдЬрд╛рдПред
* рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╣рд░ рдмрд╛рд░ рдЬрдм рдПрдХ SA рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, **GCP рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХреБрдВрдЬреА рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ** рдЬрд┐рд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдПрдХреНрд╕реЗрд╕ рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ (рдФрд░ рдпрд╣ рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рд╕реВрдЪреАрдмрджреНрдз рдирд╣реАрдВ рд╣реЛрдЧрд╛)ред [**рдЗрд╕ рдереНрд░реЗрдб**](https://www.reddit.com/r/googlecloud/comments/f0ospy/service_account_keys_observations/) рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдпрд╣ рдХреБрдВрдЬреА **GCP рджреНрд╡рд╛рд░рд╛ рдЖрдВрддрд░рд┐рдХ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИ** рддрд╛рдХрд┐ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рдХреЛ рдПрдХреНрд╕реЗрд╕рд┐рдмрд▓ OAuth рдЯреЛрдХрди рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдорд┐рд▓ рд╕рдХреЗред

### **Access scopes**

рдПрдХреНрд╕реЗрд╕ рд╕реНрдХреЛрдк **рдЙрддреНрдкрдиреНрди OAuth рдЯреЛрдХрди рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реЛрддреЗ рд╣реИрдВ** рддрд╛рдХрд┐ GCP API рдПрдВрдбрдкреЙрдЗрдВрдЯреНрд╕ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХреЗред рдпреЗ **OAuth рдЯреЛрдХрди рдХреА рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВ**ред\
рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдпрджрд┐ рдПрдХ рдЯреЛрдХрди рдХрд┐рд╕реА рд╕рдВрд╕рд╛рдзрди рдХреЗ рдорд╛рд▓рд┐рдХ рдХрд╛ рд╣реИ рд▓реЗрдХрд┐рди рдЙрд╕ рд╕рдВрд╕рд╛рдзрди рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЯреЛрдХрди рд╕реНрдХреЛрдк рдореЗрдВ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЯреЛрдХрди **рдЙрди рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХрд╛ (рджреБрд░реБрдкрдпреЛрдЧ) рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛**ред

рдЧреВрдЧрд▓ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ [рдЕрдиреБрд╢рдВрд╕рд╛ рдХрд░рддрд╛ рд╣реИ](https://cloud.google.com/compute/docs/access/service-accounts#service_account_permissions) рдХрд┐ **рдПрдХреНрд╕реЗрд╕ рд╕реНрдХреЛрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдП рдФрд░ рдкреВрд░реА рддрд░рд╣ рд╕реЗ IAM рдкрд░ рднрд░реЛрд╕рд╛ рдХрд┐рдпрд╛ рдЬрд╛рдП**ред рд╡реЗрдм рдкреНрд░рдмрдВрдзрди рдкреЛрд░реНрдЯрд▓ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЗрд╕реЗ рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдХрд╕реНрдЯрдо рд╕реЗрд╡рд╛ рдЦрд╛рддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдкрд░ рдЕрднреА рднреА рдПрдХреНрд╕реЗрд╕ рд╕реНрдХреЛрдк рд▓рд╛рдЧреВ рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред

рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ **рд╕реНрдХреЛрдк** **рдЕрд╕рд╛рдЗрди** рдХрд┐рдП рдЧрдП рд╣реИрдВ **рдкреВрдЫрддрд╛рдЫ рдХрд░рдХреЗ:**

{% code overflow="wrap" %}
```bash
curl 'https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=<access_token>'

{
"issued_to": "223044615559.apps.googleusercontent.com",
"audience": "223044615559.apps.googleusercontent.com",
"user_id": "139746512919298469201",
"scope": "openid https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/appengine.admin https://www.googleapis.com/auth/sqlservice.login https://www.googleapis.com/auth/compute https://www.googleapis.com/auth/accounts.reauth",
"expires_in": 2253,
"email": "username@testing.com",
"verified_email": true,
"access_type": "offline"
}
```
{% endcode %}

рдкрд┐рдЫрд▓реЗ **scopes** рд╡реЗ рд╣реИрдВ рдЬреЛ **default** рджреНрд╡рд╛рд░рд╛ **`gcloud`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреЗрдЯрд╛ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрддреНрдкрдиреНрди рд╣реЛрддреЗ рд╣реИрдВред рдЗрд╕рдХрд╛ рдХрд╛рд░рдг рдпрд╣ рд╣реИ рдХрд┐ рдЬрдм рдЖрдк **`gcloud`** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдкрд╣рд▓реЗ рдПрдХ OAuth рдЯреЛрдХрди рдмрдирд╛рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдВрдд рдмрд┐рдВрджреБрдУрдВ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВред

рдЙрдирдореЗрдВ рд╕реЗ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕реНрдХреЛрдк **`cloud-platform`** рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдореВрд▓ рд░реВрдк рд╕реЗ рдорддрд▓рдм рд╣реИ рдХрд┐ **GCP рдореЗрдВ рдХрд┐рд╕реА рднреА рд╕реЗрд╡рд╛ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ**ред

рдЖрдк **рдпрд╣рд╛рдБ рд╕рднреА рд╕рдВрднрд╛рд╡рд┐рдд рд╕реНрдХреЛрдк рдХреА рдПрдХ рд╕реВрдЪреА** [**рдкрд╛рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**](https://developers.google.com/identity/protocols/googlescopes)**ред**

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ **`gcloud`** рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓ рд╣реИрдВ, рддреЛ рдпрд╣ **рдЕрдиреНрдп рд╕реНрдХреЛрдк рдХреЗ рд╕рд╛рде рдПрдХ рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ,** рдХреБрдЫ рдРрд╕рд╛ рдХрд░рддреЗ рд╣реБрдП: 

{% code overflow="wrap" %}
```bash
# Maybe you can get a user token with other scopes changing the scopes array from ~/.config/gcloud/credentials.db

# Set new scopes for SDKs credentials
gcloud auth application-default login --scopes=https://www.googleapis.com/auth/userinfo.email,https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/sqlservice.login,https://www.googleapis.com/auth/appengine.admin,https://www.googleapis.com/auth/compute,https://www.googleapis.com/auth/accounts.reauth,https://www.googleapis.com/auth/admin.directory.user,https://www.googleapis.com/auth/admin.directory.group,https://www.googleapis.com/auth/admin.directory.domain,https://www.googleapis.com/auth/admin.directory.user

# Print new token
gcloud auth application-default print-access-token

# To use this token with some API you might need to use curl to indicate the project header with --header "X-Goog-User-Project: <project-name>"
```
{% endcode %}

## **Terraform IAM рдиреАрддрд┐рдпрд╛рдБ, рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рдФрд░ рд╕рджрд╕реНрдпрддрд╛рдПрдБ**

рдЬреИрд╕рд╛ рдХрд┐ terraform рджреНрд╡рд╛рд░рд╛ [https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/google\_project\_iam](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/google_project_iam) рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, GCP рдХреЗ рд╕рд╛рде terraform рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рд╕рдВрд╕рд╛рдзрди рдкрд░ рдПрдХ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдХреЛ рдкрд╣реБрдБрдЪ рджреЗрдиреЗ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЗ рд╣реИрдВ:

* **рд╕рджрд╕реНрдпрддрд╛рдПрдБ**: рдЖрдк **рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдХреЛ рднреВрдорд┐рдХрд╛рдУрдВ рдХреЗ рд╕рджрд╕реНрдпреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ** **рднреВрдорд┐рдХрд╛ рдпрд╛ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдкрд░ рдХреЛрдИ рдкреНрд░рддрд┐рдмрдВрдз рдирд╣реАрдВ**ред рдЖрдк рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдПрдХ рднреВрдорд┐рдХрд╛ рдХрд╛ рд╕рджрд╕реНрдп рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдлрд┐рд░ рдЙрд╕реА рднреВрдорд┐рдХрд╛ рдХрд╛ рд╕рджрд╕реНрдп рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдореВрд╣ рдХреЛ рднреА рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрди рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ (рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдФрд░ рд╕рдореВрд╣) рдХреЛ рдЕрдиреНрдп рднреВрдорд┐рдХрд╛рдУрдВ рдХрд╛ рд╕рджрд╕реНрдп рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред
* **рдмрд╛рдЗрдВрдбрд┐рдВрдЧ**: рдХрдИ **рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдХреЛ рдПрдХ рднреВрдорд┐рдХрд╛ рд╕реЗ рдмрд╛рдЗрдВрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ**ред рд╡реЗ **рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдЕрднреА рднреА рдЕрдиреНрдп рднреВрдорд┐рдХрд╛рдУрдВ рдХреЗ рд╕рджрд╕реНрдпреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдмрд╛рдЗрдВрдб рдпрд╛ рд╕рджрд╕реНрдп рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ**ред рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрджрд┐ рдПрдХ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдЬреЛ рднреВрдорд┐рдХрд╛ рд╕реЗ рдмрд╛рдЗрдВрдб рдирд╣реАрдВ рд╣реИ, рдХреЛ **рдмрд╛рдЗрдВрдб рдХреА рдЧрдИ рднреВрдорд┐рдХрд╛ рдХрд╛ рд╕рджрд╕реНрдп** рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЕрдЧрд▓реА рдмрд╛рд░ рдЬрдм **рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рд▓рд╛рдЧреВ рдХреА рдЬрд╛рддреА рд╣реИ, рддреЛ рд╕рджрд╕реНрдпрддрд╛ рдЧрд╛рдпрдм рд╣реЛ рдЬрд╛рдПрдЧреА**ред
* **рдиреАрддрд┐рдпрд╛рдБ**: рдПрдХ рдиреАрддрд┐ **рдЕрдзрд┐рдХрд╛рд░рд┐рддрд╛** рд╣реИ, рдпрд╣ рднреВрдорд┐рдХрд╛рдУрдВ рдФрд░ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓реЛрдВ рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░рддреА рд╣реИ рдФрд░ рдлрд┐рд░, **рд╡реЗ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдЕрдзрд┐рдХ рднреВрдорд┐рдХрд╛рдПрдБ рдирд╣реАрдВ рд░рдЦ рд╕рдХрддреЗ рдФрд░ рдЙрди рднреВрдорд┐рдХрд╛рдУрдВ рдореЗрдВ рдЕрдзрд┐рдХ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддреЗ** рдЬрдм рддрдХ рдХрд┐ рдЙрд╕ рдиреАрддрд┐ рдореЗрдВ рд╕рдВрд╢реЛрдзрди рди рдХрд┐рдпрд╛ рдЬрд╛рдП (рдпрд╣ рдЕрдиреНрдп рдиреАрддрд┐рдпреЛрдВ, рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рдпрд╛ рд╕рджрд╕реНрдпрддрд╛рдУрдВ рдореЗрдВ рднреА рдирд╣реАрдВ)ред рдЗрд╕рд▓рд┐рдП, рдЬрдм рдХрд┐рд╕реА рдиреАрддрд┐ рдореЗрдВ рдПрдХ рднреВрдорд┐рдХрд╛ рдпрд╛ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЙрд╕рдХреА рд╕рднреА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ **рдЙрд╕ рдиреАрддрд┐ рджреНрд╡рд╛рд░рд╛ рд╕реАрдорд┐рдд рд╣реЛрддреА рд╣реИрдВ**ред рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ, рдпрджрд┐ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдХреЛ рдиреАрддрд┐ рдпрд╛ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд╡реГрджреНрдзрд┐ рдЕрдиреБрдорддрд┐рдпреЛрдВ (рдЬреИрд╕реЗ рдПрдХ рдирдпрд╛ рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓ рдмрдирд╛рдирд╛ рдФрд░ рдЙрд╕реЗ рдПрдХ рдирдИ рднреВрдорд┐рдХрд╛ рд╕реЗ рдмрд╛рдЗрдВрдб рдХрд░рдирд╛) рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рдХрд▓реНрдк рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ рдмрд╛рдпрдкрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

## рд╕рдВрджрд░реНрдн

* [https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/](https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/)
* [https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy](https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy)

{% hint style="success" %}
AWS рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCP рд╣реИрдХрд┐рдВрдЧ рд╕реАрдЦреЗрдВ рдФрд░ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВ: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░реЗрдВ</summary>

* [**рд╕рджрд╕реНрдпрддрд╛ рдпреЛрдЬрдирд╛рдПрдБ**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* **ЁЯТм [**Discord рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**telegram рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ рдпрд╛ **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks_live)** рдкрд░ рд╣рдореЗрдВ **рдлреЙрд▓реЛ** рдХрд░реЗрдВред**
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ рдФрд░ [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ PR рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВред**

</details>
{% endhint %}
