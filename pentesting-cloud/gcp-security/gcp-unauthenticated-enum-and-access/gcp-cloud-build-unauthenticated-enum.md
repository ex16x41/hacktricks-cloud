# GCP - Cloud Build Kimlik Doğrulaması Olmadan Enum

{% hint style="success" %}
AWS Hacking'i öğrenin ve pratik yapın:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Eğitim AWS Kırmızı Takım Uzmanı (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve pratik yapın: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Eğitim GCP Kırmızı Takım Uzmanı (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın ya da **Twitter'da** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** bizi takip edin.**
* **Hacking ipuçlarını paylaşmak için** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gönderin.

</details>
{% endhint %}

## Cloud Build

Cloud Build hakkında daha fazla bilgi için kontrol edin:

{% content-ref url="../gcp-services/gcp-cloud-build-enum.md" %}
[gcp-cloud-build-enum.md](../gcp-services/gcp-cloud-build-enum.md)
{% endcontent-ref %}

### cloudbuild.yml

Eğer **`cloudbuild.yml`** adında bir dosya içeren bir depoya yazma erişimini ele geçirirseniz, bu dosyayı **backdoor** yapabilir, bu dosyanın içindeki **çalıştırılacak komutları** belirleyebilir ve sırları dışarı sızdırabilir, yapılan işlemleri tehlikeye atabilir ve ayrıca **Cloud Build hizmet hesabını** tehlikeye atabilirsiniz.

{% hint style="info" %}
GCP'nin, yöneticilerin dış PR'lerden inşa sistemlerinin yürütülmesini kontrol etmelerine izin verme seçeneği olduğunu unutmayın. Yorum Kontrolü, işbirlikçiler/proje sahiplerinin **PR'ye karşı inşaatı tetiklemek için “/gcbrun” yorumunu yapması gerektiği** bir özelliktir ve bu özellik, internetten herhangi birinin inşa sistemlerinizi tetiklemesini engeller.
{% endhint %}

İlgili bazı bilgiler için Github Actions'a nasıl saldırılacağına dair sayfayı kontrol edebilirsiniz (buna benzer):

{% content-ref url="../../../pentesting-ci-cd/github-security/abusing-github-actions/" %}
[abusing-github-actions](../../../pentesting-ci-cd/github-security/abusing-github-actions/)
{% endcontent-ref %}

### PR Onayları

Tetikleyici PR olduğunda, çünkü **herkes kamuya açık depolara PR yapabilir**, herhangi bir PR ile tetikleyicinin yürütülmesine izin vermek çok tehlikeli olacaktır. Bu nedenle, varsayılan olarak, yürütme yalnızca **sahipler ve işbirlikçiler için otomatik olacaktır** ve diğer kullanıcıların PR'leri ile tetikleyiciyi yürütmek için bir sahip veya işbirlikçi **/gcbrun** yorumunu yapmalıdır.

<figure><img src="../../../.gitbook/assets/image (339).png" alt="" width="563"><figcaption></figcaption></figure>

{% hint style="danger" %}
Bu nedenle, bu **`Gerekli Değil`** olarak ayarlandığında, bir saldırgan **dal için bir PR** gerçekleştirebilir ve kötü niyetli kod yürütmesini **`cloudbuild.yml`** dosyasına ekleyerek cloudbuild yürütmesini tehlikeye atabilir (cloudbuild'in kodu PR'den indireceğini unutmayın, bu nedenle kötü niyetli **`cloudbuild.yml`** dosyasını çalıştıracaktır).
{% endhint %}

Ayrıca, bir PR gönderdiğinizde bazı cloudbuild yürütmelerinin gerçekleştirilmesi gerektiğini görmek kolaydır çünkü Github'da görünür:

<figure><img src="../../../.gitbook/assets/image (340).png" alt=""><figcaption></figcaption></figure>

{% hint style="warning" %}
Bu durumda, cloudbuild yürütülmese bile, saldırgan şirketin ait olduğu **bir GCP projesinin adını** görebilecektir.
{% endhint %}

{% hint style="success" %}
AWS Hacking'i öğrenin ve pratik yapın:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Eğitim AWS Kırmızı Takım Uzmanı (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve pratik yapın: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Eğitim GCP Kırmızı Takım Uzmanı (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın ya da **Twitter'da** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** bizi takip edin.**
* **Hacking ipuçlarını paylaşmak için** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gönderin.

</details>
{% endhint %}
