# GCP - Osnovne Informacije

{% hint style="success" %}
NauÄite i veÅ¾bajte AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
NauÄite i veÅ¾bajte GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¾ite HackTricks</summary>

* Pogledajte [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Delite hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}

## **Hijerarhija resursa**

Google Cloud koristi [Hijerarhiju resursa](https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy) koja je konceptualno sliÄna tradicionalnom fajl sistemu. Ovo pruÅ¾a logiÄan workflow roditelj/dete sa specifiÄnim taÄkama za pridruÅ¾ivanje politika i dozvola.

Na visokom nivou, izgleda ovako:
```
Organization
--> Folders
--> Projects
--> Resources
```
Virtuelna maÅ¡ina (nazvana Compute Instance) je resurs. Resurs se nalazi u projektu, verovatno zajedno sa drugim Compute Instances, skladiÅ¡nim bucket-ima, itd.

<figure><img src="../../.gitbook/assets/image (1).png" alt=""><figcaption><p><a href="https://cloud.google.com/static/resource-manager/img/cloud-hierarchy.svg">https://cloud.google.com/static/resource-manager/img/cloud-hierarchy.svg</a></p></figcaption></figure>

## **Migracija Projekata**

MoguÄ‡e je **migrirati projekat bez organizacije** u organizaciju sa dozvolama `roles/resourcemanager.projectCreator` i `roles/resourcemanager.projectMover`. Ako je projekat unutar druge organizacije, potrebno je kontaktirati GCP podrÅ¡ku da bi se **prvo premestio iz organizacije**. Za viÅ¡e informacija pogledajte [**ovde**](https://medium.com/google-cloud/migrating-a-project-from-one-organization-to-another-gcp-4b37a86dd9e6).

## **Organizacione Politike**

OmoguÄ‡avaju centralizovanu kontrolu nad cloud resursima vaÅ¡e organizacije:

* Centralizujte kontrolu da **konfiguriÅ¡ete ograniÄenja** na naÄin na koji se resursi vaÅ¡e organizacije mogu koristiti.
* DefiniÅ¡ite i uspostavite **zaÅ¡titne ograde** za vaÅ¡e razvojne timove kako bi ostali unutar granica usklaÄ‘enosti.
* Pomozite vlasnicima projekata i njihovim timovima da se brzo kreÄ‡u bez brige o krÅ¡enju usklaÄ‘enosti.

Ove politike mogu biti kreirane da **utiÄu na celu organizaciju, folder(e) ili projekat(e)**. Potomci ciljanog Ävora hijerarhije resursa **nasleÄ‘uju organizacionu politiku**.

Da biste **definisali** organizacionu politiku, **birate** [**ograniÄenje**](https://cloud.google.com/resource-manager/docs/organization-policy/overview#constraints), Å¡to je odreÄ‘ena vrsta ograniÄenja protiv Google Cloud servisa ili grupe Google Cloud servisa. **KonfiguriÅ¡ete to ograniÄenje sa Å¾eljenim restrikcijama**.

<figure><img src="../../.gitbook/assets/image (5) (4).png" alt=""><figcaption><p><a href="https://cloud.google.com/resource-manager/img/org-policy-concepts.svg">https://cloud.google.com/resource-manager/img/org-policy-concepts.svg</a></p></figcaption></figure>

#### UobiÄajeni sluÄajevi upotrebe <a href="#common_use_cases" id="common_use_cases"></a>

* OgraniÄite deljenje resursa na osnovu domena.
* OgraniÄite upotrebu Identity and Access Management servisnih naloga.
* OgraniÄite fiziÄku lokaciju novokreiranih resursa.
* OnemoguÄ‡ite kreiranje servisnih naloga.

<figure><img src="../../.gitbook/assets/image (83).png" alt=""><figcaption></figcaption></figure>

Postoji mnogo viÅ¡e ograniÄenja koja vam daju detaljnu kontrolu nad resursima vaÅ¡e organizacije. Za **viÅ¡e informacija, pogledajte** [**listu svih ograniÄenja Organizacione Politike**](https://cloud.google.com/resource-manager/docs/organization-policy/org-policy-constraints)**.**

### **Podrazumevane Organizacione Politike**

<details>

<summary>Ovo su politike koje Google dodaje po defaultu prilikom postavljanja vaÅ¡e GCP organizacije:</summary>

**Politike Upravljanja Pristupom**

* **Kontakti ograniÄeni na domen:** SpreÄava dodavanje korisnika u Essential Contacts van vaÅ¡ih specificiranih domena. Ovo ograniÄava Essential Contacts da dozvoljava samo upravljane korisniÄke identitete u vaÅ¡im odabranim domenima da primaju platformske notifikacije.
* **Deljenje ograniÄeno na domen:** SpreÄava dodavanje korisnika u IAM politike van vaÅ¡ih specificiranih domena. Ovo ograniÄava IAM politike da dozvoljavaju samo upravljane korisniÄke identitete u vaÅ¡im odabranim domenima da pristupaju resursima unutar ove organizacije.
* **SpreÄavanje javnog pristupa:** SpreÄava Cloud Storage bucket-e da budu izloÅ¾eni javnosti. Ovo osigurava da programer ne moÅ¾e konfigurisati Cloud Storage bucket-e za neautentifikovani internet pristup.
* **Uniformni pristup na nivou bucket-a:** SpreÄava liste kontrole pristupa (ACLs) na nivou objekata u Cloud Storage bucket-ima. Ovo pojednostavljuje vaÅ¡e upravljanje pristupom primenom IAM politika dosledno na sve objekte u Cloud Storage bucket-ima.
* **Zahtevaj OS prijavu:** VM-ovi kreirani u novim projektima Ä‡e imati OS Login omoguÄ‡en. Ovo vam omoguÄ‡ava da upravljate SSH pristupom vaÅ¡im instancama koristeÄ‡i IAM bez potrebe za kreiranjem i upravljanjem pojedinaÄnim SSH kljuÄevima.

**Dodatne sigurnosne politike za servisne naloge**

* **OnemoguÄ‡i automatske IAM dozvole:** SpreÄava da podrazumevani App Engine i Compute Engine servisni nalozi automatski dobiju Editor IAM ulogu na projektu prilikom kreiranja. Ovo osigurava da servisni nalozi ne dobiju previÅ¡e permisivne IAM uloge prilikom kreiranja.
* **OnemoguÄ‡i kreiranje kljuÄeva servisnih naloga:** SpreÄava kreiranje javnih kljuÄeva servisnih naloga. Ovo pomaÅ¾e u smanjenju rizika od izlaganja trajnih akreditiva.
* **OnemoguÄ‡i upload kljuÄeva servisnih naloga:** SpreÄava upload javnih kljuÄeva servisnih naloga. Ovo pomaÅ¾e u smanjenju rizika od curenja ili ponovne upotrebe kljuÄnog materijala.

**Politike sigurne konfiguracije VPC mreÅ¾e**

* **DefiniÅ¡i dozvoljene eksterne IP adrese za VM instance:** SpreÄava kreiranje Compute instanci sa javnim IP-om, Å¡to ih moÅ¾e izloÅ¾iti internet saobraÄ‡aju.

<!---->

* **OnemoguÄ‡i VM nested virtualizaciju:** SpreÄava kreiranje nested VM-ova na Compute Engine VM-ovima. Ovo smanjuje sigurnosni rizik od neproverenih nested VM-ova.

<!---->

* **OnemoguÄ‡i VM serijski port:** SpreÄava pristup serijskom portu Compute Engine VM-ova. Ovo spreÄava unos na serijski port servera koristeÄ‡i Compute Engine API.

<!---->

* **OgraniÄi autorizovane mreÅ¾e na Cloud SQL instancama:** SpreÄava javne ili ne-internalne mreÅ¾ne opsege da pristupaju vaÅ¡im Cloud SQL bazama podataka.

<!---->

* **OgraniÄi prosleÄ‘ivanje protokola na osnovu tipa IP adrese:** SpreÄava VM prosleÄ‘ivanje protokola za eksterne IP adrese.

<!---->

* **OgraniÄi javni IP pristup na Cloud SQL instancama:** SpreÄava kreiranje Cloud SQL instanci sa javnim IP-om, Å¡to ih moÅ¾e izloÅ¾iti internet saobraÄ‡aju.

<!---->

* **OgraniÄi uklanjanje Shared VPC projekta:** SpreÄava sluÄajno brisanje Shared VPC host projekata.

<!---->

* **Postavlja internu DNS postavku za nove projekte na Zonal DNS Only:** SpreÄava upotrebu zastarele DNS postavke koja ima smanjenu dostupnost usluge.

<!---->

* **PreskoÄi kreiranje podrazumevane mreÅ¾e:** SpreÄava automatsko kreiranje podrazumevane VPC mreÅ¾e i povezanih resursa. Ovo izbegava previÅ¡e permisivna podrazumevana firewall pravila.

<!---->

* **OnemoguÄ‡i VPC eksternu IPv6 upotrebu:** SpreÄava kreiranje eksternih IPv6 subnet-ova, koji mogu biti izloÅ¾eni neovlaÅ¡Ä‡enom internet pristupu.

</details>

## **IAM Uloge**

Ovo su kao IAM politike u AWS-u jer **svaka uloga sadrÅ¾i set dozvola.**

MeÄ‘utim, za razliku od AWS-a, ne postoji **centralizovani repo** uloga. Umesto toga, **resursi daju X pristupne uloge Y principalima**, i jedini naÄin da se sazna ko ima pristup resursu je koriÅ¡Ä‡enje **`get-iam-policy` metode nad tim resursom**.\
Ovo moÅ¾e biti problem jer to znaÄi da je jedini naÄin da se sazna **koje dozvole principal ima da se pita svaki resurs kome daje dozvole**, a korisnik moÅ¾da nema dozvole da dobije dozvole od svih resursa.

Postoje **tri tipa** uloga u IAM:

* **Osnovne/Primitivne uloge**, koje ukljuÄuju **Owner**, **Editor**, i **Viewer** uloge koje su postojale pre uvoÄ‘enja IAM-a.
* **Predefinisane uloge**, koje pruÅ¾aju granularni pristup za specifiÄnu uslugu i upravlja ih Google Cloud. Postoji mnogo predefinisanih uloga, moÅ¾ete **videti sve sa privilegijama koje imaju** [**ovde**](https://cloud.google.com/iam/docs/understanding-roles#predefined\_roles).
* **PrilagoÄ‘ene uloge**, koje pruÅ¾aju granularni pristup prema listi dozvola koju je korisnik odredio.

Postoje hiljade dozvola u GCP-u. Da biste proverili da li uloga ima dozvolu moÅ¾ete [**pretraÅ¾iti dozvolu ovde**](https://cloud.google.com/iam/docs/permissions-reference) i videti koje uloge je imaju.

TakoÄ‘e moÅ¾ete [**pretraÅ¾iti ovde predefinisane uloge**](https://cloud.google.com/iam/docs/understanding-roles#product\_specific\_documentation) **koje nudi svaki proizvod.** Imajte na umu da neke **uloge** ne mogu biti dodeljene korisnicima i **samo SA-ovima zbog nekih dozvola** koje sadrÅ¾e.\
TakoÄ‘e, imajte na umu da **dozvole** Ä‡e **stupiti na snagu** samo ako su **dodeljene relevantnoj usluzi.**

Ili proverite da li **prilagoÄ‘ena uloga moÅ¾e koristiti** [**specifiÄnu dozvolu ovde**](https://cloud.google.com/iam/docs/custom-roles-permissions-support)**.**

{% content-ref url="gcp-services/gcp-iam-and-org-policies-enum.md" %}
[gcp-iam-and-org-policies-enum.md](gcp-services/gcp-iam-and-org-policies-enum.md)
{% endcontent-ref %}

## Korisnici <a href="#default-credentials" id="default-credentials"></a>

U **GCP konzoli** nema **upravljanja Korisnicima ili Grupama**, to se radi u **Google Workspace**. Iako moÅ¾ete sinhronizovati drugog provajdera identiteta u Google Workspace.

MoÅ¾ete pristupiti Workspaces **korisnicima i grupama na** [**https://admin.google.com**](https://admin.google.com/).

**MFA** moÅ¾e biti **forsiran** za Workspaces korisnike, meÄ‘utim, **napadaÄ** moÅ¾e koristiti token za pristup GCP **preko cli koji neÄ‡e biti zaÅ¡tiÄ‡en MFA-om** (biÄ‡e zaÅ¡tiÄ‡en MFA-om samo kada se korisnik prijavi da ga generiÅ¡e: `gcloud auth login`).

## Grupe

Kada se kreira organizacija, nekoliko grupa je **snaÅ¾no preporuÄeno da se kreira.** Ako upravljate bilo kojom od njih, moÅ¾da ste kompromitovali celu ili vaÅ¾an deo organizacije:

<table data-header-hidden><thead><tr><th width="299.3076923076923"></th><th></th></tr></thead><tbody><tr><td><strong>Grupa</strong></td><td><strong>Funkcija</strong></td></tr><tr><td><strong><code>gcp-organization-admins</code></strong><br><em>(grupa ili pojedinaÄni nalozi potrebni za checklistu)</em></td><td>Upravljanje bilo kojim resursom koji pripada organizaciji. Dodelite ovu ulogu Å¡tedljivo; org admini imaju pristup svim vaÅ¡im Google Cloud resursima. Alternativno, zbog visoke privilegovanosti ove funkcije, razmislite o koriÅ¡Ä‡enju pojedinaÄnih naloga umesto kreiranja grupe.</td></tr><tr><td><strong><code>gcp-network-admins</code></strong><br><em>(potrebno za checklistu)</em></td><td>Kreiranje mreÅ¾a, subnet-ova, firewall pravila i mreÅ¾nih ureÄ‘aja kao Å¡to su Cloud Router, Cloud VPN i cloud load balanceri.</td></tr><tr><td><strong><code>gcp-billing-admins</code></strong><br><em>(potrebno za checklistu)</em></td><td>Postavljanje billing naloga i praÄ‡enje njihove upotrebe.</td></tr><tr><td><strong><code>gcp-developers</code></strong><br><em>(potrebno za checklistu)</em></td><td>Dizajniranje, kodiranje i testiranje aplikacija.</td></tr><tr><td><strong><code>gcp-security-admins</code></strong><br></td><td>Uspostavljanje i upravljanje sigurnosnim politikama za celu organizaciju, ukljuÄujuÄ‡i upravljanje pristupom i <a href="https://cloud.google.com/resource-manager/docs/organization-policy/org-policy-constraints">organizacione ograniÄavajuÄ‡e politike</a>. Pogledajte <a href="https://cloud.google.com/architecture/security-foundations/authentication-authorization#users_and_groups">Google Cloud vodiÄ za sigurnosne osnove</a> za viÅ¡e informacija o planiranju vaÅ¡e Google Cloud sigurnosne infrastrukture.</td></tr><tr><td><strong><code>gcp-devops</code></strong></td><td>Kreiranje ili upravljanje end-to-end pipeline-ima koji podrÅ¾avaju kontinuiranu integraciju i isporuku, praÄ‡enje i provisioniranje sistema.</td></tr><tr><td><strong><code>gcp-logging-admins</code></strong></td><td></td></tr><tr><td><strong><code>gcp-logging-viewers</code></strong></td><td></td></tr><tr><td><strong><code>gcp-monitor-admins</code></strong></td><td></td></tr><tr><td><strong><code>gcp-billing-viewer</code></strong><br><em>(viÅ¡e nije po defaultu)</em></td><td>PraÄ‡enje troÅ¡kova na projektima. TipiÄni Älanovi su deo finansijskog tima.</td></tr><tr><td><strong><code>gcp-platform-viewer</code></strong><br><em>(viÅ¡e nije po defaultu)</em></td><td>Pregled informacija o resursima Å¡irom Google Cloud organizacije.</td></tr><tr><td><strong><code>gcp-security-reviewer</code></strong><br><em>(viÅ¡e nije po defaultu)</em></td><td>Pregled cloud sigurnosti.</td></tr><tr><td><strong><code>gcp-network-viewer</code></strong><br><em>(viÅ¡e nije po defaultu)</em></td><td>Pregled mreÅ¾nih konfiguracija.</td></tr><tr><td><strong><code>grp-gcp-audit-viewer</code></strong><br><em>(viÅ¡e nije po defaultu)</em></td><td>Pregled audit logova.</td></tr><tr><td><strong><code>gcp-scc-admin</code></strong><br><em>(viÅ¡e nije po defaultu)</em></td><td>Upravljanje Security Command Center-om.</td></tr><tr><td><strong><code>gcp-secrets-admin</code></strong><br><em>(viÅ¡e nije po defaultu)</em></td><td>Upravljanje tajnama u Secret Manager-u.</td></tr></tbody></table>

## **Podrazumevana Politika Lozinki**

* Primeni jake lozinke
* IzmeÄ‘u 8 i 100 karaktera
* Bez ponovne upotrebe
* Bez isteka
* Ako ljudi pristupaju Workspace-u preko treÄ‡eg provajdera, ovi zahtevi se ne primenjuju.

<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (2) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

## **Servisni nalozi**

Ovo su principi koje **resursi** mogu **imati** **prikaÄene** i pristup za lako interagovanje sa GCP-om. Na primer, moguÄ‡e je pristupiti **auth token-u** servisnog naloga **prikaÄenog na VM** u metapodacima.\
MoguÄ‡e je naiÄ‡i na neke **sukobe** kada se koriste i **IAM i pristupni opsezi**. Na primer, vaÅ¡ servisni nalog moÅ¾e imati IAM ulogu `compute.instanceAdmin` ali instanca koju ste kompromitovali je ograniÄena sa opsegom `https://www.googleapis.com/auth/compute.readonly`. Ovo bi vas spreÄilo da pravite bilo kakve promene koristeÄ‡i OAuth token koji je automatski dodeljen vaÅ¡oj instanci.

SliÄno je **IAM ulogama iz AWS-a**. Ali za razliku od AWS-a, **bilo koji** servisni nalog moÅ¾e biti **prikaÄen na bilo koju uslugu** (ne mora to dozvoliti putem politike).

Nekoliko servisnih naloga koje Ä‡ete pronaÄ‡i su zapravo **automatski generisani od strane GCP-a** kada poÄnete koristiti uslugu, kao:
```
PROJECT_NUMBER-compute@developer.gserviceaccount.com
PROJECT_ID@appspot.gserviceaccount.com
```
MeÄ‘utim, takoÄ‘e je moguÄ‡e kreirati i povezati resurse sa **prilagoÄ‘enim servisnim nalozima**, koji Ä‡e izgledati ovako:
```
SERVICE_ACCOUNT_NAME@PROJECT_NAME.iam.gserviceaccount.com
```
### **Access scopes**

Access scope su **prikaÄeni generisanim OAuth tokenima** za pristup GCP API krajnjim taÄkama. Oni **ograniÄavaju dozvole** OAuth tokena.\
To znaÄi da ako token pripada Vlasniku resursa, ali nema u opsegu tokena pristup tom resursu, token **ne moÅ¾e biti koriÅ¡Ä‡en za (zlo)upotrebu tih privilegija**.

Google zapravo [preporuÄuje](https://cloud.google.com/compute/docs/access/service-accounts#service\_account\_permissions) da se **access scope ne koriste i da se potpuno oslanja na IAM**. Web portal za upravljanje zapravo to i sprovodi, ali access scope se i dalje mogu primeniti na instance koristeÄ‡i prilagoÄ‘ene service accounts programski.

MoÅ¾ete videti koji su **scope-ovi** **dodeljeni** **upitom:**

{% code overflow="wrap" %}
```bash
curl 'https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=<access_token>'

{
"issued_to": "223044615559.apps.googleusercontent.com",
"audience": "223044615559.apps.googleusercontent.com",
"user_id": "139746512919298469201",
"scope": "openid https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/appengine.admin https://www.googleapis.com/auth/sqlservice.login https://www.googleapis.com/auth/compute https://www.googleapis.com/auth/accounts.reauth",
"expires_in": 2253,
"email": "username@testing.com",
"verified_email": true,
"access_type": "offline"
}
```
{% endcode %}

Prethodni **scopes** su oni generisani **podrazumevano** koristeÄ‡i **`gcloud`** za pristup podacima. Ovo je zato Å¡to kada koristite **`gcloud`**, prvo kreirate OAuth token, a zatim ga koristite za kontaktiranje krajnjih taÄaka.

NajvaÅ¾niji scope od tih potencijalno je **`cloud-platform`**, Å¡to u suÅ¡tini znaÄi da je moguÄ‡e **pristupiti bilo kojoj usluzi u GCP-u**.

MoÅ¾ete **pronaÄ‡i listu svih moguÄ‡ih scope-ova ovde** [**all the possible scopes in here**](https://developers.google.com/identity/protocols/googlescopes)**.**

Ako imate **`gcloud`** kredencijale za pretraÅ¾ivaÄ, moguÄ‡e je **dobiti token sa drugim scope-ovima**, radeÄ‡i neÅ¡to poput:

{% code overflow="wrap" %}
```bash
# Maybe you can get a user token with other scopes changing the scopes array from ~/.config/gcloud/credentials.db

# Set new scopes for SDKs credentials
gcloud auth application-default login --scopes=https://www.googleapis.com/auth/userinfo.email,https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/sqlservice.login,https://www.googleapis.com/auth/appengine.admin,https://www.googleapis.com/auth/compute,https://www.googleapis.com/auth/accounts.reauth,https://www.googleapis.com/auth/admin.directory.user,https://www.googleapis.com/auth/admin.directory.group,https://www.googleapis.com/auth/admin.directory.domain,https://www.googleapis.com/auth/admin.directory.user

# Print new token
gcloud auth application-default print-access-token

# To use this token with some API you might need to use curl to indicate the project header with --header "X-Goog-User-Project: <project-name>"
```
{% endcode %}

## **Terraform IAM Policies, Bindings and Memberships**

Kao Å¡to je definisano od strane terraform-a u [https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/google\_project\_iam](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/google\_project\_iam) koristeÄ‡i terraform sa GCP-om postoje razliÄiti naÄini da se principalu dodeli pristup resursu:

* **Memberships**: Postavljate **principale kao Älanove uloga** **bez ograniÄenja** na ulogu ili principale. MoÅ¾ete postaviti korisnika kao Älana uloge, a zatim postaviti grupu kao Älana iste uloge i takoÄ‘e postaviti te principale (korisnika i grupu) kao Älanove drugih uloga.
* **Bindings**: Nekoliko **principala moÅ¾e biti vezano za ulogu**. Ti **principali i dalje mogu biti vezani ili biti Älanovi drugih uloga**. MeÄ‘utim, ako principal koji nije vezan za ulogu bude postavljen kao **Älan vezane uloge**, sledeÄ‡i put kada se **veza primeni, Älanstvo Ä‡e nestati**.
* **Policies**: Politika je **autoritarna**, ona oznaÄava uloge i principale i tada, **ti principi ne mogu imati viÅ¡e uloga i te uloge ne mogu imati viÅ¡e principala** osim ako se ta politika ne izmeni (Äak ni u drugim politikama, vezama ili Älanstvima). Dakle, kada je uloga ili principal specificiran u politici, sva njegova privilegija je **ograniÄena tom politikom**. OÄigledno, ovo se moÅ¾e zaobiÄ‡i u sluÄaju da je principalu data opcija da izmeni politiku ili dozvole za eskalaciju privilegija (kao Å¡to je kreiranje novog principala i vezivanje za novu ulogu).

## References

* [https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/](https://about.gitlab.com/blog/2020/02/12/plundering-gcp-escalating-privileges-in-google-cloud-platform/)
* [https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy](https://cloud.google.com/resource-manager/docs/cloud-platform-resource-hierarchy)

{% hint style="success" %}
NauÄite i veÅ¾bajte AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
NauÄite i veÅ¾bajte GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¾ite HackTricks</summary>

* Pogledajte [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitter-u** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Delite hakovanje trikove podnoÅ¡enjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}
