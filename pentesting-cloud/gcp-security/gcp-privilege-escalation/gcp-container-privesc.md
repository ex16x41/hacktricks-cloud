# GCP - Container Privesc

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## container

### `container.clusters.get`

Î‘Ï…Ï„Î® Î· Î¬Î´ÎµÎ¹Î± ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Î½Î± **ÏƒÏ…Î³ÎºÎµÎ½Ï„ÏÏ‰Î¸Î¿ÏÎ½ Î´Î¹Î±Ï€Î¹ÏƒÏ„ÎµÏ…Ï„Î®ÏÎ¹Î± Î³Î¹Î± Ï„Î¿ Kubernetes cluster** Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ ÎºÎ¬Ï„Î¹ ÏŒÏ€Ï‰Ï‚:
```bash
gcloud container clusters get-credentials <cluster_name> --zone <zone>
```
Î§Ï‰ÏÎ¯Ï‚ ÎµÏ€Î¹Ï€Î»Î­Î¿Î½ Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î±, Ï„Î± Î´Î¹Î±Ï€Î¹ÏƒÏ„ÎµÏ…Ï„Î®ÏÎ¹Î± ÎµÎ¯Î½Î±Î¹ Î±ÏÎºÎµÏ„Î¬ Î²Î±ÏƒÎ¹ÎºÎ¬ ÎºÎ±Î¸ÏÏ‚ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ **Î½Î± ÎºÎ±Ï„Î±Î³ÏÎ¬ÏˆÎµÏ„Îµ ÎºÎ¬Ï€Î¿Î¹Î¿Ï…Ï‚ Ï€ÏŒÏÎ¿Ï…Ï‚**, Î±Î»Î»Î¬ ÎµÎ¯Î½Î±Î¹ Ï‡ÏÎ®ÏƒÎ¹Î¼Î± Î³Î¹Î± Î½Î± Î²ÏÎµÎ¯Ï„Îµ ÎºÎ±ÎºÏÏ‚ Î´Î¹Î±Î¼Î¿ÏÏ†ÏÏƒÎµÎ¹Ï‚ ÏƒÏ„Î¿ Ï€ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½.

{% hint style="info" %}
Î£Î·Î¼ÎµÎ¹ÏÏƒÏ„Îµ ÏŒÏ„Î¹ **Î¿Î¹ ÎºÎ»Î¬Î´Î¿Î¹ kubernetes Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÎ¯Î½Î±Î¹ Î´Î¹Î±Î¼Î¿ÏÏ†Ï‰Î¼Î­Î½Î¿Î¹ Ï‰Ï‚ Î¹Î´Î¹Ï‰Ï„Î¹ÎºÎ¿Î¯**, ÎºÎ¬Ï„Î¹ Ï€Î¿Ï… Î¸Î± Î±Ï€Î±Î³Î¿ÏÎµÏÏƒÎµÎ¹ Ï„Î·Î½ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÏ„Î¿Î½ Kube-API server Î±Ï€ÏŒ Ï„Î¿ Î”Î¹Î±Î´Î¯ÎºÏ„Ï…Î¿.
{% endhint %}

Î‘Î½ Î´ÎµÎ½ Î­Ï‡ÎµÏ„Îµ Î±Ï…Ï„Î® Ï„Î·Î½ Î¬Î´ÎµÎ¹Î±, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î±ÎºÏŒÎ¼Î± Î½Î± Î±Ï€Î¿ÎºÏ„Î®ÏƒÎµÏ„Îµ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÏ„Î¿Î½ ÎºÎ»Î¬Î´Î¿, Î±Î»Î»Î¬ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± **Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÏ„Îµ Ï„Î¿ Î´Î¹ÎºÏŒ ÏƒÎ±Ï‚ Î±ÏÏ‡ÎµÎ¯Î¿ ÏÏ…Î¸Î¼Î¯ÏƒÎµÏ‰Î½ kubectl** Î¼Îµ Ï„Î¹Ï‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ Ï„Ï‰Î½ ÎºÎ»Î¬Î´Ï‰Î½. ÎˆÎ½Î± Î½Î­Î¿ Ï€Î±ÏÎ±Î³ÏŒÎ¼ÎµÎ½Î¿ Ï†Î±Î¯Î½ÎµÏ„Î±Î¹ Î­Ï„ÏƒÎ¹:
```yaml
apiVersion: v1
clusters:
- cluster:
certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVMRENDQXBTZ0F3SUJBZ0lRRzNaQmJTSVlzeVRPR1FYODRyNDF3REFOQmdrcWhraUc5dzBCQVFzRkFEQXYKTVMwd0t3WURWUVFERXlRMk9UQXhZVEZoWlMweE56ZGxMVFF5TkdZdE9HVmhOaTAzWVdFM01qVmhNR05tTkdFdwpJQmNOTWpJeE1qQTBNakl4T1RJMFdoZ1BNakExTWpFeE1qWXlNekU1TWpSYU1DOHhMVEFyQmdOVkJBTVRKRFk1Ck1ERmhNV0ZsTFRFM04yVXROREkwWmkwNFpXRTJMVGRoWVRjeU5XRXdZMlkwWVRDQ0FhSXdEUVlKS29aSWh2Y04KQVFFQkJRQURnZ0dQQURDQ0FZb0NnZ0dCQU00TWhGemJ3Y3VEQXhiNGt5WndrNEdGNXRHaTZmb0pydExUWkI4Rgo5TDM4a2V2SUVWTHpqVmtoSklpNllnSHg4SytBUHl4RHJQaEhXMk5PczFNMmpyUXJLSHV6M0dXUEtRUmtUWElRClBoMy9MMDVtbURwRGxQK3hKdzI2SFFqdkE2Zy84MFNLakZjRXdKRVhZbkNMMy8yaFBFMzdxN3hZbktwTWdKVWYKVnoxOVhwNEhvbURvOEhUN2JXUTJKWTVESVZPTWNpbDhkdDZQd3FUYmlLNjJoQzNRTHozNzNIbFZxaiszNy90RgpmMmVwUUdFOG90a0VVOFlHQ3FsRTdzaVllWEFqbUQ4bFZENVc5dk1RNXJ0TW8vRHBTVGNxRVZUSzJQWk1rc0hyCmMwbGVPTS9LeXhnaS93TlBRdW5oQ2hnRUJIZTVzRmNxdmRLQ1pmUFovZVI1Qk0vc0w1WFNmTE9sWWJLa2xFL1YKNFBLNHRMVmpiYVg1VU9zMUZIVXMrL3IyL1BKQ2hJTkRaVTV2VjU0L1c5NWk4RnJZaUpEYUVGN0pveXJvUGNuMwpmTmNjQ2x1eGpOY1NsZ01ISGZKRzZqb0FXLzB0b2U3ek05RHlQOFh3NW44Zm5lQm5aVTFnYXNKREZIYVlZbXpGCitoQzFETmVaWXNibWNxOGVPVG9LOFBKRjZ3SURBUUFCbzBJd1FEQU9CZ05WSFE4QkFmOEVCQU1DQWdRd0R3WUQKVlIwVEFRSC9CQVV3QXdFQi96QWRCZ05WSFE0RUZnUVU5UkhvQXlxY3RWSDVIcmhQZ1BjYzF6Sm9kWFV3RFFZSgpLb1pJaHZjTkFRRUxCUUFEZ2dHQkFLbnp3VEx0QlJBVE1KRVB4TlBNbmU2UUNqZDJZTDgxcC9oeVc1eWpYb2w5CllkMTRRNFVlVUJJVXI0QmJadzl0LzRBQ3ZlYUttVENaRCswZ2wyNXVzNzB3VlFvZCtleVhEK2I1RFBwUUR3Z1gKbkJLcFFCY1NEMkpvZ29tT3M3U1lPdWVQUHNrODVvdWEwREpXLytQRkY1WU5ublc3Z1VLT2hNZEtKcnhuYUVGZAprVVl1TVdPT0d4U29qVndmNUsyOVNCbGJ5YXhDNS9tOWkxSUtXV2piWnZPN0s4TTlYLytkcDVSMVJobDZOSVNqCi91SmQ3TDF2R0crSjNlSjZneGs4U2g2L28yRnhxZWFNdDladWw4MFk4STBZaGxXVmlnSFMwZmVBUU1NSzUrNzkKNmozOWtTZHFBYlhPaUVOMzduOWp2dVlNN1ZvQzlNUk1oYUNyQVNhR2ZqWEhtQThCdlIyQW5iQThTVGpQKzlSMQp6VWRpK3dsZ0V4bnFvVFpBcUVHRktuUTlQcjZDaDYvR0xWWStqYXhuR3lyUHFPYlpNZTVXUDFOUGs4NkxHSlhCCjc1elFvanEyRUpxanBNSjgxT0gzSkxOeXRTdmt4UDFwYklxTzV4QUV0OWxRMjh4N28vbnRuaWh1WmR6M0lCRU8KODdjMDdPRGxYNUJQd0hIdzZtKzZjUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
server: https://34.123.141.28
name: gke_security-devbox_us-central1_autopilot-cluster-1
contexts:
- context:
cluster: gke_security-devbox_us-central1_autopilot-cluster-1
user: gke_security-devbox_us-central1_autopilot-cluster-1
name: gke_security-devbox_us-central1_autopilot-cluster-1
current-context: gke_security-devbox_us-central1_autopilot-cluster-1
kind: Config
preferences: {}
users:
- name: gke_security-devbox_us-central1_autopilot-cluster-1
user:
auth-provider:
config:
access-token: <access token>
cmd-args: config config-helper --format=json
cmd-path: gcloud
expiry: "2022-12-06T01:13:11Z"
expiry-key: '{.credential.token_expiry}'
token-key: '{.credential.access_token}'
name: gcp
```
### `container.roles.escalate` | `container.clusterRoles.escalate`

**Kubernetes** Î±Ï€ÏŒ Ï€ÏÎ¿ÎµÏ€Î¹Î»Î¿Î³Î® **Î±Ï€Î¿Ï„ÏÎ­Ï€ÎµÎ¹** Ï„Î¿Ï…Ï‚ Ï†Î¿ÏÎµÎ¯Ï‚ Î½Î± Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± **Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎ¿Ï…Î½** Î® Î½Î± **ÎµÎ½Î·Î¼ÎµÏÏÏƒÎ¿Ï…Î½** **Roles** ÎºÎ±Î¹ **ClusterRoles** Î¼Îµ **Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Î¬Î´ÎµÎ¹ÎµÏ‚** Î±Ï€ÏŒ Î±Ï…Ï„Î­Ï‚ Ï€Î¿Ï… Î­Ï‡ÎµÎ¹ Î¿ Ï†Î¿ÏÎ­Î±Ï‚. Î©ÏƒÏ„ÏŒÏƒÎ¿, Î­Î½Î±Ï‚ Ï†Î¿ÏÎ­Î±Ï‚ **GCP** Î¼Îµ Î±Ï…Ï„Î­Ï‚ Ï„Î¹Ï‚ Î¬Î´ÎµÎ¹ÎµÏ‚ Î¸Î± ÎµÎ¯Î½Î±Î¹ **ÏƒÎµ Î¸Î­ÏƒÎ· Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÎ¹/ÎµÎ½Î·Î¼ÎµÏÏÏƒÎµÎ¹ Roles/ClusterRoles Î¼Îµ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Î¬Î´ÎµÎ¹ÎµÏ‚** Î±Ï€ÏŒ Î±Ï…Ï„Î­Ï‚ Ï€Î¿Ï… ÎºÎ±Ï„Î­Ï‡ÎµÎ¹, Ï€Î±ÏÎ±ÎºÎ¬Î¼Ï€Ï„Î¿Î½Ï„Î±Ï‚ Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î±Ï„Î¹ÎºÎ¬ Ï„Î·Î½ Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î± Ï„Î¿Ï… Kubernetes ÎºÎ±Ï„Î¬ Î±Ï…Ï„Î®Ï‚ Ï„Î·Ï‚ ÏƒÏ…Î¼Ï€ÎµÏÎ¹Ï†Î¿ÏÎ¬Ï‚.

**`container.roles.create`** ÎºÎ±Î¹/Î® **`container.roles.update`** Î‰ **`container.clusterRoles.create`** ÎºÎ±Î¹/Î® **`container.clusterRoles.update`** Î±Î½Ï„Î¯ÏƒÏ„Î¿Î¹Ï‡Î± ÎµÎ¯Î½Î±Î¹ **ÎµÏ€Î¯ÏƒÎ·Ï‚** **Î±Î½Î±Î³ÎºÎ±Î¯Î±** Î³Î¹Î± Î½Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÏ„Îµ Î±Ï…Ï„Î­Ï‚ Ï„Î¹Ï‚ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚ Î±Î½ÏÏˆÏ‰ÏƒÎ·Ï‚ Ï€ÏÎ¿Î½Î¿Î¼Î¯Ï‰Î½.

### `container.roles.bind` | `container.clusterRoles.bind`

**Kubernetes** Î±Ï€ÏŒ Ï€ÏÎ¿ÎµÏ€Î¹Î»Î¿Î³Î® **Î±Ï€Î¿Ï„ÏÎ­Ï€ÎµÎ¹** Ï„Î¿Ï…Ï‚ Ï†Î¿ÏÎµÎ¯Ï‚ Î½Î± Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± **Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎ¿Ï…Î½** Î® Î½Î± **ÎµÎ½Î·Î¼ÎµÏÏÏƒÎ¿Ï…Î½** **RoleBindings** ÎºÎ±Î¹ **ClusterRoleBindings** Î³Î¹Î± Î½Î± Î´ÏÏƒÎ¿Ï…Î½ **Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Î¬Î´ÎµÎ¹ÎµÏ‚** Î±Ï€ÏŒ Î±Ï…Ï„Î­Ï‚ Ï€Î¿Ï… Î­Ï‡ÎµÎ¹ Î¿ Ï†Î¿ÏÎ­Î±Ï‚. Î©ÏƒÏ„ÏŒÏƒÎ¿, Î­Î½Î±Ï‚ Ï†Î¿ÏÎ­Î±Ï‚ **GCP** Î¼Îµ Î±Ï…Ï„Î­Ï‚ Ï„Î¹Ï‚ Î¬Î´ÎµÎ¹ÎµÏ‚ Î¸Î± ÎµÎ¯Î½Î±Î¹ **ÏƒÎµ Î¸Î­ÏƒÎ· Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÎ¹/ÎµÎ½Î·Î¼ÎµÏÏÏƒÎµÎ¹ RoleBindings/ClusterRoleBindings Î¼Îµ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Î¬Î´ÎµÎ¹ÎµÏ‚** Î±Ï€ÏŒ Î±Ï…Ï„Î­Ï‚ Ï€Î¿Ï… Î­Ï‡ÎµÎ¹, Ï€Î±ÏÎ±ÎºÎ¬Î¼Ï€Ï„Î¿Î½Ï„Î±Ï‚ Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î±Ï„Î¹ÎºÎ¬ Ï„Î·Î½ Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î± Ï„Î¿Ï… Kubernetes ÎºÎ±Ï„Î¬ Î±Ï…Ï„Î®Ï‚ Ï„Î·Ï‚ ÏƒÏ…Î¼Ï€ÎµÏÎ¹Ï†Î¿ÏÎ¬Ï‚.

**`container.roleBindings.create`** ÎºÎ±Î¹/Î® **`container.roleBindings.update`** Î‰ **`container.clusterRoleBindings.create`** ÎºÎ±Î¹/Î® **`container.clusterRoleBindings.update`** Î±Î½Ï„Î¯ÏƒÏ„Î¿Î¹Ï‡Î± ÎµÎ¯Î½Î±Î¹ ÎµÏ€Î¯ÏƒÎ·Ï‚ **Î±Î½Î±Î³ÎºÎ±Î¯Î±** Î³Î¹Î± Î½Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÏ„Îµ Î±Ï…Ï„Î­Ï‚ Ï„Î¹Ï‚ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ‚ Î±Î½ÏÏˆÏ‰ÏƒÎ·Ï‚ Ï€ÏÎ¿Î½Î¿Î¼Î¯Ï‰Î½.

### `container.cronJobs.create` | `container.cronJobs.update` | `container.daemonSets.create` | `container.daemonSets.update` | `container.deployments.create` | `container.deployments.update` | `container.jobs.create` | `container.jobs.update` | `container.pods.create` | `container.pods.update` | `container.replicaSets.create` | `container.replicaSets.update` | `container.replicationControllers.create` | `container.replicationControllers.update` | `container.scheduledJobs.create` | `container.scheduledJobs.update` | `container.statefulSets.create` | `container.statefulSets.update`

ÎŒÎ»ÎµÏ‚ Î±Ï…Ï„Î­Ï‚ Î¿Î¹ Î¬Î´ÎµÎ¹ÎµÏ‚ Î¸Î± ÏƒÎ±Ï‚ ÎµÏ€Î¹Ï„ÏÎ­ÏˆÎ¿Ï…Î½ Î½Î± **Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÏ„Îµ Î® Î½Î± ÎµÎ½Î·Î¼ÎµÏÏÏƒÎµÏ„Îµ Î­Î½Î±Î½ Ï€ÏŒÏÎ¿** ÏŒÏ€Î¿Ï… Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **Î¿ÏÎ¯ÏƒÎµÏ„Îµ** Î­Î½Î± **pod**. ÎŸÏÎ¯Î¶Î¿Î½Ï„Î±Ï‚ Î­Î½Î± pod Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **ÎºÎ±Î¸Î¿ÏÎ¯ÏƒÎµÏ„Îµ Ï„Î¿ SA** Ï€Î¿Ï… Î¸Î± ÎµÎ¯Î½Î±Î¹ **ÏƒÏ…Î½Î´ÎµÎ´ÎµÎ¼Î­Î½Î¿** ÎºÎ±Î¹ Ï„Î·Î½ **ÎµÎ¹ÎºÏŒÎ½Î±** Ï€Î¿Ï… Î¸Î± ÎµÎ¯Î½Î±Î¹ **ÎµÎºÏ„ÎµÎ»Î¿ÏÎ¼ÎµÎ½Î·**, ÎµÏ€Î¿Î¼Î­Î½Ï‰Ï‚ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÏ„Îµ Î¼Î¹Î± ÎµÎ¹ÎºÏŒÎ½Î± Ï€Î¿Ï… Î¸Î± **ÎµÎ¾Î¬Î³ÎµÎ¹ Ï„Î¿ token Ï„Î¿Ï… SA ÏƒÏ„Î¿Î½ Î´Î¹Î±ÎºÎ¿Î¼Î¹ÏƒÏ„Î® ÏƒÎ±Ï‚** ÎµÏ€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î¬Ï‚ ÏƒÎ±Ï‚ Î½Î± Î±Î½Ï…ÏˆÏÏƒÎµÏ„Îµ ÏƒÎµ Î¿Ï€Î¿Î¹Î¿Î½Î´Î®Ï€Î¿Ï„Îµ Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼ÏŒ Ï…Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚.\
Î“Î¹Î± Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ Î´ÎµÎ¯Ï„Îµ:

ÎšÎ±Î¸ÏÏ‚ Î²ÏÎ¹ÏƒÎºÏŒÎ¼Î±ÏƒÏ„Îµ ÏƒÎµ Î­Î½Î± Ï€ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½ GCP, Î¸Î± Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ ÎµÏ€Î¯ÏƒÎ·Ï‚ Î½Î± **Î»Î¬Î²ÎµÏ„Îµ Ï„Î¿ nodepool GCP SA** Î±Ï€ÏŒ Ï„Î·Î½ Ï…Ï€Î·ÏÎµÏƒÎ¯Î± **metadata** ÎºÎ±Î¹ Î½Î± **Î±Î½Ï…ÏˆÏÏƒÎµÏ„Îµ Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± ÏƒÏ„Î¿ GCP** (ÎºÎ±Ï„Î¬ Ï€ÏÎ¿ÎµÏ€Î¹Î»Î¿Î³Î® Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Ï„Î¿ compute SA).

### `container.secrets.get` | `container.secrets.list`

ÎŒÏ€Ï‰Ï‚ [**ÎµÎ¾Î·Î³ÎµÎ¯Ï„Î±Î¹ ÏƒÎµ Î±Ï…Ï„Î® Ï„Î· ÏƒÎµÎ»Î¯Î´Î±**](../../kubernetes-security/abusing-roles-clusterroles-in-kubernetes/#listing-secrets), Î¼Îµ Î±Ï…Ï„Î­Ï‚ Ï„Î¹Ï‚ Î¬Î´ÎµÎ¹ÎµÏ‚ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **Î´Î¹Î±Î²Î¬ÏƒÎµÏ„Îµ** Ï„Î± **tokens** ÏŒÎ»Ï‰Î½ Ï„Ï‰Î½ **SAs Ï„Î¿Ï… kubernetes**, Î­Ï„ÏƒÎ¹ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î±Î½Ï…ÏˆÏ‰Î¸ÎµÎ¯Ï„Îµ ÏƒÎµ Î±Ï…Ï„Î¬.

### `container.pods.exec`

ÎœÎµ Î±Ï…Ï„Î® Ï„Î·Î½ Î¬Î´ÎµÎ¹Î± Î¸Î± Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **exec ÏƒÎµ pods**, Ï€Î¿Ï… ÏƒÎ±Ï‚ Î´Î¯Î½ÎµÎ¹ **Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ·** ÏƒÎµ ÏŒÎ»Î± Ï„Î± **Kubernetes SAs Ï€Î¿Ï… ÎµÎºÏ„ÎµÎ»Î¿ÏÎ½Ï„Î±Î¹ ÏƒÎµ pods** Î³Î¹Î± Î½Î± Î±Î½Ï…ÏˆÏÏƒÎµÏ„Îµ Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± ÎµÎ½Ï„ÏŒÏ‚ Ï„Î¿Ï… K8s, Î±Î»Î»Î¬ ÎµÏ€Î¯ÏƒÎ·Ï‚ Î¸Î± Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **ÎºÎ»Î­ÏˆÎµÏ„Îµ** Ï„Î¿Î½ **GCP Service Account** Ï„Î¿Ï… **NodePool**, **Î±Î½Ï…ÏˆÏÎ½Î¿Î½Ï„Î±Ï‚ Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± ÏƒÏ„Î¿ GCP**.

### `container.pods.portForward`

ÎŒÏ€Ï‰Ï‚ **ÎµÎ¾Î·Î³ÎµÎ¯Ï„Î±Î¹ ÏƒÎµ Î±Ï…Ï„Î® Ï„Î· ÏƒÎµÎ»Î¯Î´Î±**, Î¼Îµ Î±Ï…Ï„Î­Ï‚ Ï„Î¹Ï‚ Î¬Î´ÎµÎ¹ÎµÏ‚ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **Î­Ï‡ÎµÏ„Îµ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· ÏƒÎµ Ï„Î¿Ï€Î¹ÎºÎ­Ï‚ Ï…Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚** Ï€Î¿Ï… ÎµÎºÏ„ÎµÎ»Î¿ÏÎ½Ï„Î±Î¹ ÏƒÎµ **pods** Ï€Î¿Ï… Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÏƒÎ±Ï‚ ÎµÏ€Î¹Ï„ÏÎ­ÏˆÎ¿Ï…Î½ Î½Î± **Î±Î½Ï…ÏˆÏÏƒÎµÏ„Îµ Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± ÏƒÏ„Î¿ Kubernetes** (ÎºÎ±Î¹ ÏƒÏ„Î¿ **GCP** Î±Î½ Î¼Îµ ÎºÎ¬Ï€Î¿Î¹Î¿ Ï„ÏÏŒÏ€Î¿ ÎºÎ±Ï„Î±Ï†Î­ÏÎµÏ„Îµ Î½Î± Î¼Î¹Î»Î®ÏƒÎµÏ„Îµ Î¼Îµ Ï„Î·Î½ Ï…Ï€Î·ÏÎµÏƒÎ¯Î± metadata)**.**

### `container.serviceAccounts.createToken`

Î›ÏŒÎ³Ï‰ Ï„Î¿Ï… **Î¿Î½ÏŒÎ¼Î±Ï„Î¿Ï‚** Ï„Î·Ï‚ **Î¬Î´ÎµÎ¹Î±Ï‚**, **Ï†Î±Î¯Î½ÎµÏ„Î±Î¹ ÏŒÏ„Î¹ Î¸Î± ÏƒÎ±Ï‚ ÎµÏ€Î¹Ï„ÏÎ­ÏˆÎµÎ¹ Î½Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÎµÏ„Îµ tokens Ï„Ï‰Î½ K8s Service Accounts**, Î­Ï„ÏƒÎ¹ Î¸Î± Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **Î±Î½Ï…ÏˆÏ‰Î¸ÎµÎ¯Ï„Îµ ÏƒÎµ Î¿Ï€Î¿Î¹Î¿Î´Î®Ï€Î¿Ï„Îµ SA** Î¼Î­ÏƒÎ± ÏƒÏ„Î¿ Kubernetes. Î©ÏƒÏ„ÏŒÏƒÎ¿, Î´ÎµÎ½ Î¼Ï€ÏŒÏÎµÏƒÎ± Î½Î± Î²ÏÏ‰ ÎºÎ±Î½Î­Î½Î± API endpoint Î³Î¹Î± Î½Î± Ï„Î¿ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÏ‰, Î¿Ï€ÏŒÏ„Îµ ÎµÎ½Î·Î¼ÎµÏÏÏƒÏ„Îµ Î¼Îµ Î±Î½ Ï„Î¿ Î²ÏÎµÎ¯Ï„Îµ.

### `container.mutatingWebhookConfigurations.create` | `container.mutatingWebhookConfigurations.update`

Î‘Ï…Ï„Î­Ï‚ Î¿Î¹ Î¬Î´ÎµÎ¹ÎµÏ‚ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÏƒÎ±Ï‚ ÎµÏ€Î¹Ï„ÏÎ­ÏˆÎ¿Ï…Î½ Î½Î± Î±Î½Ï…ÏˆÏÏƒÎµÏ„Îµ Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± ÏƒÏ„Î¿ Kubernetes, Î±Î»Î»Î¬ Ï€Î¹Î¿ Ï€Î¹Î¸Î±Î½ÏŒ ÎµÎ¯Î½Î±Î¹ ÏŒÏ„Î¹ Î¸Î± Î¼Ï€Î¿ÏÎ¿ÏÏƒÎ±Ï„Îµ Î½Î± Ï„Î¹Ï‚ ÎµÎºÎ¼ÎµÏ„Î±Î»Î»ÎµÏ…Ï„ÎµÎ¯Ï„Îµ Î³Î¹Î± Î½Î± **ÎµÏ€Î¹Î¼ÎµÎ¯Î½ÎµÏ„Îµ ÏƒÏ„Î¿ cluster**.\
Î“Î¹Î± Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎµÏ‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ [**Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ Î±Ï…Ï„ÏŒÎ½ Ï„Î¿Î½ ÏƒÏÎ½Î´ÎµÏƒÎ¼Î¿**](../../kubernetes-security/abusing-roles-clusterroles-in-kubernetes/#malicious-admission-controller).

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
