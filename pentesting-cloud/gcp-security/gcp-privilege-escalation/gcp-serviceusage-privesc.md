# GCP - Serviceusage Privesc

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## serviceusage

Οι παρακάτω άδειες είναι χρήσιμες για τη δημιουργία και κλοπή API keys, σημειώστε αυτό από τα έγγραφα: _Ένα API key είναι μια απλή κρυπτογραφημένη αλφαριθμητική συμβολοσειρά που **ταυτοποιεί μια εφαρμογή χωρίς κανένα κύριο**. Είναι χρήσιμα για την πρόσβαση σε **δημόσια δεδομένα ανώνυμα**, και χρησιμοποιούνται για να **συνδέουν** τα API requests με το έργο σας για ποσοστά και **χρέωση**._

Επομένως, με ένα API key μπορείτε να κάνετε αυτή την εταιρεία να πληρώσει για τη χρήση του API σας, αλλά δεν θα μπορείτε να αναβαθμίσετε τα δικαιώματα.

Για να μάθετε άλλες άδειες και τρόπους δημιουργίας API keys, ελέγξτε:

{% content-ref url="gcp-apikeys-privesc.md" %}
[gcp-apikeys-privesc.md](gcp-apikeys-privesc.md)
{% endcontent-ref %}

### `serviceusage.apiKeys.create`

Βρέθηκε μια μη τεκμηριωμένη API που μπορεί να χρησιμοποιηθεί για **δημιουργία API keys:**

{% code overflow="wrap" %}
```bash
curl -XPOST "https://apikeys.clients6.google.com/v1/projects/<project-uniq-name>/apiKeys?access_token=$(gcloud auth print-access-token)"
```
{% endcode %}

### `serviceusage.apiKeys.list`

Ανακαλύφθηκε μια άλλη μη τεκμηριωμένη API για την καταγραφή των API κλειδιών που έχουν ήδη δημιουργηθεί (τα API κλειδιά εμφανίζονται στην απάντηση):

{% code overflow="wrap" %}
```bash
curl "https://apikeys.clients6.google.com/v1/projects/<project-uniq-name>/apiKeys?access_token=$(gcloud auth print-access-token)"
```
{% endcode %}

### **`serviceusage.services.enable`** , **`serviceusage.services.use`**

Με αυτές τις άδειες, ένας επιτιθέμενος μπορεί να ενεργοποιήσει και να χρησιμοποιήσει νέες υπηρεσίες στο έργο. Αυτό θα μπορούσε να επιτρέψει σε έναν **επιτιθέμενο να ενεργοποιήσει υπηρεσίες όπως admin ή cloudidentity** για να προσπαθήσει να αποκτήσει πρόσβαση σε πληροφορίες του Workspace, ή άλλες υπηρεσίες για να αποκτήσει πρόσβαση σε ενδιαφέροντα δεδομένα.

## **References**

* [https://rhinosecuritylabs.com/cloud-security/privilege-escalation-google-cloud-platform-part-2/](https://rhinosecuritylabs.com/cloud-security/privilege-escalation-google-cloud-platform-part-2/)

<details>

<summary><strong>Support HackTricks and get benefits!</strong></summary>

Do you work in a **cybersecurity company**? Do you want to see your **company advertised in HackTricks**? or do you want to have access the **latest version of the PEASS or download HackTricks in PDF**? Check the [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!

Discover [**The PEASS Family**](https://opensea.io/collection/the-peass-family), our collection of exclusive [**NFTs**](https://opensea.io/collection/the-peass-family)

Get the [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)

**Join the** [**💬**](https://emojipedia.org/speech-balloon/) [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** me on **Twitter** [**🐦**](https://github.com/carlospolop/hacktricks/tree/7af18b62b3bdc423e11444677a6a73d4043511e9/\[https:/emojipedia.org/bird/README.md)[**@carlospolopm**](https://twitter.com/carlospolopm)**.**

**Share your hacking tricks submitting PRs to the** [**hacktricks github repo**](https://github.com/carlospolop/hacktricks)\*\*\*\*

**.**

</details>
