# GCP - ãã®ä»–ã®æ¨©é™æ˜‡æ ¼

{% hint style="success" %}
AWSãƒãƒƒã‚­ãƒ³ã‚°ã®å­¦ç¿’ã¨ç·´ç¿’:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCPãƒãƒƒã‚­ãƒ³ã‚°ã®å­¦ç¿’ã¨ç·´ç¿’: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksã®ã‚µãƒãƒ¼ãƒˆ</summary>

* [**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ï¼
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã«å‚åŠ ã™ã‚‹ã‹ã€[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼**ã—ã¦ãã ã•ã„ã€‚
* ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ãŸã‚ã«ã€[**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚

</details>
{% endhint %}

## ä¸€èˆ¬çš„ã«èˆˆå‘³æ·±ã„æ¨©é™

### \*.setIamPolicy

ãƒªã‚½ãƒ¼ã‚¹å†…ã§**`setIamPolicy`**æ¨©é™ã‚’æŒã¤ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã„ã‚‹å ´åˆã€ãã®ãƒªã‚½ãƒ¼ã‚¹ã®IAMãƒãƒªã‚·ãƒ¼ã‚’å¤‰æ›´ã—ã¦ç‰¹æ¨©ã‚’æ˜‡æ ¼ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚\
ã“ã®æ¨©é™ã¯ã€ãƒªã‚½ãƒ¼ã‚¹ãŒã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã€iam.ServiceAccounts.actAsãŒå¿…è¦ãªã„å ´åˆã«ã€**ä»–ã®ä¸»ä½“ã«æ˜‡æ ¼**ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

* _cloudfunctions.functions.setIamPolicy_
* Cloud Functionã®ãƒãƒªã‚·ãƒ¼ã‚’å¤‰æ›´ã—ã¦ã€è‡ªåˆ†è‡ªèº«ã‚’å‘¼ã³å‡ºã™ã“ã¨ã‚’è¨±å¯ã—ã¾ã™ã€‚

ã“ã®ç¨®é¡ã®æ¨©é™ã‚’æŒã¤ãƒªã‚½ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ—ã¯æ•°åã‚ã‚Šã€ã™ã¹ã¦ã‚’[https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference)ã§setIamPolicyã‚’æ¤œç´¢ã—ã¦è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### \*.create, \*.update

ã“ã‚Œã‚‰ã®æ¨©é™ã¯ã€**æ–°ã—ã„ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—ãŸã‚Šã€æ—¢å­˜ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’æ›´æ–°ã™ã‚‹**ã“ã¨ã§ç‰¹æ¨©ã‚’æ˜‡æ ¼ã•ã›ã‚‹ã®ã«éå¸¸ã«å½¹ç«‹ã¡ã¾ã™ã€‚ã“ã‚Œã‚‰ã®æ¨©é™ã¯ã€Service Accountã«å¯¾ã—ã¦ã‚‚**iam.serviceAccounts.actAs**æ¨©é™ã‚’æŒã£ã¦ã„ã‚‹å ´åˆã‚„ã€å¯¾è±¡ã®ãƒªã‚½ãƒ¼ã‚¹ãŒã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ã‚¢ã‚¿ãƒƒãƒã§ãã‚‹å ´åˆã«ç‰¹ã«æœ‰ç”¨ã§ã™ã€‚

### \*ServiceAccount\*

ã“ã®æ¨©é™ã¯é€šå¸¸ã€ã‚ã‚‹ãƒªã‚½ãƒ¼ã‚¹å†…ã®Service Accountã«**ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šå¤‰æ›´ã—ãŸã‚Š**ã™ã‚‹ã“ã¨ã‚’è¨±å¯ã—ã¾ã™ï¼ˆä¾‹ï¼šcompute.instances.setServiceAccountï¼‰ã€‚ã“ã‚Œã¯ç‰¹æ¨©æ˜‡æ ¼ã®ãƒ™ã‚¯ãƒˆãƒ«ã«ã¤ãªãŒã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ãŒã€ãã‚Œã¯ã‚±ãƒ¼ã‚¹ãƒã‚¤ã‚±ãƒ¼ã‚¹ã§ã™ã€‚



{% hint style="success" %}
AWSãƒãƒƒã‚­ãƒ³ã‚°ã®å­¦ç¿’ã¨ç·´ç¿’:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCPãƒãƒƒã‚­ãƒ³ã‚°ã®å­¦ç¿’ã¨ç·´ç¿’: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksã®ã‚µãƒãƒ¼ãƒˆ</summary>

* [**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ãƒã‚§ãƒƒã‚¯ï¼
* ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã«å‚åŠ ã™ã‚‹ã‹ã€[**telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼**ã—ã¦ãã ã•ã„ã€‚
* ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ãŸã‚ã«ã€[**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚

</details>
{% endhint %}
