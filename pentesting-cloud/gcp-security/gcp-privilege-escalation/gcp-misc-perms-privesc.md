# GCP - Generic Permissions Privesc

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Generic Interesting Permissions

### \*.setIamPolicy

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рдкрд╛рд╕ рдХрд┐рд╕реА рд╕рдВрд╕рд╛рдзрди рдореЗрдВ **`setIamPolicy`** рдЕрдиреБрдорддрд┐ рд╣реИ, рддреЛ рдЖрдк рдЙрд╕ рд╕рдВрд╕рд╛рдзрди рдореЗрдВ **рдЕрдзрд┐рдХрд╛рд░ рдмрдврд╝рд╛ рд╕рдХрддреЗ рд╣реИрдВ** рдХреНрдпреЛрдВрдХрд┐ рдЖрдк рдЙрд╕ рд╕рдВрд╕рд╛рдзрди рдХреА IAM рдиреАрддрд┐ рдХреЛ рдмрджрд▓рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдВрдЧреЗ рдФрд░ рдЖрдкрдХреЛ рдЙрд╕ рдкрд░ рдЕрдзрд┐рдХ рдЕрдзрд┐рдХрд╛рд░ рдорд┐рд▓реЗрдВрдЧреЗред\
рдпрд╣ рдЕрдиреБрдорддрд┐ **рдЕрдиреНрдп рдкреНрд░рд┐рдВрд╕рд┐рдкрд▓реНрд╕ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХрд╛рд░ рдмрдврд╝рд╛рдиреЗ** рдХреА рднреА рдЕрдиреБрдорддрд┐ рджреЗ рд╕рдХрддреА рд╣реИ рдпрджрд┐ рд╕рдВрд╕рд╛рдзрди рдХреЛрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдФрд░ iam.ServiceAccounts.actAs рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реИред

* _cloudfunctions.functions.setIamPolicy_
* рдПрдХ рдХреНрд▓рд╛рдЙрдб рдлрд╝рдВрдХреНрд╢рди рдХреА рдиреАрддрд┐ рдХреЛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЖрдк рдЗрд╕реЗ рдХреЙрд▓ рдХрд░ рд╕рдХреЗрдВред

рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХреА рдЕрдиреБрдорддрд┐ рд╡рд╛рд▓реЗ рдХрдИ рд╕рдВрд╕рд╛рдзрди рдкреНрд░рдХрд╛рд░ рд╣реИрдВ, рдЖрдк рд╕рднреА рдХреЛ [https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference) рдкрд░ setIamPolicy рдХреЗ рд▓рд┐рдП рдЦреЛрдЬрдХрд░ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред

### \*.create, \*.update

рдпреЗ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдореЗрдВ рдЕрдзрд┐рдХрд╛рд░ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП **рдПрдХ рдирдпрд╛ рдмрдирд╛рдиреЗ рдпрд╛ рдПрдХ рдирдП рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ** рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддреА рд╣реИрдВред рдпреЗ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧреА рд╣реЛрддреА рд╣реИрдВ рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рдкрд░ **iam.serviceAccounts.actAs** рдЕрдиреБрдорддрд┐ рднреА рд╣реИ рдФрд░ рдЬрд┐рд╕ рд╕рдВрд╕рд╛рдзрди рдкрд░ рдЖрдкрдХреЗ рдкрд╛рд╕ .create/.update рд╣реИ, рд╡рд╣ рдПрдХ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рдХреЛ рд╕рдВрд▓рдЧреНрди рдХрд░ рд╕рдХрддрд╛ рд╣реИред

### \*ServiceAccount\*

рдпрд╣ рдЕрдиреБрдорддрд┐ рдЖрдорддреМрд░ рдкрд░ рдЖрдкрдХреЛ **рдХрд┐рд╕реА рд╕рдВрд╕рд╛рдзрди рдореЗрдВ рдПрдХ рд╕реЗрд╡рд╛ рдЦрд╛рддреЗ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдпрд╛ рдЙрд╕реЗ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ** рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ (рдЬреИрд╕реЗ: compute.instances.setServiceAccount)ред рдпрд╣ **рдПрдХ рдЕрдзрд┐рдХрд╛рд░ рдмрдврд╝рд╛рдиреЗ** рдХреЗ рд╡реЗрдХреНрдЯрд░ рдХреА рдУрд░ рд▓реЗ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдкреНрд░рддреНрдпреЗрдХ рдорд╛рдорд▓реЗ рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░реЗрдЧрд╛ред

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
