# GCP - Generische Berechtigungen Privesc

{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teile Hacking-Tricks, indem du PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos sendest.

</details>
{% endhint %}

## Generische interessante Berechtigungen

### \*.setIamPolicy

Wenn du einen Benutzer besitzt, der die **`setIamPolicy`** Berechtigung in einer Ressource hat, kannst du **die Berechtigungen in dieser Ressource eskalieren**, da du die IAM-Richtlinie dieser Ressource √§ndern und dir mehr Berechtigungen gew√§hren kannst.\
Diese Berechtigung kann auch erm√∂glichen, **zu anderen Prinzipalen zu eskalieren**, wenn die Ressource das Ausf√ºhren von Code erlaubt und iam.ServiceAccounts.actAs nicht erforderlich ist.

* _cloudfunctions.functions.setIamPolicy_
* √Ñndere die Richtlinie einer Cloud-Funktion, um dich selbst zu erlauben, sie aufzurufen.

Es gibt Dutzende von Ressourcentypen mit dieser Art von Berechtigung, du kannst alle von ihnen in [https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference) finden, indem du nach setIamPolicy suchst.

### \*.create, \*.update

Diese Berechtigungen k√∂nnen sehr n√ºtzlich sein, um zu versuchen, Berechtigungen in Ressourcen zu eskalieren, indem du **eine neue erstellst oder eine bestehende aktualisierst**. Diese Art von Berechtigungen ist besonders n√ºtzlich, wenn du auch die Berechtigung **iam.serviceAccounts.actAs** √ºber ein Dienstkonto hast und die Ressource, √ºber die du .create/.update hast, ein Dienstkonto anh√§ngen kann.

### \*ServiceAccount\*

Diese Berechtigung erm√∂glicht es dir normalerweise, **auf ein Dienstkonto in einer Ressource zuzugreifen oder es zu √§ndern** (z.B.: compute.instances.setServiceAccount). Dies **k√∂nnte zu einem Privilegieneskalationsvektor f√ºhren**, h√§ngt jedoch von jedem Einzelfall ab.

{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teile Hacking-Tricks, indem du PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos sendest.

</details>
{% endhint %}
