# GCP - 일반 권한 상승

{% hint style="success" %}
AWS 해킹 배우기 및 연습하기:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCP 해킹 배우기 및 연습하기: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks 지원하기</summary>

* [**구독 계획**](https://github.com/sponsors/carlospolop) 확인하기!
* **💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 참여하거나 **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**를 팔로우하세요.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) 및 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) 깃허브 리포지토리에 PR을 제출하여 해킹 팁을 공유하세요.**

</details>
{% endhint %}

## 일반 흥미로운 권한

### \*.setIamPolicy

당신이 **`setIamPolicy`** 권한을 가진 사용자를 소유하고 있다면, 해당 리소스의 IAM 정책을 변경하여 더 많은 권한을 부여할 수 있으므로 **해당 리소스에서 권한을 상승시킬 수 있습니다**.\
이 권한은 코드 실행을 허용하는 리소스에서 **다른 주체로 권한을 상승시킬 수** 있게 해줄 수 있으며, iam.ServiceAccounts.actAs가 필요하지 않습니다.

* _cloudfunctions.functions.setIamPolicy_
* Cloud Function의 정책을 수정하여 자신이 호출할 수 있도록 허용합니다.

이러한 종류의 권한을 가진 리소스 유형이 수십 개 있으며, [https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference)에서 setIamPolicy를 검색하여 모두 찾을 수 있습니다.

### \*.create, \*.update

이 권한은 **새로운 리소스를 생성하거나 기존 리소스를 업데이트**하여 권한을 상승시키는 데 매우 유용할 수 있습니다. 이러한 권한은 서비스 계정에 대해 **iam.serviceAccounts.actAs** 권한이 있는 경우 특히 유용하며, .create/.update 권한이 있는 리소스는 서비스 계정을 연결할 수 있습니다.

### \*ServiceAccount\*

이 권한은 일반적으로 **일부 리소스에서 서비스 계정에 접근하거나 수정할 수 있게 해줍니다** (예: compute.instances.setServiceAccount). 이 **권한 상승** 벡터로 이어질 수 있지만, 각 경우에 따라 다릅니다.

{% hint style="success" %}
AWS 해킹 배우기 및 연습하기:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCP 해킹 배우기 및 연습하기: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks 지원하기</summary>

* [**구독 계획**](https://github.com/sponsors/carlospolop) 확인하기!
* **💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 참여하거나 **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**를 팔로우하세요.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) 및 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) 깃허브 리포지토리에 PR을 제출하여 해킹 팁을 공유하세요.**

</details>
{% endhint %}
