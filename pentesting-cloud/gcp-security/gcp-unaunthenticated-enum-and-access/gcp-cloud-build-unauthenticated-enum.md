# GCP - Cloud Build Unauthenticated Enum

{% hint style="success" %}
å­¦ä¹ å’Œå®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
å­¦ä¹ å’Œå®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ä»“åº“æäº¤ PR æ¥åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}

## Cloud Build

æœ‰å…³ Cloud Build çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ï¼š

{% content-ref url="../gcp-services/gcp-cloud-build-enum.md" %}
[gcp-cloud-build-enum.md](../gcp-services/gcp-cloud-build-enum.md)
{% endcontent-ref %}

### cloudbuild.yml

å¦‚æœæ‚¨è·å¾—äº†å¯¹åŒ…å«åä¸º **`cloudbuild.yml`** çš„æ–‡ä»¶çš„å­˜å‚¨åº“çš„å†™å…¥è®¿é—®æƒé™ï¼Œæ‚¨å¯ä»¥ **åé—¨** æ­¤æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æŒ‡å®šå°†åœ¨ Cloud Build ä¸­æ‰§è¡Œçš„ **å‘½ä»¤**ï¼Œå¹¶æå–æœºå¯†ï¼Œå¦¨ç¢æ‰€åšçš„å·¥ä½œï¼Œè¿˜å¯èƒ½å¦¨ç¢ **Cloud Build æœåŠ¡å¸æˆ·**ã€‚

{% hint style="info" %}
è¯·æ³¨æ„ï¼ŒGCP å…è®¸ç®¡ç†å‘˜é€šè¿‡â€œè¯„è®ºæ§åˆ¶â€æ¥æ§åˆ¶æ¥è‡ªå¤–éƒ¨ PR çš„æ„å»ºç³»ç»Ÿæ‰§è¡Œã€‚è¯„è®ºæ§åˆ¶æ˜¯ä¸€é¡¹åŠŸèƒ½ï¼Œåä½œè€…/é¡¹ç›®æ‰€æœ‰è€… **éœ€è¦è¯„è®ºâ€œ/gcbrunâ€ä»¥è§¦å‘æ„å»º**ï¼Œå¹¶ä½¿ç”¨æ­¤åŠŸèƒ½æœ¬è´¨ä¸Šé˜²æ­¢ä»»ä½•äº’è”ç½‘ç”¨æˆ·è§¦å‘æ‚¨çš„æ„å»ºç³»ç»Ÿã€‚
{% endhint %}

æœ‰å…³ä¸€äº›ç›¸å…³ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹å…³äºå¦‚ä½•æ”»å‡» Github Actions çš„é¡µé¢ï¼ˆä¸æ­¤ç±»ä¼¼ï¼‰ï¼š

{% content-ref url="../../../pentesting-ci-cd/github-security/abusing-github-actions/" %}
[abusing-github-actions](../../../pentesting-ci-cd/github-security/abusing-github-actions/)
{% endcontent-ref %}

### PR å®¡æ‰¹

å½“è§¦å‘å™¨æ˜¯ PR æ—¶ï¼Œå› ä¸º **ä»»ä½•äººéƒ½å¯ä»¥å¯¹å…¬å…±å­˜å‚¨åº“è¿›è¡Œ PR**ï¼Œæ‰€ä»¥ä»…ä»… **å…è®¸ä»»ä½• PR æ‰§è¡Œè§¦å‘å™¨** æ˜¯éå¸¸å±é™©çš„ã€‚å› æ­¤ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰§è¡Œå°†ä»…å¯¹ **æ‰€æœ‰è€…å’Œåä½œè€…** è‡ªåŠ¨è¿›è¡Œï¼Œè‹¥è¦ä½¿ç”¨å…¶ä»–ç”¨æˆ·çš„ PR æ‰§è¡Œè§¦å‘å™¨ï¼Œæ‰€æœ‰è€…æˆ–åä½œè€…å¿…é¡»è¯„è®º `/gcbrun`ã€‚

<figure><img src="../../../.gitbook/assets/image (339).png" alt="" width="563"><figcaption></figcaption></figure>

{% hint style="danger" %}
å› æ­¤ï¼Œå¦‚æœæ­¤è®¾ç½®ä¸º **`ä¸éœ€è¦`**ï¼Œæ”»å‡»è€…å¯ä»¥å¯¹å°†è§¦å‘æ‰§è¡Œçš„åˆ†æ”¯è¿›è¡Œ **PR**ï¼Œå°†æ¶æ„ä»£ç æ‰§è¡Œæ·»åŠ åˆ° **`cloudbuild.yml`** æ–‡ä»¶ä¸­ï¼Œä»è€Œå¦¨ç¢ cloudbuild æ‰§è¡Œï¼ˆè¯·æ³¨æ„ï¼Œcloudbuild å°†ä» PR ä¸‹è½½ä»£ç ï¼Œå› æ­¤å®ƒå°†æ‰§è¡Œæ¶æ„çš„ **`cloudbuild.yml`**ï¼‰ã€‚
{% endhint %}

æ­¤å¤–ï¼Œå½“æ‚¨å‘é€ PR æ—¶ï¼Œå¾ˆå®¹æ˜“çœ‹åˆ°æ˜¯å¦éœ€è¦æ‰§è¡ŒæŸäº› cloudbuildï¼Œå› ä¸ºå®ƒä¼šå‡ºç°åœ¨ Github ä¸­ï¼š

<figure><img src="../../../.gitbook/assets/image (340).png" alt=""><figcaption></figcaption></figure>

{% hint style="warning" %}
å› æ­¤ï¼Œå³ä½¿ cloudbuild æœªæ‰§è¡Œï¼Œæ”»å‡»è€…ä»å°†èƒ½å¤Ÿçœ‹åˆ°å±äºå…¬å¸çš„ **GCP é¡¹ç›®åç§°**ã€‚
{% endhint %}

{% hint style="success" %}
å­¦ä¹ å’Œå®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
å­¦ä¹ å’Œå®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ä»“åº“æäº¤ PR æ¥åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}
