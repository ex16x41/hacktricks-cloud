# GCP - Cloud Build Unauthenticated Enum

{% hint style="success" %}
Jifunze na fanya mazoezi ya AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Jifunze na fanya mazoezi ya GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa usajili**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuatilie** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za hacking kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Cloud Build

Kwa maelezo zaidi kuhusu Cloud Build angalia:

{% content-ref url="../gcp-services/gcp-cloud-build-enum.md" %}
[gcp-cloud-build-enum.md](../gcp-services/gcp-cloud-build-enum.md)
{% endcontent-ref %}

### cloudbuild.yml

Ikiwa unapata ufikiaji wa kuandika juu ya hazina inayoshikilia faili inayoitwa **`cloudbuild.yml`**, unaweza **kufanya backdoor** faili hii, ambayo inabainisha **amri ambazo zitatekelezwa** ndani ya Cloud Build na kuhamasisha siri, kuathiri kile kinachofanywa na pia kuathiri **akaunti ya huduma ya Cloud Build.**

{% hint style="info" %}
Kumbuka kwamba GCP ina chaguo la kuruhusu wasimamizi kudhibiti utekelezaji wa mifumo ya ujenzi kutoka PR za nje kupitia "Comment Control". Comment Control ni kipengele ambapo washiriki/wamiliki wa mradi **wanahitaji kutoa maoni ‚Äú/gcbrun‚Äù ili kuanzisha ujenzi** dhidi ya PR na kutumia kipengele hiki kwa asili kunazuia mtu yeyote kwenye mtandao kuanzisha mifumo yako ya ujenzi.
{% endhint %}

Kwa maelezo mengine yanayohusiana unaweza kuangalia ukurasa kuhusu jinsi ya kushambulia Github Actions (sawa na hii):

{% content-ref url="../../../pentesting-ci-cd/github-security/abusing-github-actions/" %}
[abusing-github-actions](../../../pentesting-ci-cd/github-security/abusing-github-actions/)
{% endcontent-ref %}

### PR Approvals

Wakati kichocheo ni PR kwa sababu **mtu yeyote anaweza kufanya PRs kwa hazina za umma** itakuwa hatari sana tu **kuruhusu utekelezaji wa kichocheo na PR yoyote**. Kwa hivyo, kwa kawaida, utekelezaji utakuwa **automatik kwa wamiliki na washiriki**, na ili kutekeleza kichocheo na PR za watumiaji wengine mmiliki au mshiriki lazima aweke maoni `/gcbrun`.

<figure><img src="../../../.gitbook/assets/image (339).png" alt="" width="563"><figcaption></figcaption></figure>

{% hint style="danger" %}
Kwa hivyo, ikiwa hii imewekwa kuwa **`Not required`**, mshambuliaji anaweza kufanya **PR kwa tawi** ambalo litaanzisha utekelezaji kwa kuongeza utekelezaji wa msimbo mbaya kwenye faili **`cloudbuild.yml`** na kuathiri utekelezaji wa cloudbuild (kumbuka kwamba cloudbuild itashusha msimbo KUTOKA PR, hivyo itatekeleza **`cloudbuild.yml`** mbaya).
{% endhint %}

Zaidi ya hayo, ni rahisi kuona ikiwa utekelezaji wa cloudbuild unahitaji kufanywa unapowasilisha PR kwa sababu inaonekana kwenye Github:

<figure><img src="../../../.gitbook/assets/image (340).png" alt=""><figcaption></figcaption></figure>

{% hint style="warning" %}
Basi, hata kama cloudbuild haitatekelezwa mshambuliaji ataweza kuona **jina la mradi wa GCP** ambao ni wa kampuni.
{% endhint %}

{% hint style="success" %}
Jifunze na fanya mazoezi ya AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Jifunze na fanya mazoezi ya GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa usajili**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuatilie** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za hacking kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
