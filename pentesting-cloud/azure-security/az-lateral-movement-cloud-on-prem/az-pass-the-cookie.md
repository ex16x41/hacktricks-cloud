# Az - Ã‡erez GeÃ§iÅŸi

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve uygulayÄ±n: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve uygulayÄ±n: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katÄ±lÄ±n veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ± paylaÅŸarak PR'ler gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>
{% endhint %}

## Neden Ã‡erezler?

TarayÄ±cÄ± **Ã§erezleri**, kimlik doÄŸrulamayÄ± ve Ã§oklu faktÃ¶r kimlik doÄŸrulamayÄ± (**MFA**) **atlamak** iÃ§in harika bir mekanizmadÄ±r. KullanÄ±cÄ± uygulamada zaten kimlik doÄŸruladÄ±ÄŸÄ± iÃ§in oturum **Ã§erezi**, tekrar kimlik doÄŸrulamaya gerek olmadan sadece o kullanÄ±cÄ± olarak **veriye eriÅŸmek** iÃ§in kullanÄ±labilir.

**TarayÄ±cÄ± Ã§erezlerinin nerede bulunduÄŸunu** gÃ¶rebilirsiniz:

{% embed url="https://book.hacktricks.xyz/generic-methodologies-and-resources/basic-forensic-methodology/specific-software-file-type-tricks/browser-artifacts?q=browse#google-chrome" %}

## SaldÄ±rÄ±

ZorlayÄ±cÄ± kÄ±sÄ±m, bu **Ã§erezlerin**, Microsoft Veri Koruma API'si (**DPAPI**) aracÄ±lÄ±ÄŸÄ±yla **kullanÄ±cÄ±** iÃ§in **ÅŸifrelenmiÅŸ** olmasÄ±dÄ±r. Bu, Ã§erezlerin ait olduÄŸu kullanÄ±cÄ±ya baÄŸlÄ± kriptografik [anahtarlarla ÅŸifrelenmiÅŸtir](https://book.hacktricks.xyz/windows-hardening/windows-local-privilege-escalation/dpapi-extracting-passwords). Bu konu hakkÄ±nda daha fazla bilgiyi aÅŸaÄŸÄ±daki linkte bulabilirsiniz:

{% embed url="https://book.hacktricks.xyz/windows-hardening/windows-local-privilege-escalation/dpapi-extracting-passwords" %}

Mimikatz ile elde ettiÄŸimde, bu komutla **bir kullanÄ±cÄ±nÄ±n Ã§erezlerini Ã§Ä±karabiliyorum** bile ÅŸifrelenmiÅŸ olsalar da:
```bash
mimikatz.exe privilege::debug log "dpapi::chrome /in:%localappdata%\google\chrome\USERDA~1\default\cookies /unprotect" exit
```
Azure iÃ§in, kullanÄ±cÄ±nÄ±n son zamanlarda Azure Ã¼zerinde aktif olduÄŸu iÃ§in **`ESTSAUTH`**, **`ESTSAUTHPERSISTENT`** ve **`ESTSAUTHLIGHT`** gibi kimlik doÄŸrulama Ã§erezlerine dikkat ediyoruz.

Sadece login.microsoftonline.com adresine gidin ve **`ESTSAUTHPERSISTENT`** (Stay Signed In seÃ§eneÄŸi tarafÄ±ndan oluÅŸturulan) veya **`ESTSAUTH`** Ã§erezini ekleyin. Ve kimlik doÄŸrulamasÄ± yapÄ±lacaksÄ±nÄ±z.

## Referanslar

* [https://stealthbits.com/blog/bypassing-mfa-with-pass-the-cookie/](https://stealthbits.com/blog/bypassing-mfa-with-pass-the-cookie/)
