# Az - Enumeration Tools

{% hint style="success" %}
学习与实践 AWS 黑客技术：<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks 培训 AWS 红队专家 (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
学习与实践 GCP 黑客技术：<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks 培训 GCP 红队专家 (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>支持 HackTricks</summary>

* 查看 [**订阅计划**](https://github.com/sponsors/carlospolop)!
* **加入** 💬 [**Discord 群组**](https://discord.gg/hRep4RUj7f) 或 [**Telegram 群组**](https://t.me/peass) 或 **关注** 我们的 **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **通过向** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub 仓库提交 PR 分享黑客技巧。

</details>
{% endhint %}

## 在 Linux 中安装 PowerShell

{% hint style="success" %}
在 Linux 中，您需要安装 PowerShell Core：
```bash
sudo apt-get update
sudo apt-get install -y wget apt-transport-https software-properties-common

# Ubuntu 20.04
wget -q https://packages.microsoft.com/config/ubuntu/20.04/packages-microsoft-prod.deb

# Update repos
sudo apt-get update
sudo add-apt-repository universe

# Install & start powershell
sudo apt-get install -y powershell
pwsh

# Az cli
curl -sL https://aka.ms/InstallAzureCLIDeb | sudo bash
```
{% endhint %}

## 在 MacOS 上安装 PowerShell

来自 [**文档**](https://learn.microsoft.com/en-us/powershell/scripting/install/installing-powershell-on-macos?view=powershell-7.4) 的说明：

1. 如果尚未安装，请安装 `brew`：
```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```
2. 安装最新的稳定版 PowerShell：
```sh
brew install powershell/tap/powershell
```
3. 运行 PowerShell:
```sh
pwsh
```
4. 更新：
```sh
brew update
brew upgrade powershell
```
## 主要枚举工具

### az cli

[**Azure 命令行界面 (CLI)**](https://learn.microsoft.com/en-us/cli/azure/install-azure-cli) 是一个用 Python 编写的跨平台工具，用于管理和管理 (大多数) Azure 和 Entra ID 资源。它连接到 Azure 并通过命令行或脚本执行管理命令。

请访问此链接获取 [**安装信息**](https://learn.microsoft.com/en-us/cli/azure/install-azure-cli#install)。

Azure CLI 中的命令结构模式为： `az <service> <action> <parameters>`

### Az PowerShell

Azure PowerShell 是一个模块，包含用于直接从 PowerShell 命令行管理 Azure 资源的 cmdlet。

请访问此链接获取 [**安装信息**](https://learn.microsoft.com/en-us/powershell/azure/install-azure-powershell)。

Azure PowerShell AZ 模块中的命令结构为： `<Action>-Az<Service> <parameters>`

### **PowerShell 模块** [**AzureAD**](https://www.powershellgallery.com/packages/AzureAD/)

###

#### **模块差异**

* **AzureAD** 是 Microsoft 的一个 PowerShell 模块，用于 **管理 Azure AD。它不会显示 Azure AD 对象的所有属性，且无法用于访问 Azure 资源信息**。
* **Az PowerShell** 是一个模块，用于 **从 PowerShell 命令行管理 Azure 资源**。
