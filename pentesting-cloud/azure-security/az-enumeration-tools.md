# Az - Enumeration Tools

{% hint style="success" %}
AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
GCPãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹</summary>

* [**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼
* **ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**Telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚**
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€[**HackTricks**](https://github.com/carlospolop/hacktricks)ãŠã‚ˆã³[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚**

</details>
{% endhint %}

## Linuxã«PowerShellã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

{% hint style="success" %}
Linuxã§ã¯PowerShell Coreã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š
```bash
sudo apt-get update
sudo apt-get install -y wget apt-transport-https software-properties-common

# Ubuntu 20.04
wget -q https://packages.microsoft.com/config/ubuntu/20.04/packages-microsoft-prod.deb

# Update repos
sudo apt-get update
sudo add-apt-repository universe

# Install & start powershell
sudo apt-get install -y powershell
pwsh

# Az cli
curl -sL https://aka.ms/InstallAzureCLIDeb | sudo bash
```
{% endhint %}

## MacOSã«PowerShellã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹

[**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**](https://learn.microsoft.com/en-us/powershell/scripting/install/installing-powershell-on-macos?view=powershell-7.4)ã‹ã‚‰ã®æŒ‡ç¤ºï¼š

1. ã¾ã ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯`brew`ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ï¼š
```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```
2. æœ€æ–°ã®å®‰å®šç‰ˆPowerShellã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™:
```sh
brew install powershell/tap/powershell
```
3. PowerShellã‚’å®Ÿè¡Œã™ã‚‹:
```sh
pwsh
```
4. æ›´æ–°:
```sh
brew update
brew upgrade powershell
```
## ä¸»ãªåˆ—æŒ™ãƒ„ãƒ¼ãƒ«

### az cli

[**Azure ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ (CLI)**](https://learn.microsoft.com/en-us/cli/azure/install-azure-cli) ã¯ã€Azure ãŠã‚ˆã³ Entra ID ãƒªã‚½ãƒ¼ã‚¹ã®ç®¡ç†ã¨é‹ç”¨ã®ãŸã‚ã« Python ã§æ›¸ã‹ã‚ŒãŸã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚Azure ã«æ¥ç¶šã—ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã¾ãŸã¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä»‹ã—ã¦ç®¡ç†ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

[**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æƒ…å ±**](https://learn.microsoft.com/en-us/cli/azure/install-azure-cli#install)ã«ã¤ã„ã¦ã¯ã€ã“ã¡ã‚‰ã®ãƒªãƒ³ã‚¯ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

Azure CLI ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€æ¬¡ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™: `az <service> <action> <parameters>`

### Az PowerShell

Azure PowerShell ã¯ã€PowerShell ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ç›´æ¥ Azure ãƒªã‚½ãƒ¼ã‚¹ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã® cmdlet ã‚’å«ã‚€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã™ã€‚

[**ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æƒ…å ±**](https://learn.microsoft.com/en-us/powershell/azure/install-azure-powershell)ã«ã¤ã„ã¦ã¯ã€ã“ã¡ã‚‰ã®ãƒªãƒ³ã‚¯ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

Azure PowerShell AZ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€æ¬¡ã®ã‚ˆã†ã«æ§‹æˆã•ã‚Œã¦ã„ã¾ã™: `<Action>-Az<Service> <parameters>`

### **PowerShell ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«** [**AzureAD**](https://www.powershellgallery.com/packages/AzureAD/)

###

#### **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é•ã„**

* **AzureAD** ã¯ã€**Azure AD ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã® Microsoft ã® PowerShell ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã™ã€‚Azure AD ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã™ã¹ã¦ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¡¨ç¤ºã›ãšã€Azure ãƒªã‚½ãƒ¼ã‚¹æƒ…å ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã«ã¯ä½¿ç”¨ã§ãã¾ã›ã‚“**ã€‚
* **Az PowerShell** ã¯ã€**PowerShell ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ Azure ãƒªã‚½ãƒ¼ã‚¹ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã™**ã€‚
