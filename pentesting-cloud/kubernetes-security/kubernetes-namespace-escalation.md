# Kubernetes Namespace Escalation

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

Kubernetes'te bir ÅŸekilde **bir namespace'e girmeyi baÅŸarmanÄ±z** oldukÃ§a yaygÄ±ndÄ±r (bazÄ± kullanÄ±cÄ± kimlik bilgilerini Ã§alarak veya bir pod'u tehlikeye atarak). Ancak, genellikle **daha ilginÃ§ ÅŸeylerin bulunabileceÄŸi farklÄ± bir namespace'e yÃ¼kseltme yapmayÄ±** isteyeceksiniz.

FarklÄ± bir namespace'e kaÃ§mak iÃ§in deneyebileceÄŸiniz bazÄ± teknikler ÅŸunlardÄ±r:

### K8s ayrÄ±calÄ±klarÄ±nÄ± kÃ¶tÃ¼ye kullanma

AÃ§Ä±kÃ§a, Ã§aldÄ±ÄŸÄ±nÄ±z hesabÄ±n yÃ¼kseltmek istediÄŸiniz namespace Ã¼zerinde hassas ayrÄ±calÄ±klara sahip olmasÄ± durumunda, **namespace iÃ§indeki hizmet hesaplarÄ±yla pod'lar oluÅŸturma**, **mevcut bir pod iÃ§inde bir shell Ã§alÄ±ÅŸtÄ±rma** veya **secret** SA token'larÄ±nÄ± okuma gibi eylemleri kÃ¶tÃ¼ye kullanabilirsiniz.

Hangi ayrÄ±calÄ±klarÄ± kÃ¶tÃ¼ye kullanabileceÄŸiniz hakkÄ±nda daha fazla bilgi iÃ§in okuyun:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### Node'a kaÃ§Ä±ÅŸ

EÄŸer bir pod'u tehlikeye atmÄ±ÅŸsanÄ±z ve kaÃ§abiliyorsanÄ±z veya ayrÄ±calÄ±klÄ± bir pod oluÅŸturabiliyorsanÄ±z node'a kaÃ§Ä±ÅŸ yapabilirsiniz. DiÄŸer SA token'larÄ±nÄ± Ã§almak iÃ§in birkaÃ§ ÅŸey yapabilirsiniz:

* Node'da Ã§alÄ±ÅŸan diÄŸer docker konteynerlerinde **SAs token'larÄ±nÄ± kontrol edin**
* Node'a verilen ekstra izinlerle yeni **kubeconfig dosyalarÄ±nÄ± kontrol edin**
* EÄŸer etkinse (veya kendiniz etkinleÅŸtirin) **diÄŸer namespace'lerin yansÄ±tÄ±lmÄ±ÅŸ pod'larÄ±nÄ± oluÅŸturmayÄ±** deneyin, Ã§Ã¼nkÃ¼ bu namespace'lerin varsayÄ±lan token hesaplarÄ±na eriÅŸim elde edebilirsiniz (bunu henÃ¼z test etmedim)

TÃ¼m bu teknikler ÅŸunlarda aÃ§Ä±klanmÄ±ÅŸtÄ±r:

{% content-ref url="attacking-kubernetes-from-inside-a-pod.md" %}
[attacking-kubernetes-from-inside-a-pod.md](attacking-kubernetes-from-inside-a-pod.md)
{% endcontent-ref %}

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
