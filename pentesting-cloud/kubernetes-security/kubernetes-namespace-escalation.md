# Kubernetes Namespace Escalation

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

Katika Kubernetes ni kawaida kwamba kwa namna fulani **unafanikiwa kuingia kwenye namespace** (kwa kuiba baadhi ya akauti za mtumiaji au kwa kuathiri pod). Hata hivyo, kawaida utakuwa na hamu ya **kuinua hadhi hadi namespace tofauti kwani vitu vya kuvutia zaidi vinaweza kupatikana huko**.

Hapa kuna baadhi ya mbinu unazoweza kujaribu kutoroka hadi namespace tofauti:

### Abuse K8s privileges

Kwa wazi ikiwa akaunti uliyoiiba ina mamlaka nyeti juu ya namespace unayoweza kuhamia, unaweza kutumia vitendo kama **kuunda pods** na akaunti za huduma katika NS, **kutekeleza** shell katika pod iliyopo ndani ya ns, au kusoma **siri** SA tokens.

Kwa maelezo zaidi kuhusu mamlaka unazoweza kutumia soma:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### Escape to the node

Ikiwa unaweza kutoroka hadi node ama kwa sababu umeathiri pod na unaweza kutoroka au kwa sababu unaweza kuunda pod yenye mamlaka na kutoroka unaweza kufanya mambo kadhaa ili kuiba tokens za SAs wengine:

* Angalia **tokens za SAs zilizowekwa kwenye kontena zingine za docker** zinazokimbia kwenye node
* Angalia **faili mpya za kubeconfig kwenye node zikiwa na ruhusa za ziada** zilizotolewa kwa node
* Ikiwa imewezeshwa (au iwezeshe mwenyewe) jaribu **kuunda pods zilizopigwa picha za namespaces nyingine** kwani unaweza kupata ufikiaji wa akaunti za token za namespace hizo (sijajaribu hii bado)

Mbinu hizi zote zinaelezewa katika:

{% content-ref url="attacking-kubernetes-from-inside-a-pod.md" %}
[attacking-kubernetes-from-inside-a-pod.md](attacking-kubernetes-from-inside-a-pod.md)
{% endcontent-ref %}

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
