# Kubernetes Namespace Escalation

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

Kubernetes рдореЗрдВ рдпрд╣ рдХрд╛рдлреА рд╕рд╛рдорд╛рдиреНрдп рд╣реИ рдХрд┐ рдХрд┐рд╕реА рддрд░рд╣ **рдЖрдк рдПрдХ namespace рдХреЗ рдЕрдВрджрд░ рдкрд╣реБрдБрдЪ рдЬрд╛рддреЗ рд╣реИрдВ** (рдХреБрдЫ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓ рдЪреБрд░рд╛рдиреЗ рдпрд╛ рдПрдХ pod рдХреЛ рд╕рдордЭреМрддрд╛ рдХрд░рдХреЗ)ред рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЖрдорддреМрд░ рдкрд░ рдЖрдк **рдПрдХ рдЕрд▓рдЧ namespace рдореЗрдВ рдмрдврд╝рдиреЗ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рд╡рд╣рд╛рдБ рдЕрдзрд┐рдХ рджрд┐рд▓рдЪрд╕реНрдк рдЪреАрдЬреЗрдВ рдорд┐рд▓ рд╕рдХрддреА рд╣реИрдВ**ред

рдпрд╣рд╛рдБ рдХреБрдЫ рддрдХрдиреАрдХреЗрдВ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рдПрдХ рдЕрд▓рдЧ namespace рдореЗрдВ рднрд╛рдЧрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЬрдорд╛ рд╕рдХрддреЗ рд╣реИрдВ:

### K8s рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ

рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдпрджрд┐ рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдЪреБрд░рд╛рдпрд╛ рдЧрдпрд╛ рдЦрд╛рддрд╛ рдЙрд╕ namespace рдкрд░ рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рд░рдЦрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдЖрдк рдмрдврд╝рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк **NS рдореЗрдВ рд╕реЗрд╡рд╛ рдЦрд╛рддреЛрдВ рдХреЗ рд╕рд╛рде pods рдмрдирд╛рдиреЗ**, **ns рдХреЗ рдЕрдВрджрд░ рдкрд╣рд▓реЗ рд╕реЗ рдореМрдЬреВрдж pod рдореЗрдВ рдПрдХ рд╢реЗрд▓ рдЪрд▓рд╛рдиреЗ**, рдпрд╛ **рдЧреБрдкреНрдд** SA рдЯреЛрдХрди рдкрдврд╝рдиреЗ рдЬреИрд╕реА рдХреНрд░рд┐рдпрд╛рдУрдВ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдЖрдк рдЬрд┐рди рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░реЛрдВ рдХрд╛ рджреБрд░реБрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЙрдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдкрдврд╝реЗрдВ:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### рдиреЛрдб рдкрд░ рднрд╛рдЧреЗрдВ

рдпрджрд┐ рдЖрдк рдиреЛрдб рдкрд░ рднрд╛рдЧ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рддреЛ рдХреНрдпреЛрдВрдХрд┐ рдЖрдкрдиреЗ рдПрдХ pod рдХреЛ рд╕рдордЭреМрддрд╛ рдХрд┐рдпрд╛ рд╣реИ рдФрд░ рдЖрдк рднрд╛рдЧ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ рдХреНрдпреЛрдВрдХрд┐ рдЖрдк рдПрдХ рд╡рд┐рд╢реЗрд╖рд╛рдзрд┐рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд pod рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рднрд╛рдЧ рд╕рдХрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЕрдиреНрдп SA рдЯреЛрдХрди рдЪреБрд░рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рдЪреАрдЬреЗрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

* рдиреЛрдб рдореЗрдВ рдЪрд▓ рд░рд╣реЗ рдЕрдиреНрдп рдбреЙрдХрд░ рдХрдВрдЯреЗрдирд░реЛрдВ рдореЗрдВ **SAs рдЯреЛрдХрди** рдХреЗ рд▓рд┐рдП рдЬрд╛рдБрдЪ рдХрд░реЗрдВ
* рдиреЛрдб рдореЗрдВ **рдЕрддрд┐рд░рд┐рдХреНрдд рдЕрдиреБрдорддрд┐рдпреЛрдВ** рдХреЗ рд╕рд╛рде рдирдП **kubeconfig рдлрд╝рд╛рдЗрд▓реЛрдВ** рдХреЗ рд▓рд┐рдП рдЬрд╛рдБрдЪ рдХрд░реЗрдВ
* рдпрджрд┐ рд╕рдХреНрд╖рдо рд╣реИ (рдпрд╛ рдЗрд╕реЗ рд╕реНрд╡рдпрдВ рд╕рдХреНрд╖рдо рдХрд░реЗрдВ) рддреЛ **рдЕрдиреНрдп namespaces рдХреЗ рдорд┐рд░рд░ рдХрд┐рдП рдЧрдП pods рдмрдирд╛рдиреЗ** рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ рдХреНрдпреЛрдВрдХрд┐ рдЖрдк рдЙрди namespaces рдХреЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдЯреЛрдХрди рдЦрд╛рддреЛрдВ рддрдХ рдкрд╣реБрдБрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдореИрдВрдиреЗ рдЕрднреА рддрдХ рдЗрд╕рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИ)

рдЗрди рд╕рднреА рддрдХрдиреАрдХреЛрдВ рдХреЛ рд╕рдордЭрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ:

{% content-ref url="attacking-kubernetes-from-inside-a-pod.md" %}
[attacking-kubernetes-from-inside-a-pod.md](attacking-kubernetes-from-inside-a-pod.md)
{% endcontent-ref %}

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
