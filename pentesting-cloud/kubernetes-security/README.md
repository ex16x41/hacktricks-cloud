# Kubernetes Pentesting

{% hint style="success" %}
AWS 해킹 배우기 및 연습하기:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP 해킹 배우기 및 연습하기: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks 지원하기</summary>

* [**구독 계획**](https://github.com/sponsors/carlospolop) 확인하기!
* **💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 참여하거나 **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**를 팔로우하세요.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) 및 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) 깃허브 리포지토리에 PR을 제출하여 해킹 팁을 공유하세요.**

</details>
{% endhint %}

## Kubernetes 기본 사항

Kubernetes에 대해 아무것도 모른다면 이것이 **좋은 시작**입니다. Kubernetes의 **아키텍처, 구성 요소 및 기본 작업**에 대해 배우기 위해 읽어보세요:

{% content-ref url="kubernetes-basics.md" %}
[kubernetes-basics.md](kubernetes-basics.md)
{% endcontent-ref %}

### 연습 및 학습을 위한 실습실

* [https://securekubernetes.com/](https://securekubernetes.com)
* [https://madhuakula.com/kubernetes-goat/index.html](https://madhuakula.com/kubernetes-goat/index.html)

## Kubernetes 강화 / 자동 도구

{% content-ref url="kubernetes-hardening/" %}
[kubernetes-hardening](kubernetes-hardening/)
{% endcontent-ref %}

## 수동 Kubernetes 펜테스트

### 외부에서

인터넷(또는 내부 네트워크)에서 **노출된 Kubernetes 서비스**를 여러 개 찾을 수 있습니다. 이를 발견하면 그 안에 Kubernetes 환경이 있다는 것을 알 수 있습니다.

구성 및 권한에 따라 해당 환경을 악용할 수 있습니다. 자세한 내용은 다음을 참조하세요:

{% content-ref url="pentesting-kubernetes-services/" %}
[pentesting-kubernetes-services](pentesting-kubernetes-services/)
{% endcontent-ref %}

### Pod 내부에서의 열거

**Pod를 손상시키는 데 성공했다면** 다음 페이지를 읽어 열거하고 **권한 상승/탈출**을 시도하는 방법을 배우세요:

{% content-ref url="attacking-kubernetes-from-inside-a-pod.md" %}
[attacking-kubernetes-from-inside-a-pod.md](attacking-kubernetes-from-inside-a-pod.md)
{% endcontent-ref %}

### 자격 증명을 통한 Kubernetes 열거

**사용자 자격 증명, 사용자 토큰 또는 일부 서비스 계정 토큰**을 손상시키는 데 성공했을 수 있습니다. 이를 사용하여 Kubernetes API 서비스와 통신하고 **열거하여 더 많은 정보를 알아낼 수 있습니다**:

{% content-ref url="kubernetes-enumeration.md" %}
[kubernetes-enumeration.md](kubernetes-enumeration.md)
{% endcontent-ref %}

열거 및 Kubernetes 권한 악용에 대한 또 다른 중요한 세부 사항은 **Kubernetes 역할 기반 액세스 제어(RBAC)**입니다. 권한을 악용하려면 먼저 여기를 읽어야 합니다:

{% content-ref url="kubernetes-role-based-access-control-rbac.md" %}
[kubernetes-role-based-access-control-rbac.md](kubernetes-role-based-access-control-rbac.md)
{% endcontent-ref %}

#### RBAC에 대해 알고 환경을 열거한 후 이제 권한을 악용해 볼 수 있습니다:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### 다른 네임스페이스로의 권한 상승

네임스페이스를 손상시킨 경우 더 흥미로운 권한/리소스가 있는 다른 네임스페이스로 탈출할 수 있습니다:

{% content-ref url="kubernetes-namespace-escalation.md" %}
[kubernetes-namespace-escalation.md](kubernetes-namespace-escalation.md)
{% endcontent-ref %}

### Kubernetes에서 클라우드로

K8s 계정이나 Pod를 손상시킨 경우 다른 클라우드로 이동할 수 있습니다. 이는 AWS나 GCP와 같은 클라우드에서 **K8s SA에 클라우드에 대한 권한을 부여할 수 있기 때문입니다**.

{% content-ref url="kubernetes-pivoting-to-clouds.md" %}
[kubernetes-pivoting-to-clouds.md](kubernetes-pivoting-to-clouds.md)
{% endcontent-ref %}

{% hint style="success" %}
AWS 해킹 배우기 및 연습하기:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP 해킹 배우기 및 연습하기: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks 지원하기</summary>

* [**구독 계획**](https://github.com/sponsors/carlospolop) 확인하기!
* **💬 [**Discord 그룹**](https://discord.gg/hRep4RUj7f) 또는 [**텔레그램 그룹**](https://t.me/peass)에 참여하거나 **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**를 팔로우하세요.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) 및 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) 깃허브 리포지토리에 PR을 제출하여 해킹 팁을 공유하세요.**

</details>
{% endhint %}
