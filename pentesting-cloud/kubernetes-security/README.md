# Kubernetes Pentesting

{% hint style="success" %}
Jifunze na fanya mazoezi ya AWS Hacking:<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Jifunze na fanya mazoezi ya GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa usajili**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuatilie** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu za hacking kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Misingi ya Kubernetes

Ikiwa hujui chochote kuhusu Kubernetes hii ni **kuanzia nzuri**. Isome ili kujifunza kuhusu **muundo, vipengele na hatua za msingi** katika Kubernetes:

{% content-ref url="kubernetes-basics.md" %}
[kubernetes-basics.md](kubernetes-basics.md)
{% endcontent-ref %}

### Maabara za kufanya mazoezi na kujifunza

* [https://securekubernetes.com/](https://securekubernetes.com)
* [https://madhuakula.com/kubernetes-goat/index.html](https://madhuakula.com/kubernetes-goat/index.html)

## Kuimarisha Kubernetes / Zana za Kiotomatiki

{% content-ref url="kubernetes-hardening/" %}
[kubernetes-hardening](kubernetes-hardening/)
{% endcontent-ref %}

## Pentest ya Kiganja ya Kubernetes

### Kutoka Nje

Kuna huduma kadhaa za **Kubernetes ambazo unaweza kupata zikiwa wazi** kwenye Mtandao (au ndani ya mitandao ya ndani). Ikiwa unazipata unajua kuna mazingira ya Kubernetes humo.

Kulingana na usanidi na haki zako unaweza kuwa na uwezo wa kutumia mazingira hayo, kwa maelezo zaidi:

{% content-ref url="pentesting-kubernetes-services/" %}
[pentesting-kubernetes-services](pentesting-kubernetes-services/)
{% endcontent-ref %}

### Kuorodhesha ndani ya Pod

Ikiwa umeweza **kudhoofisha Pod** soma ukurasa ufuatao ili kujifunza jinsi ya kuorodhesha na kujaribu **kuinua haki/kuondoka**:

{% content-ref url="attacking-kubernetes-from-inside-a-pod.md" %}
[attacking-kubernetes-from-inside-a-pod.md](attacking-kubernetes-from-inside-a-pod.md)
{% endcontent-ref %}

### Kuorodhesha Kubernetes kwa Mamlaka

Huenda umepata uwezo wa kudhoofisha **mamlaka ya mtumiaji, token ya mtumiaji au token ya akaunti ya huduma**. Unaweza kuitumia kuzungumza na huduma ya API ya Kubernetes na kujaribu **kuorodhesha ili kujifunza zaidi** kuhusu hiyo:

{% content-ref url="kubernetes-enumeration.md" %}
[kubernetes-enumeration.md](kubernetes-enumeration.md)
{% endcontent-ref %}

Maelezo mengine muhimu kuhusu kuorodhesha na matumizi mabaya ya ruhusa za Kubernetes ni **Kubernetes Role-Based Access Control (RBAC)**. Ikiwa unataka kutumia vibaya ruhusa, kwanza unapaswa kusoma kuhusu hiyo hapa:

{% content-ref url="kubernetes-role-based-access-control-rbac.md" %}
[kubernetes-role-based-access-control-rbac.md](kubernetes-role-based-access-control-rbac.md)
{% endcontent-ref %}

#### Kujua kuhusu RBAC na kuwa umeshakamilisha kuorodhesha mazingira unaweza sasa kujaribu kutumia vibaya ruhusa na:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### Privesc kwa Namespace tofauti

Ikiwa umekamilisha namespace unaweza kwa uwezekano kuondoka kwenye namespaces nyingine zenye ruhusa/rasilimali za kuvutia zaidi:

{% content-ref url="kubernetes-namespace-escalation.md" %}
[kubernetes-namespace-escalation.md](kubernetes-namespace-escalation.md)
{% endcontent-ref %}

### Kutoka Kubernetes hadi Cloud

Ikiwa umekamilisha akaunti ya K8s au pod, huenda ukawa na uwezo wa kuhamia kwenye mawingu mengine. Hii ni kwa sababu katika mawingu kama AWS au GCP inawezekana **kutoa ruhusa za K8s SA juu ya wingu**.

{% content-ref url="kubernetes-pivoting-to-clouds.md" %}
[kubernetes-pivoting-to-clouds.md](kubernetes-pivoting-to-clouds.md)
{% endcontent-ref %}

{% hint style="success" %}
Jifunze na fanya mazoezi ya AWS Hacking:<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Jifunze na fanya mazoezi ya GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa usajili**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuatilie** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu za hacking kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
