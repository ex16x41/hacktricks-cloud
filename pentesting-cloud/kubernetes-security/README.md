# Kubernetes Pentesting

{% hint style="success" %}
AWS í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… ê³„íš**](https://github.com/sponsors/carlospolop) í™•ì¸í•˜ê¸°!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ì°¸ì—¬í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ê¹ƒí—ˆë¸Œ ë¦¬í¬ì§€í† ë¦¬ì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŒì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
{% endhint %}

## Kubernetes ê¸°ë³¸ ì‚¬í•­

Kubernetesì— ëŒ€í•´ ì•„ë¬´ê²ƒë„ ëª¨ë¥¸ë‹¤ë©´ ì´ê²ƒì´ **ì¢‹ì€ ì‹œì‘**ì…ë‹ˆë‹¤. Kubernetesì˜ **ì•„í‚¤í…ì²˜, êµ¬ì„± ìš”ì†Œ ë° ê¸°ë³¸ ì‘ì—…**ì— ëŒ€í•´ ë°°ìš°ê¸° ìœ„í•´ ì½ì–´ë³´ì„¸ìš”:

{% content-ref url="kubernetes-basics.md" %}
[kubernetes-basics.md](kubernetes-basics.md)
{% endcontent-ref %}

### ì—°ìŠµ ë° í•™ìŠµì„ ìœ„í•œ ì‹¤ìŠµì‹¤

* [https://securekubernetes.com/](https://securekubernetes.com)
* [https://madhuakula.com/kubernetes-goat/index.html](https://madhuakula.com/kubernetes-goat/index.html)

## Kubernetes ê°•í™” / ìë™ ë„êµ¬

{% content-ref url="kubernetes-hardening/" %}
[kubernetes-hardening](kubernetes-hardening/)
{% endcontent-ref %}

## ìˆ˜ë™ Kubernetes íœí…ŒìŠ¤íŠ¸

### ì™¸ë¶€ì—ì„œ

ì¸í„°ë„·(ë˜ëŠ” ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬)ì—ì„œ **ë…¸ì¶œëœ Kubernetes ì„œë¹„ìŠ¤**ë¥¼ ì—¬ëŸ¬ ê°œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ë°œê²¬í•˜ë©´ ê·¸ ì•ˆì— Kubernetes í™˜ê²½ì´ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

êµ¬ì„± ë° ê¶Œí•œì— ë”°ë¼ í•´ë‹¹ í™˜ê²½ì„ ì•…ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ë‹¤ìŒì„ ì°¸ì¡°í•˜ì„¸ìš”:

{% content-ref url="pentesting-kubernetes-services/" %}
[pentesting-kubernetes-services](pentesting-kubernetes-services/)
{% endcontent-ref %}

### Pod ë‚´ë¶€ì—ì„œì˜ ì—´ê±°

**Podë¥¼ ì†ìƒì‹œí‚¤ëŠ” ë° ì„±ê³µí–ˆë‹¤ë©´** ë‹¤ìŒ í˜ì´ì§€ë¥¼ ì½ì–´ ì—´ê±°í•˜ê³  **ê¶Œí•œ ìƒìŠ¹/íƒˆì¶œ**ì„ ì‹œë„í•˜ëŠ” ë°©ë²•ì„ ë°°ìš°ì„¸ìš”:

{% content-ref url="attacking-kubernetes-from-inside-a-pod.md" %}
[attacking-kubernetes-from-inside-a-pod.md](attacking-kubernetes-from-inside-a-pod.md)
{% endcontent-ref %}

### ìê²© ì¦ëª…ì„ í†µí•œ Kubernetes ì—´ê±°

**ì‚¬ìš©ì ìê²© ì¦ëª…, ì‚¬ìš©ì í† í° ë˜ëŠ” ì¼ë¶€ ì„œë¹„ìŠ¤ ê³„ì • í† í°**ì„ ì†ìƒì‹œí‚¤ëŠ” ë° ì„±ê³µí–ˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ Kubernetes API ì„œë¹„ìŠ¤ì™€ í†µì‹ í•˜ê³  **ì—´ê±°í•˜ì—¬ ë” ë§ì€ ì •ë³´ë¥¼ ì•Œì•„ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤**:

{% content-ref url="kubernetes-enumeration.md" %}
[kubernetes-enumeration.md](kubernetes-enumeration.md)
{% endcontent-ref %}

ì—´ê±° ë° Kubernetes ê¶Œí•œ ì•…ìš©ì— ëŒ€í•œ ë˜ ë‹¤ë¥¸ ì¤‘ìš”í•œ ì„¸ë¶€ ì‚¬í•­ì€ **Kubernetes ì—­í•  ê¸°ë°˜ ì•¡ì„¸ìŠ¤ ì œì–´(RBAC)**ì…ë‹ˆë‹¤. ê¶Œí•œì„ ì•…ìš©í•˜ë ¤ë©´ ë¨¼ì € ì—¬ê¸°ë¥¼ ì½ì–´ì•¼ í•©ë‹ˆë‹¤:

{% content-ref url="kubernetes-role-based-access-control-rbac.md" %}
[kubernetes-role-based-access-control-rbac.md](kubernetes-role-based-access-control-rbac.md)
{% endcontent-ref %}

#### RBACì— ëŒ€í•´ ì•Œê³  í™˜ê²½ì„ ì—´ê±°í•œ í›„ ì´ì œ ê¶Œí•œì„ ì•…ìš©í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

{% content-ref url="abusing-roles-clusterroles-in-kubernetes/" %}
[abusing-roles-clusterroles-in-kubernetes](abusing-roles-clusterroles-in-kubernetes/)
{% endcontent-ref %}

### ë‹¤ë¥¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¡œì˜ ê¶Œí•œ ìƒìŠ¹

ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì†ìƒì‹œí‚¨ ê²½ìš° ë” í¥ë¯¸ë¡œìš´ ê¶Œí•œ/ë¦¬ì†ŒìŠ¤ê°€ ìˆëŠ” ë‹¤ë¥¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¡œ íƒˆì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

{% content-ref url="kubernetes-namespace-escalation.md" %}
[kubernetes-namespace-escalation.md](kubernetes-namespace-escalation.md)
{% endcontent-ref %}

### Kubernetesì—ì„œ í´ë¼ìš°ë“œë¡œ

K8s ê³„ì •ì´ë‚˜ Podë¥¼ ì†ìƒì‹œí‚¨ ê²½ìš° ë‹¤ë¥¸ í´ë¼ìš°ë“œë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” AWSë‚˜ GCPì™€ ê°™ì€ í´ë¼ìš°ë“œì—ì„œ **K8s SAì— í´ë¼ìš°ë“œì— ëŒ€í•œ ê¶Œí•œì„ ë¶€ì—¬í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤**.

{% content-ref url="kubernetes-pivoting-to-clouds.md" %}
[kubernetes-pivoting-to-clouds.md](kubernetes-pivoting-to-clouds.md)
{% endcontent-ref %}

{% hint style="success" %}
AWS í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… ê³„íš**](https://github.com/sponsors/carlospolop) í™•ì¸í•˜ê¸°!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ì°¸ì—¬í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ê¹ƒí—ˆë¸Œ ë¦¬í¬ì§€í† ë¦¬ì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŒì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
{% endhint %}
