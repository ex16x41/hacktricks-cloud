# Kubernetes Hardening

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Tools to analyse a cluster

### [**Kubescape**](https://github.com/armosec/kubescape)

[**Kubescape**](https://github.com/armosec/kubescape)ëŠ” ìœ„í—˜ ë¶„ì„, ë³´ì•ˆ ì¤€ìˆ˜, RBAC ì‹œê°í™” ë° ì´ë¯¸ì§€ ì·¨ì•½ì  ìŠ¤ìº”ì„ í¬í•¨í•œ ë‹¤ì¤‘ í´ë¼ìš°ë“œ K8s ë‹¨ì¼ ì°½ì„ ì œê³µí•˜ëŠ” K8s ì˜¤í”ˆ ì†ŒìŠ¤ ë„êµ¬ì…ë‹ˆë‹¤. KubescapeëŠ” K8s í´ëŸ¬ìŠ¤í„°, YAML íŒŒì¼ ë° HELM ì°¨íŠ¸ë¥¼ ìŠ¤ìº”í•˜ì—¬ ì—¬ëŸ¬ í”„ë ˆì„ì›Œí¬(ì˜ˆ: [NSA-CISA](https://www.armosec.io/blog/kubernetes-hardening-guidance-summary-by-armo), [MITRE ATT\&CKÂ®](https://www.microsoft.com/security/blog/2021/03/23/secure-containerized-environments-with-updated-threat-matrix-for-kubernetes/))ì— ë”°ë¼ ì˜ëª»ëœ êµ¬ì„±, ì†Œí”„íŠ¸ì›¨ì–´ ì·¨ì•½ì  ë° RBAC(ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´) ìœ„ë°˜ì„ ì¡°ê¸°ì— ê°ì§€í•˜ê³ , ìœ„í—˜ ì ìˆ˜ë¥¼ ì¦‰ì‹œ ê³„ì‚°í•˜ë©°, ì‹œê°„ì— ë”°ë¥¸ ìœ„í—˜ ì¶”ì„¸ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.
```bash
kubescape scan --verbose
```
### [**Kube-bench**](https://github.com/aquasecurity/kube-bench)

ë„êµ¬ [**kube-bench**](https://github.com/aquasecurity/kube-bench)ëŠ” [**CIS Kubernetes Benchmark**](https://www.cisecurity.org/benchmark/kubernetes/)ì— ë¬¸ì„œí™”ëœ ê²€ì‚¬ë¥¼ ì‹¤í–‰í•˜ì—¬ Kubernetesê°€ ì•ˆì „í•˜ê²Œ ë°°í¬ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.\
ë‹¤ìŒ ì¤‘ì—ì„œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

* ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ kube-bench ì‹¤í–‰ (í˜¸ìŠ¤íŠ¸ì™€ PID ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê³µìœ )
* í˜¸ìŠ¤íŠ¸ì— kube-benchë¥¼ ì„¤ì¹˜í•˜ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•œ í›„, í˜¸ìŠ¤íŠ¸ì—ì„œ ì§ì ‘ kube-bench ì‹¤í–‰
* [Releases page](https://github.com/aquasecurity/kube-bench/releases)ì—ì„œ ìµœì‹  ë°”ì´ë„ˆë¦¬ ì„¤ì¹˜,
* ì†ŒìŠ¤ì—ì„œ ì»´íŒŒì¼.

### [**Kubeaudit**](https://github.com/Shopify/kubeaudit)

ë„êµ¬ [**kubeaudit**](https://github.com/Shopify/kubeaudit)ëŠ” ë‹¤ì–‘í•œ ë³´ì•ˆ ë¬¸ì œì— ëŒ€í•´ **Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ê°ì‚¬**í•˜ëŠ” ëª…ë ¹ì¤„ ë„êµ¬ì´ì Go íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤.

KubeauditëŠ” í´ëŸ¬ìŠ¤í„° ë‚´ì˜ ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ ì¤‘ì¸ì§€ ê°ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ í•´ë‹¹ í´ëŸ¬ìŠ¤í„°ì˜ ëª¨ë“  Kubernetes ë¦¬ì†ŒìŠ¤ë¥¼ ê°ì‚¬í•˜ë ¤ê³  ì‹œë„í•©ë‹ˆë‹¤:
```
kubeaudit all
```
ì´ ë„êµ¬ëŠ” ë˜í•œ `autofix` ì¸ìˆ˜ë¥¼ ê°€ì§€ê³  ìˆì–´ **ê°ì§€ëœ ë¬¸ì œë¥¼ ìë™ìœ¼ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.**

### [**Kube-hunter**](https://github.com/aquasecurity/kube-hunter)

ë„êµ¬ [**kube-hunter**](https://github.com/aquasecurity/kube-hunter)ëŠ” Kubernetes í´ëŸ¬ìŠ¤í„°ì˜ ë³´ì•ˆ ì·¨ì•½ì ì„ íƒì§€í•©ë‹ˆë‹¤. ì´ ë„êµ¬ëŠ” Kubernetes í™˜ê²½ì˜ ë³´ì•ˆ ë¬¸ì œì— ëŒ€í•œ ì¸ì‹ê³¼ ê°€ì‹œì„±ì„ ë†’ì´ê¸° ìœ„í•´ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤.
```bash
kube-hunter --remote some.node.com
```
### [**Kubei**](https://github.com/Erezf-p/kubei)

[**Kubei**](https://github.com/Erezf-p/kubei)ëŠ” ì‚¬ìš©ìê°€ Kubernetes í´ëŸ¬ìŠ¤í„°ì˜ ì •í™•í•˜ê³  ì¦‰ê°ì ì¸ ìœ„í—˜ í‰ê°€ë¥¼ ë°›ì„ ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ì·¨ì•½ì  ìŠ¤ìºë‹ ë° CIS Docker ë²¤ì¹˜ë§ˆí¬ ë„êµ¬ì…ë‹ˆë‹¤. KubeiëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ í¬ë“œì™€ ì‹œìŠ¤í…œ í¬ë“œì˜ ì´ë¯¸ì§€ë¥¼ í¬í•¨í•˜ì—¬ Kubernetes í´ëŸ¬ìŠ¤í„°ì—ì„œ ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ì´ë¯¸ì§€ë¥¼ ìŠ¤ìº”í•©ë‹ˆë‹¤.

### [**KubiScan**](https://github.com/cyberark/KubiScan)

[**KubiScan**](https://github.com/cyberark/KubiScan)ì€ Kubernetesì˜ ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´(RBAC) ì¸ì¦ ëª¨ë¸ì—ì„œ ìœ„í—˜í•œ ê¶Œí•œì„ ìŠ¤ìº”í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

### [Managed Kubernetes Auditing Toolkit](https://github.com/DataDog/managed-kubernetes-auditing-toolkit)

[**Mkat**](https://github.com/DataDog/managed-kubernetes-auditing-toolkit)ëŠ” ë‹¤ë¥¸ ë„êµ¬ì™€ ë¹„êµí•˜ì—¬ ê³ ìœ„í—˜ ì²´í¬ì˜ ë‹¤ë¥¸ ìœ í˜•ì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ êµ¬ì¶•ëœ ë„êµ¬ì…ë‹ˆë‹¤. ì£¼ë¡œ 3ê°€ì§€ ëª¨ë“œë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤:

* **`find-role-relationships`**: ì–´ë–¤ AWS ì—­í• ì´ ì–´ë–¤ í¬ë“œì—ì„œ ì‹¤í–‰ë˜ê³  ìˆëŠ”ì§€ ì°¾ìŠµë‹ˆë‹¤.
* **`find-secrets`**: Pods, ConfigMaps ë° Secretsì™€ ê°™ì€ K8s ë¦¬ì†ŒìŠ¤ì—ì„œ ë¹„ë°€ì„ ì‹ë³„í•˜ë ¤ê³  ì‹œë„í•©ë‹ˆë‹¤.
* **`test-imds-access`**: í¬ë“œë¥¼ ì‹¤í–‰í•˜ê³  ë©”íƒ€ë°ì´í„° v1 ë° v2ì— ì ‘ê·¼í•˜ë ¤ê³  ì‹œë„í•©ë‹ˆë‹¤. ê²½ê³ : í´ëŸ¬ìŠ¤í„°ì—ì„œ í¬ë“œë¥¼ ì‹¤í–‰í•˜ë¯€ë¡œ, ì´ ì‘ì—…ì„ ì›í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìœ¼ë‹ˆ ë§¤ìš° ì£¼ì˜í•˜ì„¸ìš”!

## **Audit IaC Code**

### [**Popeye**](https://github.com/derailed/popeye)

[**Popeye**](https://github.com/derailed/popeye)ëŠ” ë¼ì´ë¸Œ Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ìŠ¤ìº”í•˜ê³  **ë°°í¬ëœ ë¦¬ì†ŒìŠ¤ ë° êµ¬ì„±ì˜ ì ì¬ì  ë¬¸ì œë¥¼ ë³´ê³ í•˜ëŠ”** ìœ í‹¸ë¦¬í‹°ì…ë‹ˆë‹¤. ë””ìŠ¤í¬ì— ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë°°í¬ëœ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤. í´ëŸ¬ìŠ¤í„°ë¥¼ ìŠ¤ìº”í•¨ìœ¼ë¡œì¨ ì˜ëª»ëœ êµ¬ì„±ì„ ê°ì§€í•˜ê³  ëª¨ë²” ì‚¬ë¡€ê°€ ì ìš©ë˜ë„ë¡ ë„ì™€ì£¼ì–´ í–¥í›„ ë¬¸ì œë¥¼ ì˜ˆë°©í•©ë‹ˆë‹¤. Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ìš´ì˜í•  ë•Œ ì§ë©´í•˜ëŠ” ì¸ì§€ ê³¼ë¶€í•˜ë¥¼ ì¤„ì´ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. ë˜í•œ í´ëŸ¬ìŠ¤í„°ê°€ ë©”íŠ¸ë¦­ ì„œë²„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ì ì¬ì ì¸ ë¦¬ì†ŒìŠ¤ ê³¼ë‹¤/ê³¼ì†Œ í• ë‹¹ì„ ë³´ê³ í•˜ê³  í´ëŸ¬ìŠ¤í„°ì˜ ìš©ëŸ‰ì´ ë¶€ì¡±í•  ê²½ìš° ê²½ê³ í•˜ë ¤ê³  ì‹œë„í•©ë‹ˆë‹¤.

### [**KICS**](https://github.com/Checkmarx/kics)

[**KICS**](https://github.com/Checkmarx/kics)ëŠ” ë‹¤ìŒ **ì½”ë“œë¡œì„œì˜ ì¸í”„ë¼(Infrastructure as Code) ì†”ë£¨ì…˜**ì—ì„œ **ë³´ì•ˆ ì·¨ì•½ì **, ì¤€ìˆ˜ ë¬¸ì œ ë° ì¸í”„ë¼ ì˜ëª»ëœ êµ¬ì„±ì„ ì°¾ìŠµë‹ˆë‹¤: Terraform, Kubernetes, Docker, AWS CloudFormation, Ansible, Helm, Microsoft ARM ë° OpenAPI 3.0 ì‚¬ì–‘

### [**Checkov**](https://github.com/bridgecrewio/checkov)

[**Checkov**](https://github.com/bridgecrewio/checkov)ëŠ” ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ ì½”ë“œì— ëŒ€í•œ ì •ì  ì½”ë“œ ë¶„ì„ ë„êµ¬ì…ë‹ˆë‹¤.

[Terraform](https://terraform.io), Terraform ê³„íš, [Cloudformation](https://aws.amazon.com/cloudformation/), [AWS SAM](https://aws.amazon.com/serverless/sam/), [Kubernetes](https://kubernetes.io), [Dockerfile](https://www.docker.com), [Serverless](https://www.serverless.com) ë˜ëŠ” [ARM í…œí”Œë¦¿](https://docs.microsoft.com/en-us/azure/azure-resource-manager/templates/overview)ì„ ì‚¬ìš©í•˜ì—¬ í”„ë¡œë¹„ì €ë‹ëœ í´ë¼ìš°ë“œ ì¸í”„ë¼ë¥¼ ìŠ¤ìº”í•˜ê³  ê·¸ë˜í”„ ê¸°ë°˜ ìŠ¤ìºë‹ì„ ì‚¬ìš©í•˜ì—¬ ë³´ì•ˆ ë° ì¤€ìˆ˜ ì˜ëª»ëœ êµ¬ì„±ì„ ê°ì§€í•©ë‹ˆë‹¤.

### [**Kube-score**](https://github.com/zegl/kube-score)

[**kube-score**](https://github.com/zegl/kube-score)ëŠ” Kubernetes ê°ì²´ ì •ì˜ì˜ ì •ì  ì½”ë“œ ë¶„ì„ì„ ìˆ˜í–‰í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

ì„¤ì¹˜ ë°©ë²•:

| ë°°í¬íŒ                                            | ëª…ë ¹ì–´ / ë§í¬                                                                          |
| --------------------------------------------------- | --------------------------------------------------------------------------------------- |
| macOS, Linux ë° Windowsìš© ë¯¸ë¦¬ ë¹Œë“œëœ ë°”ì´ë„ˆë¦¬    | [GitHub ë¦´ë¦¬ìŠ¤](https://github.com/zegl/kube-score/releases)                          |
| Docker                                              | `docker pull zegl/kube-score` ([Docker Hub](https://hub.docker.com/r/zegl/kube-score/)) |
| Homebrew (macOS ë° Linux)                          | `brew install kube-score`                                                               |
| [Krew](https://krew.sigs.k8s.io/) (macOS ë° Linux) | `kubectl krew install score`                                                            |

## Tips

### Kubernetes PodSecurityContext ë° SecurityContext

**Podsì˜ ë³´ì•ˆ ì»¨í…ìŠ¤íŠ¸**(PodSecurityContext)ì™€ ì‹¤í–‰ë  **ì»¨í…Œì´ë„ˆ**ì˜ ë³´ì•ˆ ì»¨í…ìŠ¤íŠ¸(SecurityContext)ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ ë‹¤ìŒì„ ì°¸ì¡°í•˜ì„¸ìš”:

{% content-ref url="kubernetes-securitycontext-s.md" %}
[kubernetes-securitycontext-s.md](kubernetes-securitycontext-s.md)
{% endcontent-ref %}

### Kubernetes API Hardening

**Kubernetes Api Serverì— ëŒ€í•œ ì ‘ê·¼ì„ ë³´í˜¸í•˜ëŠ” ê²ƒì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.** ì¶©ë¶„í•œ ê¶Œí•œì„ ê°€ì§„ ì•…ì˜ì ì¸ í–‰ìœ„ìê°€ ì´ë¥¼ ë‚¨ìš©í•˜ê³  í™˜ê²½ì— ë§ì€ í”¼í•´ë¥¼ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\
**ì ‘ê·¼**(API ì„œë²„ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì¶œì²˜ë¥¼ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸í•˜ê³  ë‹¤ë¥¸ ëª¨ë“  ì—°ê²°ì„ ê±°ë¶€)ê³¼ [**ì¸ì¦**](https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet-authentication-authorization/)ì„ ëª¨ë‘ ì•ˆì „í•˜ê²Œ í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤(ìµœì†Œ ê¶Œí•œ ì›ì¹™ì„ ë”°ë¦„). ê·¸ë¦¬ê³  ì ˆëŒ€ **ìµëª… ìš”ì²­ì„ í—ˆìš©í•˜ì§€ ë§ˆì„¸ìš”**.

**ì¼ë°˜ ìš”ì²­ í”„ë¡œì„¸ìŠ¤:**\
ì‚¬ìš©ì ë˜ëŠ” K8s ServiceAccount â€“> ì¸ì¦ â€“> ê¶Œí•œ ë¶€ì—¬ â€“> ìŠ¹ì¸ ì œì–´.

**íŒ**:

* í¬íŠ¸ë¥¼ ë‹«ìŠµë‹ˆë‹¤.
* ìµëª… ì ‘ê·¼ì„ í”¼í•©ë‹ˆë‹¤.
* NodeRestriction; íŠ¹ì • ë…¸ë“œì—ì„œ APIì— ëŒ€í•œ ì ‘ê·¼ì„ ì°¨ë‹¨í•©ë‹ˆë‹¤.
* [https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers/#noderestriction](https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers/#noderestriction)
* ê¸°ë³¸ì ìœ¼ë¡œ kubeletì´ node-restriction.kubernetes.io/ ì ‘ë‘ì‚¬ê°€ ìˆëŠ” ë ˆì´ë¸”ì„ ì¶”ê°€/ì œê±°/ì—…ë°ì´íŠ¸í•˜ëŠ” ê²ƒì„ ë°©ì§€í•©ë‹ˆë‹¤. ì´ ë ˆì´ë¸” ì ‘ë‘ì‚¬ëŠ” ê´€ë¦¬ìê°€ ì‘ì—… ë¶€í•˜ ê²©ë¦¬ë¥¼ ìœ„í•´ Node ê°ì²´ì— ë ˆì´ë¸”ì„ ì§€ì •í•˜ëŠ” ë° ì˜ˆì•½ë˜ì–´ ìˆìœ¼ë©°, kubeletì€ í•´ë‹¹ ì ‘ë‘ì‚¬ê°€ ìˆëŠ” ë ˆì´ë¸”ì„ ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
* ë˜í•œ kubeletì´ ì´ëŸ¬í•œ ë ˆì´ë¸” ë° ë ˆì´ë¸” ì ‘ë‘ì‚¬ë¥¼ ì¶”ê°€/ì œê±°/ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•©ë‹ˆë‹¤.
* ë ˆì´ë¸”ì„ ì‚¬ìš©í•˜ì—¬ ì•ˆì „í•œ ì‘ì—… ë¶€í•˜ ê²©ë¦¬ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.
* íŠ¹ì • í¬ë“œì˜ API ì ‘ê·¼ì„ í”¼í•©ë‹ˆë‹¤.
* ApiServerê°€ ì¸í„°ë„·ì— ë…¸ì¶œë˜ëŠ” ê²ƒì„ í”¼í•©ë‹ˆë‹¤.
* ë¬´ë‹¨ ì ‘ê·¼ RBACë¥¼ í”¼í•©ë‹ˆë‹¤.
* ë°©í™”ë²½ ë° IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ë¡œ ApiServer í¬íŠ¸ë¥¼ ë³´í˜¸í•©ë‹ˆë‹¤.

### SecurityContext Hardening

ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ì§€ì •ë˜ì§€ ì•Šìœ¼ë©´ Podê°€ ì‹œì‘ë  ë•Œ ë£¨íŠ¸ ì‚¬ìš©ìê°€ ì‚¬ìš©ë©ë‹ˆë‹¤. ë‹¤ìŒê³¼ ìœ ì‚¬í•œ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ì—¬ ë” ì•ˆì „í•œ ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```yaml
apiVersion: v1
kind: Pod
metadata:
name: security-context-demo
spec:
securityContext:
runAsUser: 1000
runAsGroup: 3000
fsGroup: 2000
volumes:
- name: sec-ctx-vol
emptyDir: {}
containers:
- name: sec-ctx-demo
image: busybox
command: [ "sh", "-c", "sleep 1h" ]
securityContext:
runAsNonRoot: true
volumeMounts:
- name: sec-ctx-vol
mountPath: /data/demo
securityContext:
allowPrivilegeEscalation: true
```
* [https://kubernetes.io/docs/tasks/configure-pod-container/security-context/](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/)
* [https://kubernetes.io/docs/concepts/policy/pod-security-policy/](https://kubernetes.io/docs/concepts/policy/pod-security-policy/)

### ì¼ë°˜ í•˜ë“œë‹

Kubernetes í™˜ê²½ì„ í•„ìš”ì— ë”°ë¼ ìì£¼ ì—…ë°ì´íŠ¸í•˜ì—¬ ë‹¤ìŒì„ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤:

* ì¢…ì†ì„± ìµœì‹  ìƒíƒœ.
* ë²„ê·¸ ë° ë³´ì•ˆ íŒ¨ì¹˜.

[**ë¦´ë¦¬ìŠ¤ ì£¼ê¸°**](https://kubernetes.io/docs/setup/release/version-skew-policy/): ë§¤ 3ê°œì›”ë§ˆë‹¤ ìƒˆë¡œìš´ ë§ˆì´ë„ˆ ë¦´ë¦¬ìŠ¤ê°€ ìˆìŠµë‹ˆë‹¤ -- 1.20.3 = 1(ì£¼ìš”).20(ë§ˆì´ë„ˆ).3(íŒ¨ì¹˜)

**Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ (ë‹¤ìŒì—ì„œ** [**ì—¬ê¸°**](https://kubernetes.io/docs/tasks/administer-cluster/cluster-upgrade/)**):**

* ë‹¤ìŒ ìˆœì„œì— ë”°ë¼ ë§ˆìŠ¤í„° ë…¸ë“œ êµ¬ì„± ìš”ì†Œë¥¼ ì—…ê·¸ë ˆì´ë“œí•©ë‹ˆë‹¤:
* etcd (ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤).
* kube-apiserver (ëª¨ë“  ì œì–´ í”Œë ˆì¸ í˜¸ìŠ¤íŠ¸).
* kube-controller-manager.
* kube-scheduler.
* í´ë¼ìš°ë“œ ì»¨íŠ¸ë¡¤ëŸ¬ ë§¤ë‹ˆì €, ì‚¬ìš©í•˜ëŠ” ê²½ìš°.
* kube-proxy, kubeletê³¼ ê°™ì€ ì›Œì»¤ ë…¸ë“œ êµ¬ì„± ìš”ì†Œë¥¼ ì—…ê·¸ë ˆì´ë“œí•©ë‹ˆë‹¤.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
