# IBM - 基本情報

{% hint style="success" %}
AWSハッキングを学び、実践する：<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCPハッキングを学び、実践する：<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksをサポートする</summary>

* [**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)を確認してください！
* **💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**Telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**をフォローしてください。**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks)および[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出してハッキングトリックを共有してください。**

</details>
{% endhint %}

## 階層

IBM Cloudリソースモデル（[ドキュメントから](https://www.ibm.com/blog/announcement/introducing-ibm-cloud-enterprises/)）：

<figure><img src="../../.gitbook/assets/image (225).png" alt=""><figcaption></figcaption></figure>

プロジェクトを分割する推奨方法：

<figure><img src="../../.gitbook/assets/image (239).png" alt=""><figcaption></figcaption></figure>

## IAM

<figure><img src="../../.gitbook/assets/image (266).png" alt=""><figcaption></figcaption></figure>

### ユーザー

ユーザーには**メール**が割り当てられています。彼らは**IBMコンソール**にアクセスでき、また**APIキーを生成**して権限をプログラム的に使用できます。\
**権限**は、アクセスポリシーを使用してユーザーに**直接**付与するか、**アクセスグループ**を介して付与できます。

### 信頼されたプロファイル

これは**AWSのロール**やGCPのサービスアカウントのようなものです。これらは**VM**インスタンスに**割り当てる**ことができ、**メタデータ**を介してその**資格情報にアクセス**したり、外部プラットフォームからユーザーを認証するために**アイデンティティプロバイダー**が使用できるようにすることも可能です。\
**権限**は、アクセスポリシーを使用して信頼されたプロファイルに**直接**付与するか、**アクセスグループ**を介して付与できます。

### サービスID

これは、アプリケーションが**IBM Cloud**と**対話**し、アクションを実行するための別のオプションです。この場合、VMやアイデンティティプロバイダーに割り当てる代わりに、**APIキーを使用**してIBMと**プログラム的**に対話できます。\
**権限**は、アクセスポリシーを使用してサービスIDに**直接**付与するか、**アクセスグループ**を介して付与できます。

### アイデンティティプロバイダー

外部の**アイデンティティプロバイダー**は、**信頼されたプロファイル**にアクセスすることによって、外部プラットフォームからIBM Cloudリソースに**アクセス**できるように構成できます。

### アクセスグループ

同じアクセスグループには**複数のユーザー、信頼されたプロファイル、サービスID**が存在できます。アクセスグループ内の各プリンシパルは、**アクセスグループの権限を継承**します。\
**権限**は、アクセスポリシーを使用して信頼されたプロファイルに**直接**付与できます。\
**アクセスグループは他のアクセスグループのメンバーになることはできません**。

### ロール

ロールは**細かい権限のセット**です。**ロール**は**サービス**に専念しており、そのサービスの権限のみを含みます。\
**IAMの各サービス**には、プリンシパルにそのサービスへのアクセスを付与するために選択できる**可能なロール**がすでにいくつかあります：**Viewer、Operator、Editor、Administrator**（ただし、他にもあるかもしれません）。

ロールの権限は、プリンシパルに対してアクセスポリシーを介して付与されるため、たとえば**Viewer**と**Administrator**のサービスの**権限の組み合わせ**を付与する必要がある場合、これらの2つを付与する代わりに（プリンシパルに過剰権限を与えることなく）、そのサービスのために**新しいロールを作成**し、その新しいロールに**必要な細かい権限を付与**できます。

### アクセスポリシー

アクセスポリシーは、**1つのサービスの1つ以上のロールを1つのプリンシパルに**付与することを可能にします。\
ポリシーを作成する際には、次のことを選択する必要があります：

* 権限が付与される**サービス**
* **影響を受けるリソース**
* 付与されるサービスおよびプラットフォームの**アクセス**
* これらは、プリンシパルがアクションを実行するために与えられる**権限**を示します。サービス内で**カスタムロール**が作成されている場合、ここでそれを選択することもできます。
* 権限を付与するための**条件**（ある場合）

{% hint style="info" %}
ユーザーに複数のサービスへのアクセスを付与するには、複数のアクセスポリシーを生成できます
{% endhint %}

<figure><img src="../../.gitbook/assets/image (248).png" alt=""><figcaption></figcaption></figure>

## 参考文献

* [https://www.ibm.com/cloud/blog/announcements/introducing-ibm-cloud-enterprises](https://www.ibm.com/cloud/blog/announcements/introducing-ibm-cloud-enterprises)
* [https://cloud.ibm.com/docs/account?topic=account-iamoverview](https://cloud.ibm.com/docs/account?topic=account-iamoverview)

{% hint style="success" %}
AWSハッキングを学び、実践する：<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCPハッキングを学び、実践する：<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksをサポートする</summary>

* [**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)を確認してください！
* **💬 [**Discordグループ**](https://discord.gg/hRep4RUj7f)または[**Telegramグループ**](https://t.me/peass)に参加するか、**Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**をフォローしてください。**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks)および[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)のGitHubリポジトリにPRを提出してハッキングトリックを共有してください。**

</details>
{% endhint %}
