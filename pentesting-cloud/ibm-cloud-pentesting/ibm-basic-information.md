# IBM - 基本情報

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## 階層

IBM Cloudリソースモデル ([from the docs](https://www.ibm.com/blog/announcement/introducing-ibm-cloud-enterprises/)):

<figure><img src="../../.gitbook/assets/image (225).png" alt=""><figcaption></figcaption></figure>

プロジェクトを分割する推奨方法:

<figure><img src="../../.gitbook/assets/image (239).png" alt=""><figcaption></figcaption></figure>

## IAM

<figure><img src="../../.gitbook/assets/image (266).png" alt=""><figcaption></figcaption></figure>

### ユーザー

ユーザーには**メール**が割り当てられています。彼らは**IBMコンソール**にアクセスでき、また**APIキーを生成**して権限をプログラム的に使用できます。\
**権限**は、アクセスポリシーを使用してユーザーに**直接**付与することができます、または**アクセスグループ**を介して付与することもできます。

### 信頼されたプロファイル

これは**AWSのロール**やGCPのサービスアカウントのようなものです。これらは**VM**インスタンスに割り当てることができ、**メタデータ**を介してその**資格情報にアクセス**することができます。また、**アイデンティティプロバイダー**がそれらを使用して外部プラットフォームからユーザーを認証することを許可することもできます。\
**権限**は、アクセスポリシーを使用して信頼されたプロファイルに**直接**付与することができます、または**アクセスグループ**を介して付与することもできます。

### サービスID

これは、アプリケーションが**IBM Cloud**と対話し、アクションを実行することを許可する別のオプションです。この場合、VMやアイデンティティプロバイダーに割り当てる代わりに、**APIキーを使用**してIBMと**プログラム的**に対話することができます。\
**権限**は、アクセスポリシーを使用してサービスIDに**直接**付与することができます、または**アクセスグループ**を介して付与することもできます。

### アイデンティティプロバイダー

外部の**アイデンティティプロバイダー**は、**信頼されたプロファイル**にアクセスすることによって外部プラットフォームからIBM Cloudリソースにアクセスできるように構成できます。

### アクセスグループ

同じアクセスグループには**複数のユーザー、信頼されたプロファイル、サービスID**が存在することができます。アクセスグループ内の各プリンシパルは、**アクセスグループの権限を継承**します。\
**権限**は、アクセスポリシーを使用して信頼されたプロファイルに**直接**付与することができます。\
**アクセスグループは他のアクセスグループのメンバーになることはできません**。

### ロール

ロールは**細かい権限のセット**です。**ロール**は**サービス**に専念しており、そのサービスの権限のみを含むことを意味します。\
**IAMの各サービス**には、プリンシパルにそのサービスへのアクセスを付与するために選択できる**可能なロール**がすでにいくつかあります：**Viewer, Operator, Editor, Administrator**（ただし、他にもあるかもしれません）。

ロールの権限は、プリンシパルに対してアクセスポリシーを介して付与されるため、例えば**Viewer**と**Administrator**のサービスの**権限の組み合わせ**を付与する必要がある場合、これらの2つを付与する代わりに（プリンシパルに過剰権限を与えることなく）、そのサービスのために**新しいロールを作成**し、その新しいロールに**必要な細かい権限を付与**することができます。

### アクセスポリシー

アクセスポリシーは、**1つのサービスの1つ以上のロールを1つのプリンシパルに付与する**ことを可能にします。\
ポリシーを作成する際には、次のことを選択する必要があります：

* 権限が付与される**サービス**
* **影響を受けるリソース**
* 付与されるサービスとプラットフォームの**アクセス**
* これらは、プリンシパルがアクションを実行するために与えられる**権限**を示します。サービスで**カスタムロール**が作成されている場合、ここでそれを選択することもできます。
* 権限を付与するための**条件**（ある場合）

{% hint style="info" %}
ユーザーに複数のサービスへのアクセスを付与するには、複数のアクセスポリシーを生成できます
{% endhint %}

<figure><img src="../../.gitbook/assets/image (248).png" alt=""><figcaption></figcaption></figure>

## 参考文献

* [https://www.ibm.com/cloud/blog/announcements/introducing-ibm-cloud-enterprises](https://www.ibm.com/cloud/blog/announcements/introducing-ibm-cloud-enterprises)
* [https://cloud.ibm.com/docs/account?topic=account-iamoverview](https://cloud.ibm.com/docs/account?topic=account-iamoverview)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
