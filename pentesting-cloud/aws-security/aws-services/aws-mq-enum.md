# AWS - MQ Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Amazon MQ

### Mesaj Aracılarına Giriş

**Mesaj aracıları**, farklı yazılım sistemleri arasında iletişimi kolaylaştıran aracılardır; bu sistemler farklı platformlarda inşa edilmiş ve farklı dillerde programlanmış olabilir. **Amazon MQ**, AWS üzerinde mesaj aracılarını dağıtmayı, işletmeyi ve bakımını basitleştirir. **Apache ActiveMQ** ve **RabbitMQ** için yönetilen hizmetler sunarak, kesintisiz sağlama ve otomatik yazılım sürümü güncellemeleri sağlar.

### AWS - RabbitMQ

RabbitMQ, aynı zamanda _mesaj aracı_ veya _kuyruk yöneticisi_ olarak bilinen önde gelen bir **mesaj kuyruğu yazılımıdır**. Temelde, kuyrukların yapılandırıldığı bir sistemdir. Uygulamalar, bu kuyruklarla etkileşime geçerek **mesaj gönderir ve alır**. Bu bağlamda mesajlar, diğer uygulamalarda (potansiyel olarak farklı sunucularda) süreçleri başlatmak için komutlardan basit metin mesajlarına kadar çeşitli bilgileri taşıyabilir. Mesajlar, alıcı uygulama tarafından alınana ve işlenene kadar kuyruk yöneticisi yazılımı tarafından tutulur. AWS, RabbitMQ sunucularını barındırmak ve yönetmek için kullanımı kolay bir çözüm sunar.

### AWS - ActiveMQ

Apache ActiveMQ®, çok yönlülüğü ile bilinen önde gelen açık kaynaklı, Java tabanlı bir **mesaj aracıdır**. Birçok endüstri standardı protokolü destekler ve geniş bir dil ve platform yelpazesinde kapsamlı istemci uyumluluğu sunar. Kullanıcılar:

* JavaScript, C, C++, Python, .Net ve daha fazlasında yazılmış istemcilerle bağlantı kurabilir.
* Farklı platformlardan uygulamaları entegre etmek için **AMQP** protokolünü kullanabilir.
* Web uygulaması mesaj alışverişleri için websockets üzerinden **STOMP** kullanabilir.
* **MQTT** ile IoT cihazlarını yönetebilir.
* Mevcut **JMS** altyapısını koruyabilir ve yeteneklerini genişletebilir.

ActiveMQ'nun sağlamlığı ve esnekliği, onu çok çeşitli mesajlaşma gereksinimleri için uygun hale getirir.

## Enumeration
```bash
# List brokers
aws mq list-brokers

# Get broker info
aws mq describe-broker --broker-id <broker-id>
## Find endpoints in .BrokerInstances
## Find if public accessible in .PubliclyAccessible

# List usernames (only for ActiveMQ)
aws mq list-users --broker-id <broker-id>

# Get user info (PASSWORD NOT INCLUDED)
aws mq describe-user --broker-id <broker-id> --username <username>

# Lits configurations (only for ActiveMQ)
aws mq list-configurations
## Here you can find if simple or LDAP authentication is used

# Creacte Active MQ user
aws mq create-user --broker-id <value> --password <value> --username <value> --console-access
```
{% hint style="warning" %}
TODO: RabbitMQ ve ActiveMQ'yu dahili olarak nasıl listeleyeceğinizi ve tüm kuyruklarda nasıl dinleyeceğinizi ve veri göndereceğinizi belirtin (bunu nasıl yapacağınızı biliyorsanız PR gönderin)
{% endhint %}

## Privesc

{% content-ref url="../aws-privilege-escalation/aws-mq-privesc.md" %}
[aws-mq-privesc.md](../aws-privilege-escalation/aws-mq-privesc.md)
{% endcontent-ref %}

## Kimlik Doğrulaması Olmadan Erişim

{% content-ref url="../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md" %}
[aws-mq-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md)
{% endcontent-ref %}

## Süreklilik

RabbitMQ web konsoluna erişim için kimlik bilgilerini biliyorsanız, admin ayrıcalıklarıyla yeni bir kullanıcı oluşturabilirsiniz.

## Referanslar

* [https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html](https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
* [https://activemq.apache.org/](https://activemq.apache.org/)

{% hint style="success" %}
AWS Hacking'i öğrenin ve pratik yapın:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i öğrenin ve pratik yapın: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın ya da **Twitter'da** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'i takip edin.**
* **Hacking ipuçlarını paylaşmak için [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gönderin.**

</details>
{% endhint %}
