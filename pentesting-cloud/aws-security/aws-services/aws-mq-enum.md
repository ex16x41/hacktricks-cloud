# AWS - MQ Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Amazon MQ

### Mesaj AracÄ±larÄ±na GiriÅŸ

**Mesaj aracÄ±larÄ±**, farklÄ± yazÄ±lÄ±m sistemleri arasÄ±nda iletiÅŸimi kolaylaÅŸtÄ±ran aracÄ±lardÄ±r; bu sistemler farklÄ± platformlarda inÅŸa edilmiÅŸ ve farklÄ± dillerde programlanmÄ±ÅŸ olabilir. **Amazon MQ**, AWS Ã¼zerinde mesaj aracÄ±larÄ±nÄ± daÄŸÄ±tmayÄ±, iÅŸletmeyi ve bakÄ±mÄ±nÄ± basitleÅŸtirir. **Apache ActiveMQ** ve **RabbitMQ** iÃ§in yÃ¶netilen hizmetler sunarak, kesintisiz saÄŸlama ve otomatik yazÄ±lÄ±m sÃ¼rÃ¼mÃ¼ gÃ¼ncellemeleri saÄŸlar.

### AWS - RabbitMQ

RabbitMQ, aynÄ± zamanda _mesaj aracÄ±_ veya _kuyruk yÃ¶neticisi_ olarak bilinen Ã¶nde gelen bir **mesaj kuyruÄŸu yazÄ±lÄ±mÄ±dÄ±r**. Temelde, kuyruklarÄ±n yapÄ±landÄ±rÄ±ldÄ±ÄŸÄ± bir sistemdir. Uygulamalar, bu kuyruklarla etkileÅŸime geÃ§erek **mesaj gÃ¶nderir ve alÄ±r**. Bu baÄŸlamda mesajlar, diÄŸer uygulamalarda (potansiyel olarak farklÄ± sunucularda) sÃ¼reÃ§leri baÅŸlatmak iÃ§in komutlardan basit metin mesajlarÄ±na kadar Ã§eÅŸitli bilgileri taÅŸÄ±yabilir. Mesajlar, alÄ±cÄ± uygulama tarafÄ±ndan alÄ±nana ve iÅŸlenene kadar kuyruk yÃ¶neticisi yazÄ±lÄ±mÄ± tarafÄ±ndan tutulur. AWS, RabbitMQ sunucularÄ±nÄ± barÄ±ndÄ±rmak ve yÃ¶netmek iÃ§in kullanÄ±mÄ± kolay bir Ã§Ã¶zÃ¼m sunar.

### AWS - ActiveMQ

Apache ActiveMQÂ®, Ã§ok yÃ¶nlÃ¼lÃ¼ÄŸÃ¼ ile bilinen Ã¶nde gelen aÃ§Ä±k kaynaklÄ±, Java tabanlÄ± bir **mesaj aracÄ±dÄ±r**. BirÃ§ok endÃ¼stri standardÄ± protokolÃ¼ destekler ve geniÅŸ bir dil ve platform yelpazesinde kapsamlÄ± istemci uyumluluÄŸu sunar. KullanÄ±cÄ±lar:

* JavaScript, C, C++, Python, .Net ve daha fazlasÄ±nda yazÄ±lmÄ±ÅŸ istemcilerle baÄŸlantÄ± kurabilir.
* FarklÄ± platformlardan uygulamalarÄ± entegre etmek iÃ§in **AMQP** protokolÃ¼nÃ¼ kullanabilir.
* Web uygulamasÄ± mesaj alÄ±ÅŸveriÅŸleri iÃ§in websockets Ã¼zerinden **STOMP** kullanabilir.
* **MQTT** ile IoT cihazlarÄ±nÄ± yÃ¶netebilir.
* Mevcut **JMS** altyapÄ±sÄ±nÄ± koruyabilir ve yeteneklerini geniÅŸletebilir.

ActiveMQ'nun saÄŸlamlÄ±ÄŸÄ± ve esnekliÄŸi, onu Ã§ok Ã§eÅŸitli mesajlaÅŸma gereksinimleri iÃ§in uygun hale getirir.

## Enumeration
```bash
# List brokers
aws mq list-brokers

# Get broker info
aws mq describe-broker --broker-id <broker-id>
## Find endpoints in .BrokerInstances
## Find if public accessible in .PubliclyAccessible

# List usernames (only for ActiveMQ)
aws mq list-users --broker-id <broker-id>

# Get user info (PASSWORD NOT INCLUDED)
aws mq describe-user --broker-id <broker-id> --username <username>

# Lits configurations (only for ActiveMQ)
aws mq list-configurations
## Here you can find if simple or LDAP authentication is used

# Creacte Active MQ user
aws mq create-user --broker-id <value> --password <value> --username <value> --console-access
```
{% hint style="warning" %}
TODO: RabbitMQ ve ActiveMQ'yu dahili olarak nasÄ±l listeleyeceÄŸinizi ve tÃ¼m kuyruklarda nasÄ±l dinleyeceÄŸinizi ve veri gÃ¶ndereceÄŸinizi belirtin (bunu nasÄ±l yapacaÄŸÄ±nÄ±zÄ± biliyorsanÄ±z PR gÃ¶nderin)
{% endhint %}

## Privesc

{% content-ref url="../aws-privilege-escalation/aws-mq-privesc.md" %}
[aws-mq-privesc.md](../aws-privilege-escalation/aws-mq-privesc.md)
{% endcontent-ref %}

## Kimlik DoÄŸrulamasÄ± Olmadan EriÅŸim

{% content-ref url="../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md" %}
[aws-mq-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md)
{% endcontent-ref %}

## SÃ¼reklilik

RabbitMQ web konsoluna eriÅŸim iÃ§in kimlik bilgilerini biliyorsanÄ±z, admin ayrÄ±calÄ±klarÄ±yla yeni bir kullanÄ±cÄ± oluÅŸturabilirsiniz.

## Referanslar

* [https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html](https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
* [https://activemq.apache.org/](https://activemq.apache.org/)

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'i takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.**

</details>
{% endhint %}
