# AWS - MQ Enum

{% hint style="success" %}
NauÄite i veÅ¾bajte hakovanje AWS-a:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Obuka AWS Crveni Tim StruÄnjak (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
NauÄite i veÅ¾bajte hakovanje GCP-a: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Obuka GCP Crveni Tim StruÄnjak (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¾ite HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitteru** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakovanje trikova slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}

## Amazon MQ

### Uvod u Posrednike Poruka
**Posrednici poruka** sluÅ¾e kao posrednici, olakÅ¡avajuÄ‡i komunikaciju izmeÄ‘u razliÄitih softverskih sistema, koji mogu biti izgraÄ‘eni na razliÄitim platformama i programirani u razliÄitim jezicima. **Amazon MQ** pojednostavljuje implementaciju, rad i odrÅ¾avanje posrednika poruka na AWS-u. PruÅ¾a upravljane usluge za **Apache ActiveMQ** i **RabbitMQ**, obezbeÄ‘ujuÄ‡i besprekorno obezbeÄ‘ivanje i automatsko aÅ¾uriranje verzija softvera.

### AWS - RabbitMQ
RabbitMQ je istaknuti **softver za redove poruka**, takoÄ‘e poznat kao _posrednik poruka_ ili _upravljaÄ redova_. To je suÅ¡tinski sistem u kojem su konfigurisani redovi. Aplikacije interaguju sa ovim redovima kako bi **slale i primale poruke**. Poruke u ovom kontekstu mogu nositi razliÄite informacije, od komandi za pokretanje procesa na drugim aplikacijama (potencijalno na razliÄitim serverima) do jednostavnih tekstualnih poruka. Poruke se Äuvaju od strane softvera upravljaÄa redova dok ih ne preuzme i obradi aplikacija koja ih prima. AWS pruÅ¾a jednostavno reÅ¡enje za hostovanje i upravljanje RabbitMQ serverima.

### AWS - ActiveMQ
Apache ActiveMQÂ® je vodeÄ‡i open-source, Java baziran **posrednik poruka** poznat po svojoj svestranosti. PodrÅ¾ava viÅ¡e industrijskih standardnih protokola, nudeÄ‡i obimnu kompatibilnost klijenata Å¡irom razliÄitih jezika i platformi. Korisnici mogu:

- Povezati se sa klijentima napisanim u JavaScript-u, C-u, C++, Python-u, .Net-u i viÅ¡e.
- Iskoristiti **AMQP** protokol za integraciju aplikacija sa razliÄitih platformi.
- Koristiti **STOMP** preko web soketa za razmenu poruka web aplikacija.
- Upravljati IoT ureÄ‘ajima sa **MQTT**.
- OdrÅ¾avati postojeÄ‡u **JMS** infrastrukturu i proÅ¡iriti njene moguÄ‡nosti.

Robustnost i fleksibilnost ActiveMQ-a ga Äine pogodnim za razliÄite zahteve vezane za razmenu poruka.


## Enumeracija
```bash
# List brokers
aws mq list-brokers

# Get broker info
aws mq describe-broker --broker-id <broker-id>
## Find endpoints in .BrokerInstances
## Find if public accessible in .PubliclyAccessible

# List usernames (only for ActiveMQ)
aws mq list-users --broker-id <broker-id>

# Get user info (PASSWORD NOT INCLUDED)
aws mq describe-user --broker-id <broker-id> --username <username>

# Lits configurations (only for ActiveMQ)
aws mq list-configurations
## Here you can find if simple or LDAP authentication is used

# Creacte Active MQ user
aws mq create-user --broker-id <value> --password <value> --username <value> --console-access
```
{% hint style="warning" %}
TODO: NaznaÄite kako da nabrojite RabbitMQ i ActiveMQ interno i kako da osluÅ¡kujete sve redove i Å¡aljete podatke (poÅ¡aljite PR ako znate kako ovo da uradite)
{% endhint %}

## Privesc

{% content-ref url="../aws-privilege-escalation/aws-mq-privesc.md" %}
[aws-mq-privesc.md](../aws-privilege-escalation/aws-mq-privesc.md)
{% endcontent-ref %}

## Neautentifikovan pristup

{% content-ref url="../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md" %}
[aws-mq-unauthenticated-enum.md](../aws-unauthenticated-enum-access/aws-mq-unauthenticated-enum.md)
{% endcontent-ref %}

## Persistencija

Ako znate pristupne podatke za pristup RabbitMQ web konzoli, moÅ¾ete kreirati novog korisnika sa administratorskim privilegijama.

## Reference

* [https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html](https://www.cloudamqp.com/blog/part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
* [https://activemq.apache.org/](https://activemq.apache.org/)

{% hint style="success" %}
UÄite i veÅ¾bajte hakovanje AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
UÄite i veÅ¾bajte hakovanje GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¾ite HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili **telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitteru** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakovanje trikova slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}
