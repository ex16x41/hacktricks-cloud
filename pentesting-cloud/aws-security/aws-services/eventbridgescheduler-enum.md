# AWS - EventBridge Scheduler Enum

## EventBridge Scheduler

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## EventBridge Scheduler

**Amazon EventBridge Scheduler** είναι ένας πλήρως διαχειριζόμενος, **serverless προγραμματιστής που έχει σχεδιαστεί για να δημιουργεί, να εκτελεί και να διαχειρίζεται εργασίες** σε κλίμακα. Σας επιτρέπει να προγραμματίσετε εκατομμύρια εργασίες σε πάνω από 270 υπηρεσίες AWS και 6,000+ API λειτουργίες, όλα από μια κεντρική υπηρεσία. Με ενσωματωμένη αξιοπιστία και χωρίς υποδομή προς διαχείριση, ο EventBridge Scheduler απλοποιεί τον προγραμματισμό, μειώνει τα κόστη συντήρησης και κλιμακώνεται αυτόματα για να καλύψει τη ζήτηση. Μπορείτε να διαμορφώσετε cron ή εκφράσεις ρυθμού για επαναλαμβανόμενους προγραμματισμούς, να ορίσετε μοναδικές κλήσεις και να καθορίσετε ευέλικτα παράθυρα παράδοσης με επιλογές επανάληψης, διασφαλίζοντας ότι οι εργασίες παραδίδονται αξιόπιστα με βάση τη διαθεσιμότητα των κατώτερων στόχων. Ορισμένα κύρια χαρακτηριστικά του EventBridge Scheduler είναι:

1. **Templated targets** – Υποστηρίζει κοινές API λειτουργίες για Amazon SQS, SNS, Lambda και EventBridge, επιτρέποντάς σας να διαμορφώσετε προγράμματα γρήγορα χρησιμοποιώντας την κονσόλα, το SDK ή το CLI.
2. **Universal targets (UTP)** – Δημιουργήστε προσαρμοσμένα triggers για πάνω από 270 υπηρεσίες AWS και 6,000+ API λειτουργίες χρησιμοποιώντας UTP μέσω της κονσόλας, του SDK ή του CLI.
3. **Flexible time windows** – Επιτρέπει διασκορπισμένο προγραμματισμό για βελτιωμένη αξιοπιστία όταν η ακριβής χρονική στιγμή δεν απαιτείται.
4. **Retries** – Παρέχει τουλάχιστον μία παράδοση, με επιλογές για επανάληψη αποτυχημένων εργασιών για να διασφαλιστεί η διαθεσιμότητα του στόχου.

Υπάρχει ένα αρχικό όριο 1,000,000 προγραμμάτων ανά περιοχή ανά λογαριασμό. Ακόμα και η επίσημη σελίδα ποσοστώσεων προτείνει, "Συνιστάται να διαγράφετε τις μοναδικές προγραμματισμένες εργασίες μόλις ολοκληρωθούν." Δυστυχώς, αυτή τη στιγμή δεν υπάρχει δυνατότητα αυτόματης διαγραφής, που είναι λίγο μειονέκτημα.

### Types of Schedules
Τύποι προγραμμάτων στον EventBridge Scheduler:

1. **One-time schedules** – Εκτελεί μια εργασία σε μια συγκεκριμένη ώρα, π.χ., 21 Δεκεμβρίου στις 7 π.μ. UTC.
2. **Rate-based schedules** – Ορίστε επαναλαμβανόμενες εργασίες με βάση μια συχνότητα, π.χ., κάθε 2 ώρες.
3. **Cron-based schedules** – Ορίστε επαναλαμβανόμενες εργασίες χρησιμοποιώντας μια cron έκφραση, π.χ., κάθε Παρασκευή στις 4 μ.μ.

Δύο μηχανισμοί για την αντιμετώπιση αποτυχημένων γεγονότων:
1. **Retry Policy** – Ορίζει τον αριθμό των προσπαθειών επανάληψης για ένα αποτυχημένο γεγονός και πόσο καιρό να παραμείνει μη επεξεργασμένο πριν θεωρηθεί αποτυχία.
2. **Dead-Letter Queue (DLQ)** – Μια τυπική ουρά Amazon SQS όπου παραδίδονται τα αποτυχημένα γεγονότα αφού εξαντληθούν οι επαναλήψεις. Οι DLQs βοηθούν στην επίλυση προβλημάτων με το πρόγραμμα ή τον κατώτερο στόχο του. 

### Enumeration
```bash
# List all EventBridge Scheduler schedules
aws scheduler list-schedules

# List all EventBridge Scheduler schedule groups
aws scheduler list-schedule-groups

# Describe a specific schedule to retrieve more details
aws scheduler get-schedule --name <schedule_name>

# Describe a specific schedule group
aws scheduler get-schedule-group --name <group_name>

# List tags for a specific schedule (helpful in identifying any custom tags or permissions)
aws scheduler list-tags-for-resource --resource-arn <schedule_group_arn>
```
### Privesc

Στην επόμενη σελίδα, μπορείτε να ελέγξετε πώς να **καταχραστείτε τις άδειες του eventbridge scheduler για να κλιμακώσετε τα προνόμια**:

{% content-ref url="../aws-privilege-escalation/eventbridgescheduler-privesc.md" %}
[eventbridgescheduler-privesc.md](../aws-privilege-escalation/eventbridgescheduler-privesc.md)
{% endcontent-ref %}


## References

* [https://docs.aws.amazon.com/scheduler/latest/UserGuide/what-is-scheduler.html]https://docs.aws.amazon.com/scheduler/latest/UserGuide/what-is-scheduler.html)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
