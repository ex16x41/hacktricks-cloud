# AWS - EventBridge Scheduler Enum

## EventBridge Scheduler

{% hint style="success" %}
UÄite i veÅ¾bajte AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
UÄite i veÅ¾bajte GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¡ka HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}

## EventBridge Scheduler

**Amazon EventBridge Scheduler** je potpuno upravljani, **serverless planer dizajniran za kreiranje, pokretanje i upravljanje zadacima** na velikoj skali. OmoguÄ‡ava vam da planirate milione zadataka preko viÅ¡e od 270 AWS usluga i 6,000+ API operacija, sve iz centralne usluge. Sa ugraÄ‘enom pouzdanoÅ¡Ä‡u i bez infrastrukture za upravljanje, EventBridge Scheduler pojednostavljuje planiranje, smanjuje troÅ¡kove odrÅ¾avanja i automatski se skalira kako bi zadovoljio potraÅ¾nju. MoÅ¾ete konfigurisati cron ili rate izraze za ponavljajuÄ‡e rasporede, postaviti jednokratne pozive i definisati fleksibilne vremenske okvire za isporuku sa opcijama ponovnog pokuÅ¡aja, osiguravajuÄ‡i da se zadaci pouzdano isporuÄuju na osnovu dostupnosti ciljeva nizvodno.

Postoji inicijalni limit od 1,000,000 rasporeda po regionu po nalogu. ÄŒak i zvaniÄna stranica kvota sugeriÅ¡e: "PreporuÄuje se brisanje jednokratnih rasporeda nakon Å¡to su zavrÅ¡eni."&#x20;

### Tipovi rasporeda

Tipovi rasporeda u EventBridge Scheduler:

1. **Jednokratni rasporedi** â€“ IzvrÅ¡ite zadatak u odreÄ‘eno vreme, npr., 21. decembar u 7 AM UTC.
2. **Rasporedi zasnovani na frekvenciji** â€“ Postavite ponavljajuÄ‡e zadatke na osnovu frekvencije, npr., svaka 2 sata.
3. **Cron rasporedi** â€“ Postavite ponavljajuÄ‡e zadatke koristeÄ‡i cron izraz, npr., svake petka u 4 PM.

Dva mehanizma za upravljanje neuspelim dogaÄ‘ajima:

1. **Politika ponovnog pokuÅ¡aja** â€“ DefiniÅ¡e broj pokuÅ¡aja ponovnog pokuÅ¡aja za neuspeli dogaÄ‘aj i koliko dugo ga zadrÅ¾ati neobraÄ‘enim pre nego Å¡to se smatra neuspehom.
2. **Red za neispravne poruke (DLQ)** â€“ Standardni Amazon SQS red u koji se isporuÄuju neuspeli dogaÄ‘aji nakon Å¡to su pokuÅ¡aji ponovnog pokuÅ¡aja iscrpljeni. DLQ pomaÅ¾e u reÅ¡avanju problema sa vaÅ¡im rasporedom ili njegovim nizvodnim ciljem.

### Ciljevi

Postoje 2 tipa ciljeva za planer [**templatirani (docs)**](https://docs.aws.amazon.com/scheduler/latest/UserGuide/managing-targets-templated.html), koji se Äesto koriste i AWS ih je olakÅ¡ao za konfiguraciju, i [**univerzalni (docs)**](https://docs.aws.amazon.com/scheduler/latest/UserGuide/managing-targets-universal.html), koji se moÅ¾e koristiti za pozivanje bilo kog AWS API-ja.

**Templatirani ciljevi** podrÅ¾avaju sledeÄ‡e usluge:

* CodeBuild â€“ StartBuild
* CodePipeline â€“ StartPipelineExecution
* Amazon ECS â€“ RunTask
* Parametri: EcsParameters
* EventBridge â€“ PutEvents
* Parametri: EventBridgeParameters
* Amazon Inspector â€“ StartAssessmentRun
* Kinesis â€“ PutRecord
* Parametri: KinesisParameters
* Firehose â€“ PutRecord
* Lambda â€“ Invoke
* SageMaker â€“ StartPipelineExecution
* Parametri: SageMakerPipelineParameters
* Amazon SNS â€“ Publish
* Amazon SQS â€“ SendMessage
* Parametri: SqsParameters
* Step Functions â€“ StartExecution

### Enumeracija
```bash
# List all EventBridge Scheduler schedules
aws scheduler list-schedules

# List all EventBridge Scheduler schedule groups
aws scheduler list-schedule-groups

# Describe a specific schedule to retrieve more details
aws scheduler get-schedule --name <schedule_name>

# Describe a specific schedule group
aws scheduler get-schedule-group --name <group_name>

# List tags for a specific schedule (helpful in identifying any custom tags or permissions)
aws scheduler list-tags-for-resource --resource-arn <schedule_group_arn>
```
### Privesc

Na sledeÄ‡oj stranici moÅ¾ete proveriti kako da **zloupotrebite dozvole eventbridge scheduler-a za eskalaciju privilegija**:

{% content-ref url="../aws-privilege-escalation/eventbridgescheduler-privesc.md" %}
[eventbridgescheduler-privesc.md](../aws-privilege-escalation/eventbridgescheduler-privesc.md)
{% endcontent-ref %}

## Reference

* [https://docs.aws.amazon.com/scheduler/latest/UserGuide/what-is-scheduler.html](https://docs.aws.amazon.com/scheduler/latest/UserGuide/what-is-scheduler.html)

{% hint style="success" %}
UÄite i veÅ¾bajte AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
UÄite i veÅ¾bajte GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>PodrÅ¾ite HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **PridruÅ¾ite se** ğŸ’¬ [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitter-u** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}
