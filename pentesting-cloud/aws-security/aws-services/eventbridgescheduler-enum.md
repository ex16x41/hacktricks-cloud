# AWS - EventBridge Scheduler Enum

## EventBridge Scheduler

{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Teile Hacking-Tricks, indem du PRs zu den** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos einreichst.

</details>
{% endhint %}

## EventBridge Scheduler

**Amazon EventBridge Scheduler** ist ein vollst√§ndig verwalteter, **serverloser Scheduler, der entwickelt wurde, um Aufgaben** in gro√üem Ma√üstab zu erstellen, auszuf√ºhren und zu verwalten. Er erm√∂glicht es dir, Millionen von Aufgaben √ºber mehr als 270 AWS-Dienste und √ºber 6.000 API-Operationen zu planen, alles von einem zentralen Dienst aus. Mit integrierter Zuverl√§ssigkeit und ohne Infrastrukturverwaltung vereinfacht der EventBridge Scheduler die Planung, senkt die Wartungskosten und skaliert automatisch, um der Nachfrage gerecht zu werden. Du kannst Cron- oder Ratenausdr√ºcke f√ºr wiederkehrende Zeitpl√§ne konfigurieren, einmalige Aufrufe festlegen und flexible Lieferfenster mit Wiederholungsoptionen definieren, um sicherzustellen, dass Aufgaben zuverl√§ssig basierend auf der Verf√ºgbarkeit der nachgelagerten Ziele geliefert werden.

Es gibt ein anf√§ngliches Limit von 1.000.000 Zeitpl√§nen pro Region und Konto. Selbst die offizielle Quoten-Seite schl√§gt vor: "Es wird empfohlen, einmalige Zeitpl√§ne zu l√∂schen, sobald sie abgeschlossen sind."&#x20;

### Arten von Zeitpl√§nen

Arten von Zeitpl√§nen im EventBridge Scheduler:

1. **Einmalige Zeitpl√§ne** ‚Äì F√ºhre eine Aufgabe zu einem bestimmten Zeitpunkt aus, z.B. am 21. Dezember um 7 Uhr UTC.
2. **Ratenbasierte Zeitpl√§ne** ‚Äì Setze wiederkehrende Aufgaben basierend auf einer Frequenz, z.B. alle 2 Stunden.
3. **Cron-basierte Zeitpl√§ne** ‚Äì Setze wiederkehrende Aufgaben mit einem Cron-Ausdruck, z.B. jeden Freitag um 16 Uhr.

Zwei Mechanismen zur Handhabung fehlgeschlagener Ereignisse:

1. **Wiederholungsrichtlinie** ‚Äì Definiert die Anzahl der Wiederholungsversuche f√ºr ein fehlgeschlagenes Ereignis und wie lange es unbearbeitet bleibt, bevor es als Fehler betrachtet wird.
2. **Dead-Letter-Warteschlange (DLQ)** ‚Äì Eine Standard-Amazon SQS-Warteschlange, in der fehlgeschlagene Ereignisse nach Ersch√∂pfung der Wiederholungen geliefert werden. DLQs helfen bei der Fehlersuche bei Problemen mit deinem Zeitplan oder dessen nachgelagertem Ziel.

### Ziele

Es gibt 2 Arten von Zielen f√ºr einen Scheduler [**vorlagenbasiert (docs)**](https://docs.aws.amazon.com/scheduler/latest/UserGuide/managing-targets-templated.html), die h√§ufig verwendet werden und die AWS einfacher konfiguriert hat, und [**universell (docs)**](https://docs.aws.amazon.com/scheduler/latest/UserGuide/managing-targets-universal.html), die verwendet werden k√∂nnen, um jede AWS-API aufzurufen.

**Vorlagenbasierte Ziele** unterst√ºtzen die folgenden Dienste:

* CodeBuild ‚Äì StartBuild
* CodePipeline ‚Äì StartPipelineExecution
* Amazon ECS ‚Äì RunTask
* Parameter: EcsParameters
* EventBridge ‚Äì PutEvents
* Parameter: EventBridgeParameters
* Amazon Inspector ‚Äì StartAssessmentRun
* Kinesis ‚Äì PutRecord
* Parameter: KinesisParameters
* Firehose ‚Äì PutRecord
* Lambda ‚Äì Invoke
* SageMaker ‚Äì StartPipelineExecution
* Parameter: SageMakerPipelineParameters
* Amazon SNS ‚Äì Publish
* Amazon SQS ‚Äì SendMessage
* Parameter: SqsParameters
* Step Functions ‚Äì StartExecution

### Enumeration
```bash
# List all EventBridge Scheduler schedules
aws scheduler list-schedules

# List all EventBridge Scheduler schedule groups
aws scheduler list-schedule-groups

# Describe a specific schedule to retrieve more details
aws scheduler get-schedule --name <schedule_name>

# Describe a specific schedule group
aws scheduler get-schedule-group --name <group_name>

# List tags for a specific schedule (helpful in identifying any custom tags or permissions)
aws scheduler list-tags-for-resource --resource-arn <schedule_group_arn>
```
### Privesc

Auf der folgenden Seite k√∂nnen Sie √ºberpr√ºfen, wie Sie **Eventbridge-Scheduler-Berechtigungen missbrauchen k√∂nnen, um Privilegien zu eskalieren**:

{% content-ref url="../aws-privilege-escalation/eventbridgescheduler-privesc.md" %}
[eventbridgescheduler-privesc.md](../aws-privilege-escalation/eventbridgescheduler-privesc.md)
{% endcontent-ref %}

## Referenzen

* [https://docs.aws.amazon.com/scheduler/latest/UserGuide/what-is-scheduler.html](https://docs.aws.amazon.com/scheduler/latest/UserGuide/what-is-scheduler.html)

{% hint style="success" %}
Lernen & √ºben Sie AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Lernen & √ºben Sie GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtzen Sie HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos senden.

</details>
{% endhint %}
