# AWS - EventBridge Scheduler Enum

## EventBridge Scheduler

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## EventBridge Scheduler

**Το Amazon EventBridge Scheduler** είναι ένας πλήρως διαχειριζόμενος, **serverless προγραμματιστής που έχει σχεδιαστεί για να δημιουργεί, να εκτελεί και να διαχειρίζεται εργασίες** σε κλίμακα. Σας επιτρέπει να προγραμματίσετε εκατομμύρια εργασίες σε πάνω από 270 υπηρεσίες AWS και 6,000+ API λειτουργίες, όλα από μια κεντρική υπηρεσία. Με ενσωματωμένη αξιοπιστία και χωρίς υποδομή προς διαχείριση, το EventBridge Scheduler απλοποιεί τον προγραμματισμό, μειώνει τα κόστη συντήρησης και κλιμακώνεται αυτόματα για να καλύψει τη ζήτηση. Μπορείτε να διαμορφώσετε cron ή εκφράσεις ρυθμού για επαναλαμβανόμενους προγραμματισμούς, να ορίσετε μοναδικές κλήσεις και να καθορίσετε ευέλικτα παράθυρα παράδοσης με επιλογές επαναλήψεων, διασφαλίζοντας ότι οι εργασίες παραδίδονται αξιόπιστα με βάση τη διαθεσιμότητα των κατώτερων στόχων.

Υπάρχει ένα αρχικό όριο 1,000,000 προγραμματισμών ανά περιοχή ανά λογαριασμό. Ακόμα και η επίσημη σελίδα ποσοστώσεων προτείνει, "Συνιστάται να διαγράφετε τους μοναδικούς προγραμματισμούς μόλις ολοκληρωθούν."&#x20;

### Types of Schedules

Τύποι προγραμματισμών στο EventBridge Scheduler:

1. **Μοναδικοί προγραμματισμοί** – Εκτελούν μια εργασία σε μια συγκεκριμένη ώρα, π.χ., 21 Δεκεμβρίου στις 7 π.μ. UTC.
2. **Προγραμματισμοί με βάση τον ρυθμό** – Ορίζουν επαναλαμβανόμενες εργασίες με βάση μια συχνότητα, π.χ., κάθε 2 ώρες.
3. **Προγραμματισμοί με βάση το cron** – Ορίζουν επαναλαμβανόμενες εργασίες χρησιμοποιώντας μια έκφραση cron, π.χ., κάθε Παρασκευή στις 4 μ.μ.

Δύο μηχανισμοί για την αντιμετώπιση αποτυχημένων γεγονότων:

1. **Πολιτική επαναλήψεων** – Ορίζει τον αριθμό των προσπαθειών επανάληψης για ένα αποτυχημένο γεγονός και πόσο καιρό να παραμείνει μη επεξεργασμένο πριν θεωρηθεί αποτυχία.
2. **Ουρά Dead-Letter (DLQ)** – Μια τυπική ουρά Amazon SQS όπου παραδίδονται τα αποτυχημένα γεγονότα αφού εξαντληθούν οι επαναλήψεις. Οι DLQs βοηθούν στην επίλυση προβλημάτων με τον προγραμματισμό σας ή τον κατώτερο στόχο του.

### Targets

Υπάρχουν 2 τύποι στόχων για έναν προγραμματιστή [**templated (docs)**](https://docs.aws.amazon.com/scheduler/latest/UserGuide/managing-targets-templated.html), οι οποίοι χρησιμοποιούνται συνήθως και η AWS τους έκανε πιο εύκολους στη διαμόρφωση, και [**universal (docs)**](https://docs.aws.amazon.com/scheduler/latest/UserGuide/managing-targets-universal.html), οι οποίοι μπορούν να χρησιμοποιηθούν για να καλέσουν οποιοδήποτε AWS API.

**Οι templated στόχοι** υποστηρίζουν τις εξής υπηρεσίες:

* CodeBuild – StartBuild
* CodePipeline – StartPipelineExecution
* Amazon ECS – RunTask
* Parameters: EcsParameters
* EventBridge – PutEvents
* Parameters: EventBridgeParameters
* Amazon Inspector – StartAssessmentRun
* Kinesis – PutRecord
* Parameters: KinesisParameters
* Firehose – PutRecord
* Lambda – Invoke
* SageMaker – StartPipelineExecution
* Parameters: SageMakerPipelineParameters
* Amazon SNS – Publish
* Amazon SQS – SendMessage
* Parameters: SqsParameters
* Step Functions – StartExecution

### Enumeration
```bash
# List all EventBridge Scheduler schedules
aws scheduler list-schedules

# List all EventBridge Scheduler schedule groups
aws scheduler list-schedule-groups

# Describe a specific schedule to retrieve more details
aws scheduler get-schedule --name <schedule_name>

# Describe a specific schedule group
aws scheduler get-schedule-group --name <group_name>

# List tags for a specific schedule (helpful in identifying any custom tags or permissions)
aws scheduler list-tags-for-resource --resource-arn <schedule_group_arn>
```
### Privesc

In the following page, you can check how to **καταχρήστε τις άδειες του eventbridge scheduler για να κλιμακώσετε τα δικαιώματα**:

{% content-ref url="../aws-privilege-escalation/eventbridgescheduler-privesc.md" %}
[eventbridgescheduler-privesc.md](../aws-privilege-escalation/eventbridgescheduler-privesc.md)
{% endcontent-ref %}

## References

* [https://docs.aws.amazon.com/scheduler/latest/UserGuide/what-is-scheduler.html](https://docs.aws.amazon.com/scheduler/latest/UserGuide/what-is-scheduler.html)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
