# AWS - EventBridge Scheduler Enum

## EventBridge Scheduler

{% hint style="success" %}
Lernen & √ºben Sie AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Lernen & √ºben Sie GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos senden.

</details>
{% endhint %}

## EventBridge Scheduler

**Amazon EventBridge Scheduler** ist ein vollst√§ndig verwalteter, **serverloser Scheduler, der entwickelt wurde, um Aufgaben** in gro√üem Ma√üstab zu erstellen, auszuf√ºhren und zu verwalten. Er erm√∂glicht es Ihnen, Millionen von Aufgaben √ºber mehr als 270 AWS-Dienste und 6.000+ API-Operationen von einem zentralen Dienst aus zu planen. Mit integrierter Zuverl√§ssigkeit und ohne Infrastrukturverwaltung vereinfacht der EventBridge Scheduler die Planung, senkt die Wartungskosten und skaliert automatisch, um der Nachfrage gerecht zu werden. Sie k√∂nnen Cron- oder Ratenausdr√ºcke f√ºr wiederkehrende Zeitpl√§ne konfigurieren, einmalige Aufrufe festlegen und flexible Lieferfenster mit Wiederholungsoptionen definieren, um sicherzustellen, dass Aufgaben zuverl√§ssig basierend auf der Verf√ºgbarkeit der nachgelagerten Ziele geliefert werden. Einige der wichtigsten Funktionen des EventBridge Schedulers sind:

1. **Vorlagenziele** ‚Äì Unterst√ºtzt g√§ngige API-Operationen f√ºr Amazon SQS, SNS, Lambda und EventBridge, sodass Sie Zeitpl√§ne schnell √ºber die Konsole, SDK oder CLI konfigurieren k√∂nnen.
2. **Universelle Ziele (UTP)** ‚Äì Erstellen Sie benutzerdefinierte Trigger f√ºr √ºber 270 AWS-Dienste und 6.000+ API-Operationen mithilfe von UTP √ºber die Konsole, SDK oder CLI.
3. **Flexible Zeitfenster** ‚Äì Erm√∂glicht verteilte Planung f√ºr verbesserte Zuverl√§ssigkeit, wenn pr√§zises Timing nicht erforderlich ist.
4. **Wiederholungen** ‚Äì Bietet eine mindestens einmalige Lieferung mit Optionen, fehlgeschlagene Aufgaben erneut zu versuchen, um die Verf√ºgbarkeit des Ziels sicherzustellen.

Es gibt ein anf√§ngliches Limit von 1.000.000 Zeitpl√§nen pro Region und Konto. Selbst die offizielle Quoten-Seite empfiehlt: "Es wird empfohlen, einmalige Zeitpl√§ne zu l√∂schen, sobald sie abgeschlossen sind." Leider gibt es derzeit keine Funktion f√ºr die automatische L√∂schung, was ein kleiner Nachteil ist.

### Arten von Zeitpl√§nen
Arten von Zeitpl√§nen im EventBridge Scheduler:

1. **Einmalige Zeitpl√§ne** ‚Äì F√ºhren Sie eine Aufgabe zu einem bestimmten Zeitpunkt aus, z. B. am 21. Dezember um 7 Uhr UTC.
2. **Ratenbasierte Zeitpl√§ne** ‚Äì Legen Sie wiederkehrende Aufgaben basierend auf einer Frequenz fest, z. B. alle 2 Stunden.
3. **Cron-basierte Zeitpl√§ne** ‚Äì Legen Sie wiederkehrende Aufgaben mithilfe eines Cron-Ausdrucks fest, z. B. jeden Freitag um 16 Uhr.

Zwei Mechanismen zur Behandlung fehlgeschlagener Ereignisse:
1. **Wiederholungsrichtlinie** ‚Äì Definiert die Anzahl der Wiederholungsversuche f√ºr ein fehlgeschlagenes Ereignis und wie lange es unprocessed bleiben soll, bevor es als Fehler betrachtet wird.
2. **Dead-Letter-Warteschlange (DLQ)** ‚Äì Eine Standard-Amazon SQS-Warteschlange, in der fehlgeschlagene Ereignisse nach Ersch√∂pfung der Wiederholungen geliefert werden. DLQs helfen bei der Fehlersuche bei Problemen mit Ihrem Zeitplan oder dessen nachgelagertem Ziel.

### Enumeration
```bash
# List all EventBridge Scheduler schedules
aws scheduler list-schedules

# List all EventBridge Scheduler schedule groups
aws scheduler list-schedule-groups

# Describe a specific schedule to retrieve more details
aws scheduler get-schedule --name <schedule_name>

# Describe a specific schedule group
aws scheduler get-schedule-group --name <group_name>

# List tags for a specific schedule (helpful in identifying any custom tags or permissions)
aws scheduler list-tags-for-resource --resource-arn <schedule_group_arn>
```
### Privesc

Auf der folgenden Seite k√∂nnen Sie √ºberpr√ºfen, wie Sie **Eventbridge-Scheduler-Berechtigungen missbrauchen, um Privilegien zu eskalieren**:

{% content-ref url="../aws-privilege-escalation/eventbridgescheduler-privesc.md" %}
[eventbridgescheduler-privesc.md](../aws-privilege-escalation/eventbridgescheduler-privesc.md)
{% endcontent-ref %}


## Referenzen

* [https://docs.aws.amazon.com/scheduler/latest/UserGuide/what-is-scheduler.html]https://docs.aws.amazon.com/scheduler/latest/UserGuide/what-is-scheduler.html)

{% hint style="success" %}
Lernen & √ºben Sie AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Lernen & √ºben Sie GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtzen Sie HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos senden.

</details>
{% endhint %}
