# AWS - Step Functions Enum

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter**'da **bizi takip edin** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

## Step Functions

AWS Step Functions, birden fazla AWS hizmetini sunucusuz iÅŸ akÄ±ÅŸlarÄ±na koordine etmenizi ve dÃ¼zenlemenizi saÄŸlayan bir iÅŸ akÄ±ÅŸÄ± hizmetidir. AWS Step Functions kullanarak, AWS Lambda, Amazon S3, Amazon DynamoDB ve daha birÃ§ok AWS hizmetini bir dizi adÄ±mda baÄŸlayan iÅŸ akÄ±ÅŸlarÄ± tasarlayÄ±p Ã§alÄ±ÅŸtÄ±rabilirsiniz. Bu orkestrasyon hizmeti, gÃ¶rsel bir iÅŸ akÄ±ÅŸÄ± arayÃ¼zÃ¼ saÄŸlar ve **durum makinesi** yetenekleri sunar, bÃ¶ylece iÅŸ akÄ±ÅŸÄ±nÄ±n her adÄ±mÄ±nÄ± JSON tabanlÄ± **Amazon States Language** (ASL) kullanarak deklaratif bir ÅŸekilde tanÄ±mlayabilirsiniz.

## Ana kavramlar

### Standart ve Express Ä°ÅŸ AkÄ±ÅŸlarÄ±

AWS Step Functions, iki tÃ¼r **durum makinesi iÅŸ akÄ±ÅŸÄ±** sunar: Standart ve Express.

* **Standart Ä°ÅŸ AkÄ±ÅŸÄ±**: Bu varsayÄ±lan iÅŸ akÄ±ÅŸÄ± tÃ¼rÃ¼, uzun sÃ¼reli, dayanÄ±klÄ± ve denetlenebilir sÃ¼reÃ§ler iÃ§in tasarlanmÄ±ÅŸtÄ±r. **tam olarak bir kez yÃ¼rÃ¼tme** desteÄŸi sunar, bu da gÃ¶revlerin yalnÄ±zca bir kez Ã§alÄ±ÅŸmasÄ±nÄ± saÄŸlar, yeniden denemeler belirtilmedikÃ§e. DetaylÄ± yÃ¼rÃ¼tme geÃ§miÅŸine ihtiyaÃ§ duyan iÅŸ akÄ±ÅŸlarÄ± iÃ§in idealdir ve bir yÄ±la kadar Ã§alÄ±ÅŸabilir.
* **Express Ä°ÅŸ AkÄ±ÅŸÄ±**: Bu tÃ¼r, yÃ¼ksek hacimli, kÄ±sa sÃ¼reli gÃ¶revler iÃ§in idealdir ve beÅŸ dakikaya kadar Ã§alÄ±ÅŸabilir. **en az bir kez yÃ¼rÃ¼tme** desteÄŸi sunar, bu da idempotent gÃ¶revler iÃ§in uygundur, Ã¶rneÄŸin veri iÅŸleme. Bu iÅŸ akÄ±ÅŸlarÄ± maliyet ve performans aÃ§Ä±sÄ±ndan optimize edilmiÅŸtir ve yÃ¼rÃ¼tmelere, sÃ¼reye ve bellek kullanÄ±mÄ±na gÃ¶re Ã¼cretlendirilir.

### Durumlar

Durumlar, durum makinelerinin temel birimleridir. Bir iÅŸ akÄ±ÅŸÄ±ndaki bireysel adÄ±mlarÄ± tanÄ±mlarlar ve tÃ¼rÃ¼ne baÄŸlÄ± olarak Ã§eÅŸitli iÅŸlevler gerÃ§ekleÅŸtirebilirler:

* **GÃ¶rev:** Genellikle Lambda gibi bir AWS hizmetini kullanarak bir iÅŸi yÃ¼rÃ¼tÃ¼r.
* **SeÃ§im:** Girdi temelinde kararlar alÄ±r.
* **BaÅŸarÄ±sÄ±zlÄ±k/BaÅŸarÄ±:** YÃ¼rÃ¼tmeyi bir baÅŸarÄ±sÄ±zlÄ±k veya baÅŸarÄ± ile sonlandÄ±rÄ±r.
* **GeÃ§iÅŸ:** Girdiyi Ã§Ä±ktÄ±ya aktarÄ±r veya veri enjekte eder.
* **Bekleme:** Belirli bir sÃ¼re yÃ¼rÃ¼tmeyi geciktirir.
* **Paralel:** Paralel dallarÄ± baÅŸlatÄ±r.
* **Harita:** Ã–ÄŸeler Ã¼zerinde dinamik olarak adÄ±mlarÄ± yinelemeye alÄ±r.

### GÃ¶rev

Bir **GÃ¶rev** durumu, bir durum makinesi tarafÄ±ndan yÃ¼rÃ¼tÃ¼len tek bir iÅŸ birimini temsil eder. GÃ¶revler, aktiviteler, Lambda fonksiyonlarÄ±, AWS hizmetleri veya Ã¼Ã§Ã¼ncÃ¼ taraf API'leri gibi Ã§eÅŸitli kaynaklarÄ± Ã§aÄŸÄ±rabilir.

* **Aktiviteler**: Uzun sÃ¼reli sÃ¼reÃ§ler iÃ§in uygun, sizin yÃ¶nettiÄŸiniz Ã¶zel iÅŸÃ§iler.
* Kaynak: **`arn:aws:states:region:account:activity:name`**.
* **Lambda FonksiyonlarÄ±**: AWS Lambda fonksiyonlarÄ±nÄ± yÃ¼rÃ¼tÃ¼r.
* Kaynak: **`arn:aws:lambda:region:account:function:function-name`**.
* **AWS Hizmetleri**: DynamoDB veya S3 gibi diÄŸer AWS hizmetleriyle doÄŸrudan entegre olur.
* Kaynak: **`arn:partition:states:region:account:servicename:APIname`**.
* **HTTP GÃ¶revi**: ÃœÃ§Ã¼ncÃ¼ taraf API'lerini Ã§aÄŸÄ±rÄ±r.
* Kaynak alanÄ±: **`arn:aws:states:::http:invoke`**. ArdÄ±ndan, API URL'si, yÃ¶ntem ve kimlik doÄŸrulama detaylarÄ± gibi API uÃ§ noktasÄ± yapÄ±landÄ±rma bilgilerini saÄŸlamalÄ±sÄ±nÄ±z.

AÅŸaÄŸÄ±daki Ã¶rnek, HelloWorld adÄ±nda bir Lambda fonksiyonunu Ã§aÄŸÄ±ran bir GÃ¶rev durumu tanÄ±mÄ±nÄ± gÃ¶stermektedir:
```json
"HelloWorld": {
"Type": "Task",
"Resource": "arn:aws:states:::lambda:invoke",
"Parameters": {
"Payload.$": "$",
"FunctionName": "arn:aws:lambda:<region>:<account-id>:function:HelloWorld"
},
"End": true
}
```
### Choice

Bir **Choice** durumu, bir iÅŸ akÄ±ÅŸÄ±na koÅŸullu mantÄ±k ekler ve girdi verilerine dayalÄ± kararlar almayÄ± saÄŸlar. Belirtilen koÅŸullarÄ± deÄŸerlendirir ve sonuÃ§lara gÃ¶re ilgili duruma geÃ§iÅŸ yapar.

* **KarÅŸÄ±laÅŸtÄ±rma**: Her seÃ§im kuralÄ±, bir girdi deÄŸiÅŸkenini belirtilen bir deÄŸerle veya baÅŸka bir deÄŸiÅŸkenle karÅŸÄ±laÅŸtÄ±ran bir karÅŸÄ±laÅŸtÄ±rma operatÃ¶rÃ¼ (Ã¶rneÄŸin, **`NumericEquals`**, **`StringEquals`**) iÃ§erir.
* **Next AlanÄ±**: Choice durumlarÄ± **`End`** alanÄ±nÄ± desteklemez, bunun yerine karÅŸÄ±laÅŸtÄ±rma doÄŸruysa geÃ§iÅŸ yapÄ±lacak **`Next`** durumunu tanÄ±mlar.

**Choice** durumu Ã¶rneÄŸi:
```json
{
"Variable": "$.timeStamp",
"TimestampEquals": "2000-01-01T00:00:00Z",
"Next": "TimeState"
}
```
### Fail/Succeed

Bir **`Fail`** durumu, bir durum makinesinin yÃ¼rÃ¼tÃ¼lmesini durdurur ve onu bir hata olarak iÅŸaretler. Hata adÄ±nÄ± ve nedenini belirtmek iÃ§in kullanÄ±lÄ±r, hatayla ilgili ayrÄ±ntÄ±lar saÄŸlar. Bu durum terminaldir, yani yÃ¼rÃ¼tme akÄ±ÅŸÄ±nÄ± sonlandÄ±rÄ±r.

Bir **`Succeed`** durumu, yÃ¼rÃ¼tmeyi baÅŸarÄ±yla durdurur. Genellikle, iÅŸ akÄ±ÅŸÄ± baÅŸarÄ±yla tamamlandÄ±ÄŸÄ±nda sonlandÄ±rmak iÃ§in kullanÄ±lÄ±r. Bu durum bir **`Next`** alanÄ± gerektirmez.

{% tabs %}
{% tab title="Fail example" %}
```json
"FailState": {
"Type": "Fail",
"Error": "ErrorName",
"Cause": "Error details"
}
```
{% endtab %}

{% tab title="BaÅŸarÄ± Ã¶rneÄŸi" %}
```json
"SuccessState": {
"Type": "Succeed"
}
```
{% endtab %}
{% endtabs %}

### Pass

Bir **Pass** durumu, herhangi bir iÅŸ yapmadan veya JSON durum girdisini filtreler kullanarak dÃ¶nÃ¼ÅŸtÃ¼rmeden, girdisini Ã§Ä±ktÄ±sÄ±na aktarÄ±r ve ardÄ±ndan dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lmÃ¼ÅŸ veriyi bir sonraki duruma iletir. Test etmek ve durum makineleri oluÅŸturmak iÃ§in yararlÄ±dÄ±r, statik verileri enjekte etmenize veya dÃ¶nÃ¼ÅŸtÃ¼rmenize olanak tanÄ±r.
```json
"PassState": {
"Type": "Pass",
"Result": {"key": "value"},
"ResultPath": "$.newField",
"Next": "NextState"
}
```
### Wait

Bir **Wait** durumu, durum makinesinin yÃ¼rÃ¼tÃ¼lmesini belirli bir sÃ¼re geciktirir. Bekleme sÃ¼resini yapÄ±landÄ±rmak iÃ§in Ã¼Ã§ ana yÃ¶ntem vardÄ±r:

*   **X Saniye**: Beklemek iÃ§in sabit bir saniye sayÄ±sÄ±.

```json
"WaitState": {
"Type": "Wait",
"Seconds": 10,
"Next": "NextState"
}
```
*   **Kesin Zaman DamgasÄ±**: Beklemek iÃ§in tam bir zaman.

```json
"WaitState": {
"Type": "Wait",
"Timestamp": "2024-03-14T01:59:00Z",
"Next": "NextState"
}
```
*   **Dinamik Bekleme**: **`SecondsPath`** veya **`TimestampPath`** kullanarak girdiye dayalÄ±.

```json
"WaitState": {
"Type": "Wait",
"TimestampPath": "$.expirydate",
"Next": "NextState"
}
```

### Parallel

Bir **Parallel** durumu, iÅŸ akÄ±ÅŸÄ±nÄ±z iÃ§inde birden fazla gÃ¶rev dalÄ±nÄ± eÅŸzamanlÄ± olarak yÃ¼rÃ¼tmenizi saÄŸlar. Her dal baÄŸÄ±msÄ±z olarak Ã§alÄ±ÅŸÄ±r ve kendi durum dizisini iÅŸler. YÃ¼rÃ¼tme, tÃ¼m dallar tamamlanana kadar bekler ve ardÄ±ndan bir sonraki duruma geÃ§er. Ana alanlarÄ± ÅŸunlardÄ±r:

* **Branches**: Paralel yÃ¼rÃ¼tme yollarÄ±nÄ± tanÄ±mlayan bir dizi. Her dal ayrÄ± bir durum makinesidir.
* **ResultPath**: DallarÄ±n birleÅŸik Ã§Ä±ktÄ±sÄ±nÄ± nereye (girdide) yerleÅŸtireceÄŸini tanÄ±mlar.
* **Retry and Catch**: Paralel durum iÃ§in hata iÅŸleme yapÄ±landÄ±rmalarÄ±.
```json
"ParallelState": {
"Type": "Parallel",
"Branches": [
{
"StartAt": "Task1",
"States": { ... }
},
{
"StartAt": "Task2",
"States": { ... }
}
],
"Next": "NextState"
}
```
### Harita

Bir **Map** durumu, bir veri kÃ¼mesindeki her Ã¶ÄŸe iÃ§in bir dizi adÄ±mÄ±n yÃ¼rÃ¼tÃ¼lmesini saÄŸlar. Verilerin paralel iÅŸlenmesi iÃ§in kullanÄ±lÄ±r. Veri kÃ¼mesindeki Ã¶ÄŸeleri nasÄ±l iÅŸlemek istediÄŸinize baÄŸlÄ± olarak, Step Functions aÅŸaÄŸÄ±daki modlarÄ± sunar:

*   **Inline Modu**: Her JSON dizi Ã¶ÄŸesi iÃ§in bir alt kÃ¼me durumu yÃ¼rÃ¼tÃ¼r. 40'tan az paralel yineleme ile kÃ¼Ã§Ã¼k Ã¶lÃ§ekli gÃ¶revler iÃ§in uygundur ve bunlarÄ±n her birini **`Map`** durumunu iÃ§eren iÅŸ akÄ±ÅŸÄ±nÄ±n baÄŸlamÄ±nda Ã§alÄ±ÅŸtÄ±rÄ±r.

```json
"MapState": {
"Type": "Map",
"ItemsPath": "$.arrayItems",
"ItemProcessor": {
"ProcessorConfig": {
"Mode": "INLINE"
},
"StartAt": "AddState",
"States": {
"AddState": {
"Type": "Task",
"Resource": "arn:aws:states:::lambda:invoke",
"OutputPath": "$.Payload",
"Parameters": {
"FunctionName": "arn:aws:lambda:<region>:<account-id>:function:add-function"
},
"End": true
}
}
},
"End": true
"ResultPath": "$.detail.added",
"ItemsPath": "$.added"
}
```
*   **DaÄŸÄ±tÄ±lmÄ±ÅŸ Mod**: YÃ¼ksek eÅŸzamanlÄ±lÄ±k ile bÃ¼yÃ¼k Ã¶lÃ§ekli paralel iÅŸleme iÃ§in tasarlanmÄ±ÅŸtÄ±r. Amazon S3'te depolanan bÃ¼yÃ¼k veri kÃ¼melerini iÅŸleme desteÄŸi sunar ve 10,000'e kadar paralel Ã§ocuk iÅŸ akÄ±ÅŸÄ± yÃ¼rÃ¼tmelerinin yÃ¼ksek eÅŸzamanlÄ±lÄ±ÄŸÄ±nÄ± saÄŸlar, bu Ã§ocuklarÄ± ayrÄ± bir Ã§ocuk yÃ¼rÃ¼tmesi olarak Ã§alÄ±ÅŸtÄ±rÄ±r.

```json
"DistributedMapState": {
"Type": "Map",
"ItemReader": {
"Resource": "arn:aws:states:::s3:getObject",
"Parameters": {
"Bucket": "my-bucket",
"Key": "data.csv"
}
},
"ItemProcessor": {
"ProcessorConfig": {
"Mode": "DISTRIBUTED",
"ExecutionType": "EXPRESS"
},
"StartAt": "ProcessItem",
"States": {
"ProcessItem": {
"Type": "Task",
"Resource": "arn:aws:lambda:region:account-id:function:my-function",
"End": true
}
}
},
"End": true
"ResultWriter": {
"Resource": "arn:aws:states:::s3:putObject",
"Parameters": {
"Bucket": "myOutputBucket",
"Prefix": "csvProcessJobs"
}
}
}
```

### SÃ¼rÃ¼mler ve takma adlar

Step Functions, iÅŸ akÄ±ÅŸÄ± daÄŸÄ±tÄ±mlarÄ±nÄ± **sÃ¼rÃ¼mler** ve **takma adlar** aracÄ±lÄ±ÄŸÄ±yla yÃ¶netmenizi saÄŸlar. Bir sÃ¼rÃ¼m, yÃ¼rÃ¼tÃ¼lebilen bir durum makinesinin anlÄ±k gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ temsil eder. Takma adlar, bir durum makinesinin en fazla iki sÃ¼rÃ¼mÃ¼ne iÅŸaret eder.

* **SÃ¼rÃ¼mler**: Bu deÄŸiÅŸtirilemez durum makinesi anlÄ±k gÃ¶rÃ¼ntÃ¼leri, o durum makinesinin en son revizyonundan oluÅŸturulur. Her sÃ¼rÃ¼m, durum makinesi ARN'si ile sÃ¼rÃ¼m numarasÄ±nÄ± birleÅŸtiren benzersiz bir ARN ile tanÄ±mlanÄ±r ve iki nokta (**) ile ayrÄ±lÄ±r (**`arn:aws:states:region:account-id:stateMachine:StateMachineName:version-number`**). SÃ¼rÃ¼mler dÃ¼zenlenemez, ancak durum makinesini gÃ¼ncelleyebilir ve yeni bir sÃ¼rÃ¼m yayÄ±nlayabilir veya istenen durum makinesi sÃ¼rÃ¼mÃ¼nÃ¼ kullanabilirsiniz.
* **Takma Adlar**: Bu iÅŸaretÃ§iler, aynÄ± durum makinesinin en fazla iki sÃ¼rÃ¼mÃ¼ne atÄ±fta bulunabilir. Tek bir durum makinesi iÃ§in birden fazla takma ad oluÅŸturulabilir ve her biri, durum makinesi ARN'si ile takma ad adÄ±nÄ± birleÅŸtirerek oluÅŸturulan benzersiz bir ARN ile tanÄ±mlanÄ±r, iki nokta ile ayrÄ±lÄ±r (**`arn:aws:states:region:account-id:stateMachine:StateMachineName:aliasName`**). Takma adlar, bir durum makinesinin iki sÃ¼rÃ¼mÃ¼nden birine trafik yÃ¶nlendirmeyi saÄŸlar. Alternatif olarak, bir takma ad, durum makinesinin tek bir belirli sÃ¼rÃ¼mÃ¼ne iÅŸaret edebilir, ancak diÄŸer takma adlara iÅŸaret edemez. Gerekirse, durum makinesinin farklÄ± bir sÃ¼rÃ¼mÃ¼ne yÃ¶nlendirmek iÃ§in gÃ¼ncellenebilir, bu da kontrollÃ¼ daÄŸÄ±tÄ±mlarÄ± ve iÅŸ akÄ±ÅŸÄ± yÃ¶netimini kolaylaÅŸtÄ±rÄ±r.

**ASL** hakkÄ±nda daha ayrÄ±ntÄ±lÄ± bilgi iÃ§in: [**Amazon States Language**](https://states-language.net/spec.html) adresini kontrol edin.

## Durum Makineleri iÃ§in IAM Rolleri

AWS Step Functions, durum makineleri iÃ§indeki kaynaklara ve eylemlere eriÅŸimi kontrol etmek iÃ§in AWS Kimlik ve EriÅŸim YÃ¶netimi (IAM) rollerini kullanÄ±r. AWS Step Functions'daki gÃ¼venlik ve IAM rolleri ile ilgili anahtar noktalar ÅŸunlardÄ±r:

* **YÃ¼rÃ¼tme RolÃ¼**: AWS Step Functions'daki her durum makinesi bir IAM yÃ¼rÃ¼tme rolÃ¼ ile iliÅŸkilidir. Bu rol, durum makinesinin sizin adÄ±nÄ±za hangi eylemleri gerÃ§ekleÅŸtirebileceÄŸini tanÄ±mlar. Bir durum makinesi, AWS hizmetleriyle etkileÅŸime giren durumlar arasÄ±nda geÃ§iÅŸ yaptÄ±ÄŸÄ±nda (Ã¶rneÄŸin, Lambda iÅŸlevlerini Ã§aÄŸÄ±rma, DynamoDB'ye eriÅŸme vb.), bu eylemleri gerÃ§ekleÅŸtirmek iÃ§in bu yÃ¼rÃ¼tme rolÃ¼nÃ¼ Ã¼stlenir.
* **Ä°zinler**: IAM yÃ¼rÃ¼tme rolÃ¼, diÄŸer AWS hizmetlerinde gerekli eylemleri gerÃ§ekleÅŸtirmeye izin veren izinlerle yapÄ±landÄ±rÄ±lmalÄ±dÄ±r. Ã–rneÄŸin, durum makineniz AWS Lambda iÅŸlevlerini Ã§aÄŸÄ±rmasÄ± gerekiyorsa, IAM rolÃ¼nÃ¼n **`lambda:InvokeFunction`** izinlerine sahip olmasÄ± gerekir. Benzer ÅŸekilde, DynamoDB'ye yazmasÄ± gerekiyorsa, uygun izinler (**`dynamodb:PutItem`**, **`dynamodb:UpdateItem`** vb.) verilmelidir.

## SayÄ±m

ReadOnlyAccess politikasÄ±, aÅŸaÄŸÄ±daki tÃ¼m sayÄ±m eylemleri iÃ§in yeterlidir.
```bash
# State machines #

## List state machines
aws stepfunctions list-state-machines
## Retrieve informatio about the specified state machine
aws stepfunctions describe-state-machine --state-machine-arn <value>

## List versions for the specified state machine
aws stepfunctions list-state-machine-versions --state-machine-arn <value>
## List aliases for the specified state machine
aws stepfunctions list-state-machine-aliases --state-machine-arn <value>
## Retrieve information about the specified state machine alias
aws stepfunctions describe-state-machine-alias --state-machine-alias-arn <value>

## List executions of a state machine
aws stepfunctions list-executions --state-machine-arn <value> [--status-filter <RUNNING | SUCCEEDED | FAILED | TIMED_OUT | ABORTED | PENDING_REDRIVE>] [--redrive-filter <REDRIVEN | NOT_REDRIVEN>]
## Retrieve information and relevant metadata about a state machine execution (output included)
aws stepfunctions describe-execution --execution-arn <value>
## Retrieve information about the state machine associated to the specified execution
aws stepfunctions describe-state-machine-for-execution --execution-arn <value>
## Retrieve the history of the specified execution as a list of events
aws stepfunctions get-execution-history --execution-arn <value> [--reverse-order | --no-reverse-order] [--include-execution-data | --no-include-execution-data]

## List tags for the specified step Functions resource
aws stepfunctions list-tags-for-resource --resource-arn <value>

## Validate the definition of a state machine without creating the resource
aws stepfunctions validate-state-machine-definition --definition <value> [--type <STANDARD | EXPRESS>]

# Activities #

## List existing activities
aws stepfunctions list-activities
## Retrieve information about the specified activity
aws stepfunctions describe-activity --activity-arn <value>

# Map Runs #

## List map runs of an execution
aws stepfunctions list-map-runs --execution-arn <value>
## Provide information about the configuration, progress and results of a Map Run
aws stepfunctions describe-map-run --map-run-arn <value>
## Lists executions of a Map Run
aws stepfunctions list-executions --map-run-arn <value> [--status-filter <RUNNING | SUCCEEDED | FAILED | TIMED_OUT | ABORTED | PENDING_REDRIVE>] [--redrive-filter <REDRIVEN | NOT_REDRIVEN>]
```
## Privesc

AÅŸaÄŸÄ±daki sayfada, **Step Functions izinlerini kÃ¶tÃ¼ye kullanarak ayrÄ±calÄ±klarÄ± artÄ±rmayÄ±** kontrol edebilirsiniz:

{% content-ref url="../aws-privilege-escalation/aws-stepfunctions-privesc.md" %}
[aws-stepfunctions-privesc.md](../aws-privilege-escalation/aws-stepfunctions-privesc.md)
{% endcontent-ref %}

## Post Exploitation

{% content-ref url="../aws-post-exploitation/aws-stepfunctions-post-exploitation.md" %}
[aws-stepfunctions-post-exploitation.md](../aws-post-exploitation/aws-stepfunctions-post-exploitation.md)
{% endcontent-ref %}

## Persistence

{% content-ref url="../aws-persistence/aws-step-functions-persistence.md" %}
[aws-step-functions-persistence.md](../aws-persistence/aws-step-functions-persistence.md)
{% endcontent-ref %}

## References

* [https://docs.aws.amazon.com/service-authorization/latest/reference/list\_awsstepfunctions.html](https://docs.aws.amazon.com/service-authorization/latest/reference/list_awsstepfunctions.html)
* [https://docs.aws.amazon.com/step-functions/latest/dg/welcome.html](https://docs.aws.amazon.com/step-functions/latest/dg/welcome.html)
* [https://states-language.net/spec.html](https://states-language.net/spec.html)

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**'i takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.**

</details>
{% endhint %}
