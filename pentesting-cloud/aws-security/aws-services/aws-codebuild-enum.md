# AWS - Codebuild Enum

{% hint style="success" %}
AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCPãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹</summary>

* [**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼
* **ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**Telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚**
* **ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€[**HackTricks**](https://github.com/carlospolop/hacktricks)ãŠã‚ˆã³[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãã ã•ã„ã€‚**

</details>
{% endhint %}

## CodeBuild

AWS **CodeBuild**ã¯**å®Œå…¨ã«ç®¡ç†ã•ã‚ŒãŸç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚µãƒ¼ãƒ“ã‚¹**ã¨ã—ã¦èªè­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã®ã‚µãƒ¼ãƒ“ã‚¹ã®ä¸»ãªç›®çš„ã¯ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã€ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œã€ãŠã‚ˆã³ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆç”¨ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä½œæˆã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’è‡ªå‹•åŒ–ã™ã‚‹ã“ã¨ã§ã™ã€‚CodeBuildãŒæä¾›ã™ã‚‹ä¸»ãªåˆ©ç‚¹ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ“ãƒ«ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã‚’ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ã€ç®¡ç†ã€ã‚¹ã‚±ãƒ¼ãƒ«ã™ã‚‹å¿…è¦ã‚’è»½æ¸›ã™ã‚‹èƒ½åŠ›ã«ã‚ã‚Šã¾ã™ã€‚ã“ã®ä¾¿åˆ©ã•ã¯ã€ã‚µãƒ¼ãƒ“ã‚¹è‡ªä½“ãŒã“ã‚Œã‚‰ã®ã‚¿ã‚¹ã‚¯ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã§ã™ã€‚AWS CodeBuildã®é‡è¦ãªæ©Ÿèƒ½ã«ã¯ä»¥ä¸‹ãŒå«ã¾ã‚Œã¾ã™ï¼š

1. **ç®¡ç†ã•ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹**ï¼šCodeBuildã¯ãƒ“ãƒ«ãƒ‰ã‚µãƒ¼ãƒãƒ¼ã‚’ç®¡ç†ãŠã‚ˆã³ã‚¹ã‚±ãƒ¼ãƒ«ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ã‚µãƒ¼ãƒãƒ¼ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‹ã‚‰è§£æ”¾ã—ã¾ã™ã€‚
2. **ç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**ï¼šé–‹ç™ºãŠã‚ˆã³ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¨çµ±åˆã—ã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹ã®ãƒ“ãƒ«ãƒ‰ãŠã‚ˆã³ãƒ†ã‚¹ãƒˆãƒ•ã‚§ãƒ¼ã‚ºã‚’è‡ªå‹•åŒ–ã—ã¾ã™ã€‚
3. **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç”Ÿæˆ**ï¼šãƒ“ãƒ«ãƒ‰ãŠã‚ˆã³ãƒ†ã‚¹ãƒˆãƒ•ã‚§ãƒ¼ã‚ºã®å¾Œã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æº–å‚™ã—ã€ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã®æº–å‚™ã‚’æ•´ãˆã¾ã™ã€‚

AWS CodeBuildã¯ä»–ã®AWSã‚µãƒ¼ãƒ“ã‚¹ã¨ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«çµ±åˆã•ã‚Œã€CI/CDï¼ˆç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³/ç¶™ç¶šçš„ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆï¼‰ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®åŠ¹ç‡ã¨ä¿¡é ¼æ€§ã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚

### **Github/Gitlab/Bitbucketã®è³‡æ ¼æƒ…å ±**

#### **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚½ãƒ¼ã‚¹è³‡æ ¼æƒ…å ±**

ã“ã‚Œã¯ã€ã„ãã¤ã‹ã®**ã‚¢ã‚¯ã‚»ã‚¹**ï¼ˆGithubãƒˆãƒ¼ã‚¯ãƒ³ã‚„ã‚¢ãƒ—ãƒªãªã©ï¼‰ã‚’æ§‹æˆã§ãã‚‹ãƒ¬ã‚¬ã‚·ãƒ¼ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã‚ã‚Šã€ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã“ã®æ§‹æˆã•ã‚ŒãŸè³‡æ ¼æƒ…å ±ã‚»ãƒƒãƒˆã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«**codebuildãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–“ã§å…±æœ‰ã•ã‚Œã¾ã™**ã€‚

ä¿å­˜ã•ã‚ŒãŸè³‡æ ¼æƒ…å ±ï¼ˆãƒˆãƒ¼ã‚¯ãƒ³ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰...ï¼‰ã¯**codebuildã«ã‚ˆã£ã¦ç®¡ç†ã•ã‚Œ**ã€AWS APIã‹ã‚‰ãã‚Œã‚‰ã‚’å–å¾—ã™ã‚‹å…¬çš„ãªæ–¹æ³•ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

#### ã‚«ã‚¹ã‚¿ãƒ ã‚½ãƒ¼ã‚¹è³‡æ ¼æƒ…å ±

ãƒªãƒã‚¸ãƒˆãƒªãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ï¼ˆGithubã€Gitlabã€Bitbucketï¼‰ã«å¿œã˜ã¦ã€ç•°ãªã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒæä¾›ã•ã‚Œã¾ã™ã€‚ã—ã‹ã—ä¸€èˆ¬çš„ã«ã€**ãƒˆãƒ¼ã‚¯ãƒ³ã‚„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ä¿å­˜ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã«ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã¨ã—ã¦ä¿å­˜ã•ã‚Œã¾ã™**ã€‚

ã“ã‚Œã«ã‚ˆã‚Šã€**ç•°ãªã‚‹codebuildãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒç•°ãªã‚‹æ§‹æˆã•ã‚ŒãŸã‚¢ã‚¯ã‚»ã‚¹ã‚’ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã«ä½¿ç”¨ã§ãã‚‹**ã‚ˆã†ã«ãªã‚Šã€å˜ã«æ§‹æˆã•ã‚ŒãŸãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚‚ã®ã‚’ä½¿ç”¨ã™ã‚‹ã®ã§ã¯ãªããªã‚Šã¾ã™ã€‚

### åˆ—æŒ™
```bash
# List external repo creds (such as github tokens)
## It doesn't return the token but just the ARN where it's located
aws codebuild list-source-credentials

# Projects
aws codebuild list-shared-projects
aws codebuild list-projects
aws codebuild batch-get-projects --names <project_name> # Check for creds in env vars

# Builds
aws codebuild list-builds
aws codebuild list-builds-for-project --project-name <p_name>
aws codebuild list-build-batches
aws codebuild list-build-batches-for-project --project-name <p_name>

# Reports
aws codebuild list-reports
aws codebuild describe-test-cases --report-arn <ARN>
```
### Privesc

æ¬¡ã®ãƒšãƒ¼ã‚¸ã§ã¯ã€**codebuildã®æ¨©é™ã‚’æ‚ªç”¨ã—ã¦ç‰¹æ¨©ã‚’æ˜‡æ ¼ã•ã›ã‚‹æ–¹æ³•**ã‚’ç¢ºèªã§ãã¾ã™ï¼š

{% content-ref url="../aws-privilege-escalation/aws-codebuild-privesc.md" %}
[aws-codebuild-privesc.md](../aws-privilege-escalation/aws-codebuild-privesc.md)
{% endcontent-ref %}

### Post Exploitation

{% content-ref url="../aws-post-exploitation/aws-codebuild-post-exploitation/" %}
[aws-codebuild-post-exploitation](../aws-post-exploitation/aws-codebuild-post-exploitation/)
{% endcontent-ref %}

### Unauthenticated Access

{% content-ref url="../aws-unauthenticated-enum-access/aws-codebuild-unauthenticated-access.md" %}
[aws-codebuild-unauthenticated-access.md](../aws-unauthenticated-enum-access/aws-codebuild-unauthenticated-access.md)
{% endcontent-ref %}

## References

* [https://docs.aws.amazon.com/managedservices/latest/userguide/code-build.html](https://docs.aws.amazon.com/managedservices/latest/userguide/code-build.html)

{% hint style="success" %}
AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCPãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹</summary>

* [**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼
* **ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**Telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks)ãŠã‚ˆã³[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’æå‡ºã—ã¦ãƒãƒƒã‚­ãƒ³ã‚°ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã—ã¦ãã ã•ã„ã€‚**

</details>
{% endhint %}
