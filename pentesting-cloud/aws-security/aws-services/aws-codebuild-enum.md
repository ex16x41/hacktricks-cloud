# AWS - Codebuild Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## CodeBuild

AWS **CodeBuild** αναγνωρίζεται ως μια **πλήρως διαχειριζόμενη υπηρεσία συνεχούς ολοκλήρωσης**. Ο κύριος σκοπός αυτής της υπηρεσίας είναι να αυτοματοποιήσει τη διαδικασία της μεταγλώττισης του πηγαίου κώδικα, της εκτέλεσης δοκιμών και της συσκευασίας του λογισμικού για σκοπούς ανάπτυξης. Το κυριότερο πλεονέκτημα που προσφέρει το CodeBuild είναι η ικανότητά του να απαλλάσσει τους χρήστες από την ανάγκη να προμηθεύονται, να διαχειρίζονται και να κλιμακώνουν τους διακομιστές κατασκευής τους. Αυτή η ευκολία προκύπτει από το γεγονός ότι η υπηρεσία διαχειρίζεται αυτές τις εργασίες. Ορισμένα βασικά χαρακτηριστικά του AWS CodeBuild περιλαμβάνουν:

1. **Διαχειριζόμενη Υπηρεσία**: Το CodeBuild διαχειρίζεται και κλιμακώνει τους διακομιστές κατασκευής, απελευθερώνοντας τους χρήστες από τη συντήρηση διακομιστών.
2. **Συνεχής Ολοκλήρωση**: Ενσωματώνεται με τη ροή εργασίας ανάπτυξης και ανάπτυξης, αυτοματοποιώντας τις φάσεις κατασκευής και δοκιμών της διαδικασίας κυκλοφορίας λογισμικού.
3. **Παραγωγή Πακέτων**: Μετά τις φάσεις κατασκευής και δοκιμών, προετοιμάζει τα πακέτα λογισμικού, καθιστώντας τα έτοιμα για ανάπτυξη.

Το AWS CodeBuild ενσωματώνεται απρόσκοπτα με άλλες υπηρεσίες AWS, ενισχύοντας την αποδοτικότητα και την αξιοπιστία της ροής CI/CD (Συνεχής Ολοκλήρωση/Συνεχής Ανάπτυξη).

### **Github/Gitlab/Bitbucket Credentials**

#### **Προεπιλεγμένα διαπιστευτήρια πηγής**

Αυτή είναι η κληρονομική επιλογή όπου είναι δυνατόν να ρυθμιστούν κάποια **πρόσβαση** (όπως ένα token Github ή εφαρμογή) που θα είναι **κοινά σε όλα τα έργα codebuild** ώστε όλα τα έργα να μπορούν να χρησιμοποιούν αυτό το ρυθμισμένο σύνολο διαπιστευτηρίων.

Τα αποθηκευμένα διαπιστευτήρια (tokens, κωδικοί πρόσβασης...) είναι **διαχειριζόμενα από το codebuild** και δεν υπάρχει δημόσιος τρόπος να ανακτηθούν από τα AWS APIs.

#### Προσαρμοσμένο διαπιστευτήριο πηγής

Ανάλογα με την πλατφόρμα αποθετηρίου (Github, Gitlab και Bitbucket) παρέχονται διαφορετικές επιλογές. Αλλά γενικά, οποιαδήποτε επιλογή απαιτεί να **αποθηκεύσει ένα token ή έναν κωδικό πρόσβασης θα το αποθηκεύσει ως μυστικό στον διαχειριστή μυστικών**.

Αυτό επιτρέπει **διαφορετικά έργα codebuild να χρησιμοποιούν διαφορετικές ρυθμισμένες προσβάσεις** στους παρόχους αντί να χρησιμοποιούν απλώς την προεπιλεγμένη ρυθμισμένη. 

### Enumeration
```bash
# List external repo creds (such as github tokens)
## It doesn't return the token but just the ARN where it's located
aws codebuild list-source-credentials

# Projects
aws codebuild list-shared-projects
aws codebuild list-projects
aws codebuild batch-get-projects --names <project_name> # Check for creds in env vars

# Builds
aws codebuild list-builds
aws codebuild list-builds-for-project --project-name <p_name>
aws codebuild list-build-batches
aws codebuild list-build-batches-for-project --project-name <p_name>

# Reports
aws codebuild list-reports
aws codebuild describe-test-cases --report-arn <ARN>
```
### Privesc

In the following page, you can check how to **καταχραστείτε τις άδειες του codebuild για να κλιμακώσετε τα δικαιώματα**:

{% content-ref url="../aws-privilege-escalation/aws-codebuild-privesc.md" %}
[aws-codebuild-privesc.md](../aws-privilege-escalation/aws-codebuild-privesc.md)
{% endcontent-ref %}

### Post Exploitation

{% content-ref url="../aws-post-exploitation/aws-codebuild-post-exploitation/" %}
[aws-codebuild-post-exploitation](../aws-post-exploitation/aws-codebuild-post-exploitation/)
{% endcontent-ref %}

### Unauthenticated Access

{% content-ref url="../aws-unauthenticated-enum-access/aws-codebuild-unauthenticated-access.md" %}
[aws-codebuild-unauthenticated-access.md](../aws-unauthenticated-enum-access/aws-codebuild-unauthenticated-access.md)
{% endcontent-ref %}

## References

* [https://docs.aws.amazon.com/managedservices/latest/userguide/code-build.html](https://docs.aws.amazon.com/managedservices/latest/userguide/code-build.html)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
