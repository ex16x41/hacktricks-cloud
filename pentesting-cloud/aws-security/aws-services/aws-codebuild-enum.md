# AWS - Codebuild Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the**  [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## CodeBuild

AWS **CodeBuild** jest uznawany za **w peni zarzdzan usug cigej integracji**. G贸wnym celem tej usugi jest automatyzacja sekwencji kompilacji kodu 藕r贸dowego, wykonywania test贸w i pakowania oprogramowania do cel贸w wdro偶eniowych. G贸wn korzyci oferowan przez CodeBuild jest jego zdolno do uwolnienia u偶ytkownik贸w od potrzeby provisionowania, zarzdzania i skalowania serwer贸w budowlanych. Ta wygoda wynika z faktu, 偶e sama usuga zarzdza tymi zadaniami. Kluczowe funkcje AWS CodeBuild obejmuj:

1. **Zarzdzana usuga**: CodeBuild zarzdza i skaluje serwery budowlane, uwalniajc u偶ytkownik贸w od konserwacji serwer贸w.
2. **Ciga integracja**: Integruje si z przepywem pracy rozwoju i wdro偶enia, automatyzujc etapy budowy i testowania procesu wydania oprogramowania.
3. **Produkcja pakiet贸w**: Po etapach budowy i testowania przygotowuje pakiety oprogramowania, czynic je gotowymi do wdro偶enia.

AWS CodeBuild bezproblemowo integruje si z innymi usugami AWS, zwikszajc efektywno i niezawodno pipeline'u CI/CD (Ciga Integracja/Cige Wdro偶enie).

### **Github/Gitlab/Bitbucket Credentials**

#### **Domylne powiadczenia 藕r贸dowe**

To jest opcja dziedziczona, w kt贸rej mo偶liwe jest skonfigurowanie pewnych **dostp贸w** (jak token Github lub aplikacja), kt贸re bd **dzielone midzy projektami codebuild**, aby wszystkie projekty mogy korzysta z tej skonfigurowanej grupy powiadcze.

Przechowywane powiadczenia (tokeny, hasa...) s **zarzdzane przez codebuild** i nie ma publicznego sposobu na ich odzyskanie z interfejs贸w API AWS.

#### Niestandardowe powiadczenie 藕r贸dowe

W zale偶noci od platformy repozytori贸w (Github, Gitlab i Bitbucket) oferowane s r贸偶ne opcje. Ale og贸lnie, ka偶da opcja, kt贸ra wymaga **przechowywania tokena lub hasa, przechowa je jako sekret w mened偶erze sekret贸w**.

To pozwala **r贸偶nym projektom codebuild korzysta z r贸偶nych skonfigurowanych dostp贸w** do dostawc贸w zamiast korzysta tylko z skonfigurowanego domylnego. 

### Enumeration
```bash
# List external repo creds (such as github tokens)
## It doesn't return the token but just the ARN where it's located
aws codebuild list-source-credentials

# Projects
aws codebuild list-shared-projects
aws codebuild list-projects
aws codebuild batch-get-projects --names <project_name> # Check for creds in env vars

# Builds
aws codebuild list-builds
aws codebuild list-builds-for-project --project-name <p_name>
aws codebuild list-build-batches
aws codebuild list-build-batches-for-project --project-name <p_name>

# Reports
aws codebuild list-reports
aws codebuild describe-test-cases --report-arn <ARN>
```
### Privesc

Na poni偶szej stronie mo偶esz sprawdzi, jak **nadu偶y uprawnie codebuild, aby eskalowa przywileje**:

{% content-ref url="../aws-privilege-escalation/aws-codebuild-privesc.md" %}
[aws-codebuild-privesc.md](../aws-privilege-escalation/aws-codebuild-privesc.md)
{% endcontent-ref %}

### Post Exploitation

{% content-ref url="../aws-post-exploitation/aws-codebuild-post-exploitation/" %}
[aws-codebuild-post-exploitation](../aws-post-exploitation/aws-codebuild-post-exploitation/)
{% endcontent-ref %}

### Unauthenticated Access

{% content-ref url="../aws-unauthenticated-enum-access/aws-codebuild-unauthenticated-access.md" %}
[aws-codebuild-unauthenticated-access.md](../aws-unauthenticated-enum-access/aws-codebuild-unauthenticated-access.md)
{% endcontent-ref %}

## References

* [https://docs.aws.amazon.com/managedservices/latest/userguide/code-build.html](https://docs.aws.amazon.com/managedservices/latest/userguide/code-build.html)

{% hint style="success" %}
Ucz si i wicz Hacking AWS:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Ucz si i wicz Hacking GCP: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wsparcie dla HackTricks</summary>

* Sprawd藕 [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Dziel si sztuczkami hackingowymi, przesyajc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytori贸w github.

</details>
{% endhint %}
