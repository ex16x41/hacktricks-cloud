# AWS - Secrets Manager Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## AWS Secrets Manager

AWS Secrets Manager, **uygulamalarda sabit kodlanmÄ±ÅŸ gizli bilgilerin kullanÄ±mÄ±nÄ± ortadan kaldÄ±rmak iÃ§in bir API Ã§aÄŸrÄ±sÄ±yla bunlarÄ±n yerini alacak ÅŸekilde tasarlanmÄ±ÅŸtÄ±r**. Bu hizmet, **tÃ¼m gizli bilgilerin merkezi bir deposu** olarak hizmet verir ve bunlarÄ±n tÃ¼m uygulamalar arasÄ±nda eÅŸit ÅŸekilde yÃ¶netilmesini saÄŸlar.

YÃ¶netici, **gizli bilgilerin dÃ¶ndÃ¼rÃ¼lmesi sÃ¼recini basitleÅŸtirir**, veritabanÄ± kimlik bilgileri gibi hassas verilerin gÃ¼venlik duruÅŸunu Ã¶nemli Ã¶lÃ§Ã¼de iyileÅŸtirir. AyrÄ±ca, API anahtarlarÄ± gibi gizli bilgiler, lambda fonksiyonlarÄ±nÄ±n entegrasyonu ile otomatik olarak dÃ¶ndÃ¼rÃ¼lebilir.

Gizli bilgilere eriÅŸim, ayrÄ±ntÄ±lÄ± IAM kimlik tabanlÄ± politikalar ve kaynak tabanlÄ± politikalar aracÄ±lÄ±ÄŸÄ±yla sÄ±kÄ± bir ÅŸekilde kontrol edilir.

FarklÄ± bir AWS hesabÄ±ndaki bir kullanÄ±cÄ±ya gizli bilgilere eriÅŸim vermek iÃ§in:

1. KullanÄ±cÄ±nÄ±n gizli bilgiye eriÅŸimini yetkilendirin.
2. KullanÄ±cÄ±ya gizli bilgiyi KMS kullanarak ÅŸifre Ã§Ã¶zme izni verin.
3. DÄ±ÅŸ kullanÄ±cÄ±nÄ±n bunu kullanabilmesi iÃ§in Anahtar politikasÄ±nÄ± deÄŸiÅŸtirin.

**AWS Secrets Manager, gizli bilgilerinizi AWS Secrets Manager iÃ§inde ÅŸifrelemek iÃ§in AWS KMS ile entegre olur.**

### **Enumeration**
```bash
aws secretsmanager list-secrets #Get metadata of all secrets
aws secretsmanager list-secret-version-ids --secret-id <secret_name> # Get versions
aws secretsmanager describe-secret --secret-id <secret_name> # Get metadata
aws secretsmanager get-secret-value --secret-id <secret_name> # Get value
aws secretsmanager get-secret-value --secret-id <secret_name> --version-id <version-id> # Get value of a different version
aws secretsmanager get-resource-policy --secret-id --secret-id <secret_name>
```
### Privesc

{% content-ref url="../aws-privilege-escalation/aws-secrets-manager-privesc.md" %}
[aws-secrets-manager-privesc.md](../aws-privilege-escalation/aws-secrets-manager-privesc.md)
{% endcontent-ref %}

### Post Exploitation

{% content-ref url="../aws-post-exploitation/aws-secrets-manager-post-exploitation.md" %}
[aws-secrets-manager-post-exploitation.md](../aws-post-exploitation/aws-secrets-manager-post-exploitation.md)
{% endcontent-ref %}

### Persistence

{% content-ref url="../aws-persistence/aws-secrets-manager-persistence.md" %}
[aws-secrets-manager-persistence.md](../aws-persistence/aws-secrets-manager-persistence.md)
{% endcontent-ref %}

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± Ekip UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± Ekip UzmanÄ± (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'i takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}
