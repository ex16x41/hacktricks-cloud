# AWS - Secrets Manager Enum

{% hint style="success" %}
AWS Hacking Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da bizi **Twitter**'da takip edin ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **HackTricks'e PR gÃ¶ndererek hacking ipuÃ§larÄ±nÄ± paylaÅŸÄ±n** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na.

</details>
{% endhint %}

## AWS Secrets Manager

AWS Secrets Manager, **uygulamalarda sabit kodlanmÄ±ÅŸ sÄ±rlarÄ±n kullanÄ±mÄ±nÄ± ortadan kaldÄ±rarak bunlarÄ± bir API Ã§aÄŸrÄ±sÄ±yla deÄŸiÅŸtirmek** iÃ§in tasarlanmÄ±ÅŸtÄ±r. Bu hizmet, **tÃ¼m sÄ±rlarÄ±nÄ±z iÃ§in merkezi bir depo** olarak hizmet eder ve bunlarÄ±n tÃ¼m uygulamalarda tek tip yÃ¶netilmesini saÄŸlar.

YÃ¶netici, **sÄ±rlarÄ±n dÃ¶ndÃ¼rÃ¼lmesi sÃ¼recini basitleÅŸtirir**, veritabanÄ± kimlik bilgileri gibi hassas verilerin gÃ¼venlik duruÅŸunu Ã¶nemli Ã¶lÃ§Ã¼de iyileÅŸtirir. AyrÄ±ca, API anahtarlarÄ± gibi sÄ±rlar, lambda fonksiyonlarÄ±nÄ±n entegrasyonu ile otomatik olarak dÃ¶ndÃ¼rÃ¼lebilir.

SÄ±rlara eriÅŸim, ayrÄ±ntÄ±lÄ± IAM kimlik tabanlÄ± politikalar ve kaynak tabanlÄ± politikalar aracÄ±lÄ±ÄŸÄ±yla sÄ±kÄ± bir ÅŸekilde kontrol edilir.

FarklÄ± bir AWS hesabÄ±ndan bir kullanÄ±cÄ±ya sÄ±r eriÅŸimi vermek iÃ§in ÅŸunlar gereklidir:

1. KullanÄ±cÄ±yÄ± sÄ±rra eriÅŸim iÃ§in yetkilendirin.
2. KullanÄ±cÄ±ya KMS kullanarak sÄ±rrÄ± ÅŸifre Ã§Ã¶zme izni verin.
3. Anahtar politikasÄ±nÄ±, harici kullanÄ±cÄ±nÄ±n onu kullanmasÄ±na izin verecek ÅŸekilde deÄŸiÅŸtirin.

**AWS Secrets Manager, sÄ±rlarÄ±nÄ±zÄ± AWS Secrets Manager iÃ§inde ÅŸifrelemek iÃ§in AWS KMS ile entegre olur.**

### **Enumeration**
```bash
aws secretsmanager list-secrets #Get metadata of all secrets
aws secretsmanager list-secret-version-ids --secret-id <secret_name> # Get versions
aws secretsmanager describe-secret --secret-id <secret_name> # Get metadata
aws secretsmanager get-secret-value --secret-id <secret_name> # Get value
aws secretsmanager get-secret-value --secret-id <secret_name> --version-id <version-id> # Get value of a different version
aws secretsmanager get-resource-policy --secret-id --secret-id <secret_name>
```
### Privesc

{% content-ref url="../aws-privilege-escalation/aws-secrets-manager-privesc.md" %}
[aws-secrets-manager-privesc.md](../aws-privilege-escalation/aws-secrets-manager-privesc.md)
{% endcontent-ref %}

### Post Exploitation

{% content-ref url="../aws-post-exploitation/aws-secrets-manager-post-exploitation.md" %}
[aws-secrets-manager-post-exploitation.md](../aws-post-exploitation/aws-secrets-manager-post-exploitation.md)
{% endcontent-ref %}

### Persistence

{% content-ref url="../aws-persistence/aws-secrets-manager-persistence.md" %}
[aws-secrets-manager-persistence.md](../aws-persistence/aws-secrets-manager-persistence.md)
{% endcontent-ref %}

{% hint style="success" %}
AWS Hacking Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **Discord grubuna** ğŸ’¬ [**katÄ±lÄ±n**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live) **bizi takip edin.**
* **HackTricks'e PR gÃ¶ndererek hacking ipuÃ§larÄ±nÄ± paylaÅŸÄ±n** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na.

</details>
{% endhint %}
