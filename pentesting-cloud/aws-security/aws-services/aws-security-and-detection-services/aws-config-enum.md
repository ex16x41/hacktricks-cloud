# AWS - Config Enum

{% hint style="success" %}
Leer & oefen AWS Hacking:<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Leer & oefen GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kyk na die [**subskripsie planne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** ğŸ’¬ [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking truuks deur PRs in te dien na die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## AWS Config

AWS Config **vang hulpbron veranderinge**, so enige verandering aan 'n hulpbron wat deur Config ondersteun word, kan geregistreer word, wat sal **registreer wat verander het saam met ander nuttige metadata, alles gehou binne 'n lÃªer bekend as 'n konfigurasie-item**, 'n CI. Hierdie diens is **streek spesifiek**.

'n Konfigurasie-item of **CI** soos dit bekend staan, is 'n sleutelkomponent van AWS Config. Dit bestaan uit 'n JSON-lÃªer wat **die konfigurasie-inligting, verhouding-inligting en ander metadata as 'n tydstip-snapshot van 'n ondersteunde hulpbron hou**. Alle inligting wat AWS Config vir 'n hulpbron kan registreer, word binne die CI vasgevang. 'n CI word **elke keer** geskep wanneer 'n ondersteunde hulpbron 'n verandering aan sy konfigurasie maak. Benewens die registrasie van die besonderhede van die betrokke hulpbron, sal AWS Config ook CIs vir enige direk verwante hulpbronne registreer om te verseker dat die verandering nie daardie hulpbronne ook beÃ¯nvloed het nie.

* **Metadata**: Bevat besonderhede oor die konfigurasie-item self. 'n Weergawe-ID en 'n konfigurasie-ID, wat die CI uniek identifiseer. Ander inligting kan 'n MD5Hash insluit wat jou toelaat om ander CIs wat reeds teen dieselfde hulpbron geregistreer is, te vergelyk.
* **Attributen**: Dit hou algemene **attribuutinligting teen die werklike hulpbron**. Binne hierdie afdeling het ons ook 'n unieke hulpbron-ID, en enige sleutelwaarde-tags wat aan die hulpbron geassosieer is. Die hulpbron tipe word ook gelys. Byvoorbeeld, as dit 'n CI vir 'n EC2-instantie was, kan die hulpbron tipes wat gelys word die netwerkinterfase, of die elastiese IP-adres vir daardie EC2-instantie wees.
* **Verhoudings**: Dit hou inligting vir enige gekonnekteerde **verhouding wat die hulpbron mag hÃª**. So binne hierdie afdeling, sal dit 'n duidelike beskrywing van enige verhouding met ander hulpbronne wat hierdie hulpbron gehad het, toon. Byvoorbeeld, as die CI vir 'n EC2-instantie was, kan die verhouding afdeling die verbinding met 'n VPC saam met die subnet wat die EC2-instantie in woon, toon.
* **Huidige konfigurasie:** Dit sal dieselfde inligting vertoon wat gegenereer sou word as jy 'n beskrywing of lys API-oproep deur die AWS CLI sou uitvoer. AWS Config gebruik dieselfde API-oproepe om dieselfde inligting te verkry.
* **Verwante gebeurtenisse**: Dit verwys na AWS CloudTrail. Dit sal die **AWS CloudTrail gebeurtenis-ID wat verband hou met die verandering wat die skepping van hierdie CI geaktiveer het** vertoon. Daar word 'n nuwe CI gemaak vir elke verandering wat teen 'n hulpbron gemaak word. As gevolg hiervan, sal verskillende CloudTrail gebeurtenis-ID's geskep word.

**Konfigurasiegeskiedenis**: Dit is moontlik om die konfigurasiegeskiedenis van hulpbronne te verkry danksy die konfigurasie-items. 'n Konfigurasiegeskiedenis word elke 6 uur gelewer en bevat alle CI's vir 'n spesifieke hulpbron tipe.

**Konfigurasie Strome**: Konfigurasie-items word na 'n SNS Onderwerp gestuur om analise van die data moontlik te maak.

**Konfigurasie Snapshot**: Konfigurasie-items word gebruik om 'n tydstip-snapshot van alle ondersteunde hulpbronne te skep.

**S3 word gebruik om** die Konfigurasie Geskiedenis lÃªers en enige Konfigurasie snapshots van jou data binne 'n enkele emmer te stoor, wat binne die Konfigurasie-opnemer gedefinieer word. As jy verskeie AWS-rekeninge het, wil jy dalk jou konfigurasiegeskiedenis lÃªers in dieselfde S3-emmer vir jou primÃªre rekening saamvoeg. Jy sal egter skryfrechten aan hierdie diens beginsel, config.amazonaws.com, en jou sekondÃªre rekeninge met skryfrechten tot die S3-emmer in jou primÃªre rekening moet toeken.

### Funksionering

* Wanneer jy veranderinge aanbring, byvoorbeeld aan 'n sekuriteitsgroep of emmer toegangbeheerlys â€”> aktiveer as 'n Gebeurtenis wat deur AWS Config opgetel word
* Stoor alles in S3-emmer
* Afhangende van die opstelling, sodra iets verander, kan dit 'n lambda-funksie aktiveer OF 'n lambda-funksie skeduleer om periodiek deur die AWS Config instellings te kyk
* Lambda voer terug na Config
* As 'n reÃ«l oortree is, aktiveer Config 'n SNS

![](<../../../../.gitbook/assets/image (126).png>)

### Config ReÃ«ls

Config reÃ«ls is 'n uitstekende manier om jou te help **spesifieke nakomingskontroles** **en beheer oor jou hulpbronne af te dwing**, en laat jou toe om 'n ideale ontplooiingsspesifikasie vir elkeen van jou hulpbron tipes aan te neem. Elke reÃ«l **is in wese 'n lambda-funksie** wat, wanneer dit opgeroep word, die hulpbron evalueer en 'n paar eenvoudige logika uitvoer om die nakomingsresultaat met die reÃ«l te bepaal. **Elke keer as 'n verandering gemaak word** aan een van jou ondersteunde hulpbronne, **sal AWS Config die nakoming teen enige konfigurasie reÃ«ls wat jy in plek het, nagaan**.\
AWS het 'n aantal **voorgedefinieerde reÃ«ls** wat onder die sekuriteitsdak val en gereed is om te gebruik. Byvoorbeeld, Rds-storage-encrypted. Dit kyk of stoor-enkripsie geaktiveer is deur jou RDS-databasisinstansies. Encrypted-volumes. Dit kyk of enige EBS-volumes wat 'n aangehegte toestand het, geÃ«nkripteer is.

* **AWS Beheerde reÃ«ls**: Stel van voorgedefinieerde reÃ«ls wat baie beste praktyke dek, so dit is altyd die moeite werd om hierdie reÃ«ls eers te blaai voordat jy jou eie opstel, aangesien daar 'n kans is dat die reÃ«l dalk reeds bestaan.
* **Pasgemaakte reÃ«ls**: Jy kan jou eie reÃ«ls skep om spesifieke pasgemaakte konfigurasies na te gaan.

Beperking van 50 konfigurasie reÃ«ls per streek voordat jy AWS moet kontak vir 'n verhoging.\
Nie-nakomende resultate word NIE verwyder nie.

{% hint style="success" %}
Leer & oefen AWS Hacking:<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Leer & oefen GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kyk na die [**subskripsie planne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** ğŸ’¬ [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking truuks deur PRs in te dien na die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
