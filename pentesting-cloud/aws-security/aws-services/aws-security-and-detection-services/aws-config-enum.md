# AWS - Config Enum

{% hint style="success" %}
Leer en oefen AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer en oefen GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kyk na die [**intekenplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** ğŸ’¬ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-repo's.

</details>
{% endhint %}

## AWS Config

AWS Config **vang hulpbronveranderings op**, so enige verandering aan 'n hulpbron wat deur Config ondersteun word, kan opgeteken word, wat sal **aanteken wat verander het saam met ander nuttige metadata, alles gehou binne 'n lÃªer bekend as 'n konfigurasie-item**, 'n CI. Hierdie diens is **streekspesifiek**.

'n Konfigurasie-item of **CI** soos dit bekend staan, is 'n sleutelkomponent van AWS Config. Dit bestaan uit 'n JSON-lÃªer wat **die konfigurasie-inligting, verhoudingsinligting en ander metadata as 'n tydstip-oorsig van 'n ondersteunde hulpbron bevat**. Al die inligting wat AWS Config vir 'n hulpbron kan aanteken, word binne die CI vasgelÃª. 'n CI word **elke keer** geskep wanneer 'n ondersteunde hulpbron 'n verandering aan sy konfigurasie ondergaan. Benewens die aantekening van die besonderhede van die geaffekteerde hulpbron, sal AWS Config ook CI's aanteken vir enige direk verwante hulpbronne om te verseker dat die verandering nie daardie hulpbronne ook beÃ¯nvloed het nie.

* **Metadata**: Bevat besonderhede oor die konfigurasie-item self. 'n Weergawe-ID en 'n konfigurasie-ID, wat die CI uniek identifiseer. Ander inligting kan 'n MD5Hash insluit wat jou toelaat om ander CI's wat reeds aangeteken is teen dieselfde hulpbron te vergelyk.
* **Attributes**: Dit bevat algemene **eienskapsinligting teen die werklike hulpbron**. Binne hierdie afdeling het ons ook 'n unieke hulpbron-ID, en enige sleutelwaarde-etikette wat met die hulpbron geassosieer word. Die hulpbrontipe word ook gelys. Byvoorbeeld, as dit 'n CI vir 'n EC2-instansie was, kan die hulpbrontipes wat gelys word die netwerk-koppelvlak of die elastiese IP-adres vir daardie EC2-instansie wees.
* **Relationships**: Dit bevat inligting vir enige gekoppelde **verhouding wat die hulpbron mag hÃª**. So binne hierdie afdeling sal dit 'n duidelike beskrywing toon van enige verhouding met ander hulpbronne wat hierdie hulpbron gehad het. Byvoorbeeld, as die CI vir 'n EC2-instansie was, kan die verhoudingsafdeling die verbinding met 'n VPC saam met die subnet waarin die EC2-instansie geleÃ« is, toon.
* **Current configuration:** Dit sal dieselfde inligting vertoon wat gegenereer sou word as jy 'n beskrywing of lys API-oproep gemaak het deur die AWS CLI. AWS Config gebruik dieselfde API-oproepe om dieselfde inligting te kry.
* **Related events**: Dit hou verband met AWS CloudTrail. Dit sal die **AWS CloudTrail-gebeurtenis-ID vertoon wat verband hou met die verandering wat die skepping van hierdie CI veroorsaak het**. Daar is 'n nuwe CI gemaak vir elke verandering wat teen 'n hulpbron gemaak word. As gevolg hiervan sal verskillende CloudTrail-gebeurtenis-ID's geskep word.

**Configuration History**: Dit is moontlik om die konfigurasiegeskiedenis van hulpbronne te verkry danksy die konfigurasie-items. 'n Konfigurasiegeskiedenis word elke 6 uur afgelewer en bevat alle CI's vir 'n spesifieke hulpbrontipe.

**Configuration Streams**: Konfigurasie-items word na 'n SNS-onderwerp gestuur om die analise van die data moontlik te maak.

**Configuration Snapshots**: Konfigurasie-items word gebruik om 'n tydstip-oorsig van alle ondersteunde hulpbronne te skep.

**S3 word gebruik om** die Konfigurasiegeskiedenis-lÃªers en enige Konfigurasie-oorsigte van jou data binne 'n enkele emmer te stoor, wat binne die Konfigurasie-opnemer gedefinieer is. As jy verskeie AWS-rekeninge het, wil jy dalk jou konfigurasiegeskiedenis-lÃªers in dieselfde S3-emmer vir jou primÃªre rekening saamvoeg. Jy sal egter skryftoegang moet verleen vir hierdie diensbeginsel, config.amazonaws.com, en jou sekondÃªre rekeninge met skryftoegang tot die S3-emmer in jou primÃªre rekening.

### Werking

* Wanneer veranderinge gemaak word, byvoorbeeld aan sekuriteitsgroep of emmer-toegangbeheerlys â€”> stuur dit af as 'n Gebeurtenis wat deur AWS Config opgetel word
* Stoor alles in S3-emmer
* Afhangende van die opstelling, sodra iets verander, kan dit 'n lambda-funksie aktiveer OF 'n lambda-funksie skeduleer om periodiek deur die AWS Config-instellings te kyk
* Lambda voer terug na Config
* As reÃ«l gebreek is, aktiveer Config 'n SNS

![](<../../../../.gitbook/assets/image (126).png>)

### Config Rules

Config-reÃ«ls is 'n uitstekende manier om jou te help **spesifieke nakomingskontroles en -beheer oor jou hulpbronne af te dwing**, en laat jou toe om 'n ideale implementeringspesifikasie vir elk van jou hulpbrontipes aan te neem. Elke reÃ«l **is in wese 'n lambda-funksie** wat, wanneer dit opgeroep word, die hulpbron evalueer en eenvoudige logika uitvoer om die nakomingsresultaat met die reÃ«l te bepaal. **Elke keer as 'n verandering gemaak word** aan een van jou ondersteunde hulpbronne, **sal AWS Config die nakoming teen enige config-reÃ«ls wat jy in plek het, nagaan**.\
AWS het 'n aantal **voorgedefinieerde reÃ«ls** wat onder die sekuriteitsambrella val wat gereed is om te gebruik. Byvoorbeeld, Rds-storage-encrypted. Dit kontroleer of stoor-enkripsie geaktiveer is deur jou RDS-databasisinstansies. Encrypted-volumes. Dit kontroleer of enige EBS-volumes wat 'n gekoppelde toestand het, geÃ«nkripteer is.

* **AWS Managed rules**: Stel voorgedefinieerde reÃ«ls wat baie beste praktyke dek, so dit is altyd die moeite werd om hierdie reÃ«ls eers deur te blaai voordat jy jou eie opstel, aangesien daar 'n kans is dat die reÃ«l reeds bestaan.
* **Custom rules**: Jy kan jou eie reÃ«ls skep om spesifieke pasgemaakte konfigurasies na te gaan.

Beperking van 50 config-reÃ«ls per streek voordat jy AWS moet kontak vir 'n verhoging.\
Nie-nakomende resultate word NIE uitgevee nie.

{% hint style="success" %}
Leer en oefen AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Leer en oefen GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Ondersteun HackTricks</summary>

* Kyk na die [**intekenplanne**](https://github.com/sponsors/carlospolop)!
* **Sluit aan by die** ğŸ’¬ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel hacking-truuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-repo's.

</details>
{% endhint %}
