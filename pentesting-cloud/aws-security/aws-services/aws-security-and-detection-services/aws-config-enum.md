# AWS - Config Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## AWS Config

AWS Config **kaynak deÄŸiÅŸikliklerini yakalar**, bu nedenle Config tarafÄ±ndan desteklenen bir kaynaÄŸa yapÄ±lan herhangi bir deÄŸiÅŸiklik kaydedilebilir, bu da **ne deÄŸiÅŸtiÄŸini ve diÄŸer yararlÄ± meta verileri kaydeder, hepsi yapÄ±landÄ±rma Ã¶ÄŸesi olarak bilinen bir dosya iÃ§inde tutulur**, bir CI. Bu hizmet **bÃ¶lgeye Ã¶zgÃ¼dÃ¼r**.

Bir yapÄ±landÄ±rma Ã¶ÄŸesi veya **CI** olarak bilinir, AWS Config'in ana bileÅŸenidir. **YapÄ±landÄ±rma bilgilerini, iliÅŸki bilgilerini ve desteklenen bir kaynaÄŸÄ±n anlÄ±k gÃ¶rÃ¼ntÃ¼ gÃ¶rÃ¼nÃ¼mÃ¼ olarak diÄŸer meta verileri iÃ§eren bir JSON dosyasÄ±ndan oluÅŸur**. AWS Config'in bir kaynak iÃ§in kaydedebileceÄŸi tÃ¼m bilgiler CI iÃ§inde yakalanÄ±r. Bir CI, desteklenen bir kaynaÄŸÄ±n yapÄ±landÄ±rmasÄ±nda herhangi bir ÅŸekilde bir deÄŸiÅŸiklik yapÄ±ldÄ±ÄŸÄ±nda **her seferinde** oluÅŸturulur. Etkilenen kaynaÄŸÄ±n ayrÄ±ntÄ±larÄ±nÄ± kaydetmenin yanÄ± sÄ±ra, AWS Config, deÄŸiÅŸikliÄŸin bu kaynaklarÄ± da etkilemediÄŸinden emin olmak iÃ§in doÄŸrudan iliÅŸkili kaynaklar iÃ§in de CI'ler kaydeder.

* **Metadata**: YapÄ±landÄ±rma Ã¶ÄŸesinin kendisi hakkÄ±nda ayrÄ±ntÄ±lar iÃ§erir. Bir sÃ¼rÃ¼m kimliÄŸi ve CI'yi benzersiz ÅŸekilde tanÄ±mlayan bir yapÄ±landÄ±rma kimliÄŸi. DiÄŸer bilgiler, aynÄ± kaynaÄŸa karÅŸÄ± zaten kaydedilmiÅŸ diÄŸer CI'leri karÅŸÄ±laÅŸtÄ±rmanÄ±za olanak tanÄ±yan bir MD5Hash iÃ§erebilir.
* **Attributes**: Bu, **gerÃ§ek kaynaÄŸa karÅŸÄ± ortak Ã¶znitelik bilgilerini** tutar. Bu bÃ¶lÃ¼mde, ayrÄ±ca benzersiz bir kaynak kimliÄŸi ve kaynaÄŸa baÄŸlÄ± herhangi bir anahtar deÄŸer etiketi bulunur. Kaynak tÃ¼rÃ¼ de listelenir. Ã–rneÄŸin, bu bir EC2 Ã¶rneÄŸi iÃ§in bir CI ise, listelenen kaynak tÃ¼rleri aÄŸ arayÃ¼zÃ¼ veya bu EC2 Ã¶rneÄŸi iÃ§in elastik IP adresi olabilir.
* **Relationships**: Bu, kaynaÄŸÄ±n sahip olabileceÄŸi **herhangi bir baÄŸlantÄ±lÄ± iliÅŸki iÃ§in bilgi tutar**. Bu bÃ¶lÃ¼mde, bu kaynaÄŸÄ±n sahip olduÄŸu diÄŸer kaynaklarla olan herhangi bir iliÅŸkinin aÃ§Ä±k bir aÃ§Ä±klamasÄ±nÄ± gÃ¶sterir. Ã–rneÄŸin, CI bir EC2 Ã¶rneÄŸi iÃ§inse, iliÅŸki bÃ¶lÃ¼mÃ¼ EC2 Ã¶rneÄŸinin bulunduÄŸu VPC ve alt aÄŸ ile baÄŸlantÄ±yÄ± gÃ¶sterebilir.
* **Current configuration:** Bu, AWS CLI tarafÄ±ndan yapÄ±lan bir describe veya list API Ã§aÄŸrÄ±sÄ± yapÄ±ldÄ±ÄŸÄ±nda oluÅŸturulacak aynÄ± bilgileri gÃ¶rÃ¼ntÃ¼ler. AWS Config, aynÄ± bilgileri almak iÃ§in aynÄ± API Ã§aÄŸrÄ±larÄ±nÄ± kullanÄ±r.
* **Related events**: Bu, AWS CloudTrail ile ilgilidir. Bu, **bu CI'nin oluÅŸturulmasÄ±nÄ± tetikleyen deÄŸiÅŸiklikle ilgili AWS CloudTrail olay kimliÄŸini** gÃ¶rÃ¼ntÃ¼ler. Bir kaynaÄŸa yapÄ±lan her deÄŸiÅŸiklik iÃ§in yeni bir CI oluÅŸturulur. SonuÃ§ olarak, farklÄ± CloudTrail olay kimlikleri oluÅŸturulacaktÄ±r.

**Configuration History**: YapÄ±landÄ±rma Ã¶ÄŸeleri sayesinde kaynaklarÄ±n yapÄ±landÄ±rma geÃ§miÅŸini elde etmek mÃ¼mkÃ¼ndÃ¼r. Bir yapÄ±landÄ±rma geÃ§miÅŸi her 6 saatte bir teslim edilir ve belirli bir kaynak tÃ¼rÃ¼ iÃ§in tÃ¼m CI'leri iÃ§erir.

**Configuration Streams**: YapÄ±landÄ±rma Ã¶ÄŸeleri, verilerin analizini saÄŸlamak iÃ§in bir SNS Konusuna gÃ¶nderilir.

**Configuration Snapshots**: YapÄ±landÄ±rma Ã¶ÄŸeleri, desteklenen tÃ¼m kaynaklarÄ±n belirli bir anlÄ±k gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ oluÅŸturmak iÃ§in kullanÄ±lÄ±r.

**S3,** YapÄ±landÄ±rma GeÃ§miÅŸi dosyalarÄ±nÄ± ve verilerinizin herhangi bir YapÄ±landÄ±rma anlÄ±k gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ tek bir kovada saklamak iÃ§in kullanÄ±lÄ±r, bu da YapÄ±landÄ±rma kaydedici iÃ§inde tanÄ±mlanÄ±r. Birden fazla AWS hesabÄ±nÄ±z varsa, yapÄ±landÄ±rma geÃ§miÅŸi dosyalarÄ±nÄ±zÄ± birincil hesabÄ±nÄ±zdaki aynÄ± S3 kovasÄ±na toplamak isteyebilirsiniz. Ancak, bu hizmet ilkesine, config.amazonaws.com, ve ikincil hesaplarÄ±nÄ±za birincil hesabÄ±nÄ±zdaki S3 kovasÄ±na yazma eriÅŸimi vermeniz gerekecektir.

### Functioning

* Ã–rneÄŸin gÃ¼venlik grubu veya kova eriÅŸim kontrol listesinde deÄŸiÅŸiklikler yaptÄ±ÄŸÄ±nÄ±zda â€”> AWS Config tarafÄ±ndan alÄ±nan bir Olay olarak tetiklenir
* Her ÅŸeyi S3 kovasÄ±nda saklar
* Kuruluma baÄŸlÄ± olarak, bir ÅŸey deÄŸiÅŸir deÄŸiÅŸmez bir lambda iÅŸlevini tetikleyebilir VEYA AWS Config ayarlarÄ±nÄ± periyodik olarak gÃ¶zden geÃ§irmek iÃ§in bir lambda iÅŸlevi planlayabilir
* Lambda, Config'e geri besleme yapar
* Kural ihlal edilmiÅŸse, Config bir SNS baÅŸlatÄ±r

![](<../../../../.gitbook/assets/image (126).png>)

### Config Rules

Config kurallarÄ±, **belirli uyumluluk kontrollerini** **ve kontrolleri kaynaklarÄ±nÄ±z arasÄ±nda uygulamanÄ±za yardÄ±mcÄ± olmak iÃ§in harika bir yoldur** ve her kaynak tÃ¼rÃ¼nÃ¼z iÃ§in ideal bir daÄŸÄ±tÄ±m spesifikasyonu benimsemenize olanak tanÄ±r. Her kural **temelde bir lambda iÅŸlevidir** ve Ã§aÄŸrÄ±ldÄ±ÄŸÄ±nda kaynaÄŸÄ± deÄŸerlendirir ve kural ile uyumluluk sonucunu belirlemek iÃ§in basit bir mantÄ±k yÃ¼rÃ¼tÃ¼r. **Desteklenen kaynaklarÄ±nÄ±zdan birine her deÄŸiÅŸiklik yapÄ±ldÄ±ÄŸÄ±nda**, **AWS Config, yerinde olan herhangi bir config kuralÄ±na karÅŸÄ± uyumluluÄŸu kontrol eder**.\
AWS, kullanÄ±ma hazÄ±r bir dizi **Ã¶nceden tanÄ±mlanmÄ±ÅŸ kurala** sahiptir. Ã–rneÄŸin, Rds-storage-encrypted. Bu, RDS veritabanÄ± Ã¶rnekleriniz tarafÄ±ndan depolama ÅŸifrelemesinin etkinleÅŸtirilip etkinleÅŸtirilmediÄŸini kontrol eder. Encrypted-volumes. Bu, baÄŸlÄ± durumda olan herhangi bir EBS hacminin ÅŸifrelenip ÅŸifrelenmediÄŸini kontrol eder.

* **AWS Managed rules**: BirÃ§ok en iyi uygulamayÄ± kapsayan bir dizi Ã¶nceden tanÄ±mlanmÄ±ÅŸ kural, bu nedenle kendi kurallarÄ±nÄ±zÄ± oluÅŸturmadan Ã¶nce bu kurallarÄ± gÃ¶zden geÃ§irmek her zaman deÄŸerlidir, Ã§Ã¼nkÃ¼ kural zaten mevcut olabilir.
* **Custom rules**: Belirli Ã¶zel yapÄ±landÄ±rmalarÄ± kontrol etmek iÃ§in kendi kurallarÄ±nÄ±zÄ± oluÅŸturabilirsiniz.

BÃ¶lge baÅŸÄ±na 50 config kuralÄ± sÄ±nÄ±rÄ± vardÄ±r, artÄ±ÅŸ iÃ§in AWS ile iletiÅŸime geÃ§meniz gerekir.\
Uyumsuz sonuÃ§lar SÄ°LÄ°NMEZ.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
