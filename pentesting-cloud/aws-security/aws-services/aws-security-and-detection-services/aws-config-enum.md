# AWS - Config Enum

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** bizi takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

## AWS Config

AWS Config **kaynak deÄŸiÅŸikliklerini yakalar**, bu nedenle Config tarafÄ±ndan desteklenen bir kaynaÄŸa yapÄ±lan herhangi bir deÄŸiÅŸiklik kaydedilebilir, bu da **deÄŸiÅŸenleri ve diÄŸer yararlÄ± meta verileri iÃ§eren bir dosya olan bir yapÄ±landÄ±rma Ã¶ÄŸesi** (CI) iÃ§inde tutulur. Bu hizmet **bÃ¶lgeye Ã¶zgÃ¼dÃ¼r**.

Bir yapÄ±landÄ±rma Ã¶ÄŸesi veya **CI** olarak bilinen ÅŸey, AWS Config'in ana bileÅŸenidir. Bu, **yapÄ±landÄ±rma bilgilerini, iliÅŸki bilgilerini ve desteklenen bir kaynaÄŸÄ±n anlÄ±k gÃ¶rÃ¼ntÃ¼ gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ iÃ§eren bir JSON dosyasÄ±ndan oluÅŸur**. AWS Config'in bir kaynak iÃ§in kaydedebileceÄŸi tÃ¼m bilgiler CI iÃ§inde yakalanÄ±r. Bir CI, desteklenen bir kaynaÄŸÄ±n yapÄ±landÄ±rmasÄ±nda herhangi bir deÄŸiÅŸiklik yapÄ±ldÄ±ÄŸÄ±nda **her seferinde** oluÅŸturulur. Etkilenen kaynaÄŸÄ±n ayrÄ±ntÄ±larÄ±nÄ± kaydetmenin yanÄ± sÄ±ra, AWS Config, bu deÄŸiÅŸikliÄŸin diÄŸer kaynaklarÄ± etkilemediÄŸinden emin olmak iÃ§in doÄŸrudan ilgili kaynaklar iÃ§in de CI'leri kaydedecektir.

* **Meta veriler**: YapÄ±landÄ±rma Ã¶ÄŸesinin kendisi hakkÄ±nda ayrÄ±ntÄ±lar iÃ§erir. CI'yi benzersiz bir ÅŸekilde tanÄ±mlayan bir sÃ¼rÃ¼m kimliÄŸi ve bir yapÄ±landÄ±rma kimliÄŸi. DiÄŸer bilgiler, aynÄ± kaynakla karÅŸÄ±laÅŸtÄ±rmanÄ±za olanak tanÄ±yan bir MD5Hash'Ä± iÃ§erebilir.
* **Ã–zellikler**: Bu, gerÃ§ek kaynakla ilgili ortak **Ã¶zellik bilgilerini** tutar. Bu bÃ¶lÃ¼mde, ayrÄ±ca benzersiz bir kaynak kimliÄŸi ve kaynaÄŸa baÄŸlÄ± olan herhangi bir anahtar deÄŸer etiketi bulunur. Kaynak tÃ¼rÃ¼ de listelenir. Ã–rneÄŸin, bu bir EC2 Ã¶rneÄŸi iÃ§in bir CI ise, listelenen kaynak tÃ¼rleri aÄŸ arayÃ¼zÃ¼ veya o EC2 Ã¶rneÄŸi iÃ§in elastik IP adresi olabilir.
* **Ä°liÅŸkiler**: Bu, kaynaÄŸÄ±n sahip olabileceÄŸi herhangi bir baÄŸlÄ± **iliÅŸki hakkÄ±nda bilgi tutar**. Bu bÃ¶lÃ¼mde, bu kaynaÄŸÄ±n diÄŸer kaynaklarla olan iliÅŸkisini aÃ§Ä±k bir ÅŸekilde gÃ¶sterir. Ã–rneÄŸin, CI bir EC2 Ã¶rneÄŸi iÃ§inse, iliÅŸki bÃ¶lÃ¼mÃ¼, EC2 Ã¶rneÄŸinin bulunduÄŸu VPC'ye ve alt aÄŸa olan baÄŸlantÄ±yÄ± gÃ¶sterebilir.
* **Mevcut yapÄ±landÄ±rma:** Bu, AWS CLI tarafÄ±ndan yapÄ±lan bir tanÄ±m veya liste API Ã§aÄŸrÄ±sÄ± gerÃ§ekleÅŸtirildiÄŸinde Ã¼retilen aynÄ± bilgileri gÃ¶rÃ¼ntÃ¼ler. AWS Config, aynÄ± bilgileri almak iÃ§in aynÄ± API Ã§aÄŸrÄ±larÄ±nÄ± kullanÄ±r.
* **Ä°lgili olaylar**: Bu, AWS CloudTrail ile ilgilidir. Bu, **bu CI'nin oluÅŸturulmasÄ±na neden olan deÄŸiÅŸiklikle ilgili AWS CloudTrail olay kimliÄŸini** gÃ¶rÃ¼ntÃ¼ler. Bir kaynaÄŸa yapÄ±lan her deÄŸiÅŸiklik iÃ§in yeni bir CI oluÅŸturulur. SonuÃ§ olarak, farklÄ± CloudTrail olay kimlikleri oluÅŸturulacaktÄ±r.

**YapÄ±landÄ±rma GeÃ§miÅŸi**: YapÄ±landÄ±rma Ã¶ÄŸeleri sayesinde kaynaklarÄ±n yapÄ±landÄ±rma geÃ§miÅŸini elde etmek mÃ¼mkÃ¼ndÃ¼r. Bir yapÄ±landÄ±rma geÃ§miÅŸi her 6 saatte bir teslim edilir ve belirli bir kaynak tÃ¼rÃ¼ iÃ§in tÃ¼m CI'leri iÃ§erir.

**YapÄ±landÄ±rma AkÄ±ÅŸlarÄ±**: YapÄ±landÄ±rma Ã¶ÄŸeleri, verilerin analizini saÄŸlamak iÃ§in bir SNS Konusuna gÃ¶nderilir.

**YapÄ±landÄ±rma AnlÄ±k GÃ¶rÃ¼ntÃ¼leri**: YapÄ±landÄ±rma Ã¶ÄŸeleri, tÃ¼m desteklenen kaynaklarÄ±n anlÄ±k gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ oluÅŸturmak iÃ§in kullanÄ±lÄ±r.

**S3,** yapÄ±landÄ±rma geÃ§miÅŸi dosyalarÄ±nÄ± ve verilerinizin herhangi bir yapÄ±landÄ±rma anlÄ±k gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ tek bir kovada saklamak iÃ§in kullanÄ±lÄ±r; bu kova yapÄ±landÄ±rma kaydedicisinde tanÄ±mlanÄ±r. Birden fazla AWS hesabÄ±nÄ±z varsa, yapÄ±landÄ±rma geÃ§miÅŸi dosyalarÄ±nÄ±zÄ± birincil hesabÄ±nÄ±z iÃ§in aynÄ± S3 kovasÄ±nda toplamak isteyebilirsiniz. Ancak, bu hizmet ilkesine, config.amazonaws.com, ve birincil hesabÄ±nÄ±zdaki S3 kovasÄ±na yazma eriÅŸimi olan ikincil hesaplarÄ±nÄ±za yazma eriÅŸimi vermeniz gerekecektir.

### Ä°ÅŸleyiÅŸ

* DeÄŸiÅŸiklik yaptÄ±ÄŸÄ±nÄ±zda, Ã¶rneÄŸin gÃ¼venlik grubu veya kova eriÅŸim kontrol listesine â€”> AWS Config tarafÄ±ndan alÄ±nan bir Olay olarak tetiklenir
* Her ÅŸeyi S3 kovasÄ±nda saklar
* Kuruluma baÄŸlÄ± olarak, bir ÅŸey deÄŸiÅŸtiÄŸinde bir lambda iÅŸlevini tetikleyebilir veya AWS Config ayarlarÄ±nÄ± periyodik olarak kontrol etmek iÃ§in bir lambda iÅŸlevi planlayabilir
* Lambda, Config'e geri bildirimde bulunur
* Kural ihlal edilmiÅŸse, Config bir SNS tetikler

![](<../../../../.gitbook/assets/image (126).png>)

### Config KurallarÄ±

Config kurallarÄ±, kaynaklarÄ±nÄ±z arasÄ±nda **belirli uyum kontrollerini** **ve kontrolleri uygulamanÄ±za yardÄ±mcÄ± olmak iÃ§in harika bir yoldur** ve her bir kaynak tÃ¼rÃ¼ iÃ§in ideal bir daÄŸÄ±tÄ±m spesifikasyonu benimsemenizi saÄŸlar. Her kural **temelde bir lambda iÅŸlevidir** ve Ã§aÄŸrÄ±ldÄ±ÄŸÄ±nda kaynaÄŸÄ± deÄŸerlendirir ve kural ile uyum sonucunu belirlemek iÃ§in bazÄ± basit mantÄ±k yÃ¼rÃ¼tÃ¼r. **Desteklenen kaynaklarÄ±nÄ±zdan birinde her deÄŸiÅŸiklik yapÄ±ldÄ±ÄŸÄ±nda,** **AWS Config, mevcut olan herhangi bir config kuralÄ±na karÅŸÄ± uyumu kontrol eder**.\
AWS, kullanÄ±ma hazÄ±r olan gÃ¼venlik ÅŸemsiyesi altÄ±nda bir dizi **Ã¶n tanÄ±mlÄ± kural** sunar. Ã–rneÄŸin, Rds-storage-encrypted. Bu, RDS veritabanÄ± Ã¶rneklerinizin depolama ÅŸifrelemesinin etkin olup olmadÄ±ÄŸÄ±nÄ± kontrol eder. Encrypted-volumes. Bu, baÄŸlÄ± durumda olan herhangi bir EBS hacminin ÅŸifrelenip ÅŸifrelenmediÄŸini kontrol eder.

* **AWS YÃ¶netilen kurallar**: BirÃ§ok en iyi uygulamayÄ± kapsayan Ã¶n tanÄ±mlÄ± kurallar seti, bu nedenle kendi kurallarÄ±nÄ±zÄ± ayarlamadan Ã¶nce bu kurallarÄ± gÃ¶zden geÃ§irmek her zaman faydalÄ±dÄ±r Ã§Ã¼nkÃ¼ kuralÄ±n zaten mevcut olma ihtimali vardÄ±r.
* **Ã–zel kurallar**: Belirli Ã¶zel yapÄ±landÄ±rmalarÄ± kontrol etmek iÃ§in kendi kurallarÄ±nÄ±zÄ± oluÅŸturabilirsiniz.

BÃ¶lge baÅŸÄ±na 50 config kuralÄ± limiti vardÄ±r, artÄ±rmak iÃ§in AWS ile iletiÅŸime geÃ§meniz gerekir.\
Uyumsuz sonuÃ§lar SÄ°LÄ°NMEZ.

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** bizi takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}
