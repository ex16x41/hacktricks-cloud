# AWS - Control Tower Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Control Tower

{% hint style="info" %}
Kwa muhtasari, Control Tower ni huduma inayoruhusu kufafanua sera kwa akaunti zako zote ndani ya shirika lako. Hivyo badala ya kusimamia kila moja, unaweza kuweka sera kutoka Control Tower ambazo zitatumika kwao.
{% endhint %}

AWS Control Tower ni **huduma inayotolewa na Amazon Web Services (AWS)** inayowezesha mashirika kuanzisha na kusimamia mazingira salama, yanayokidhi vigezo, vya akaunti nyingi katika AWS.

AWS Control Tower inatoa **seti iliyopangwa ya mipango bora ya mazoezi** ambayo inaweza kubadilishwa ili kukidhi **mahitaji ya shirika** maalum. Mipango hii inajumuisha huduma na vipengele vya AWS vilivyowekwa tayari, kama vile AWS Single Sign-On (SSO), AWS Config, AWS CloudTrail, na AWS Service Catalog.

Kwa AWS Control Tower, wasimamizi wanaweza haraka kuanzisha **mazingira ya akaunti nyingi yanayokidhi mahitaji ya shirika**, kama vile **usalama** na ufuatiliaji. Huduma hii inatoa dashibodi kuu ya kuona na kusimamia akaunti na rasilimali, na pia inautomatisha utoaji wa akaunti, huduma, na sera.

Zaidi ya hayo, AWS Control Tower inatoa guardrails, ambazo ni seti ya sera zilizowekwa tayari zinazohakikisha mazingira yanabaki yanakidhi mahitaji ya shirika. Sera hizi zinaweza kubadilishwa ili kukidhi mahitaji maalum.

Kwa ujumla, AWS Control Tower inarahisisha mchakato wa kuanzisha na kusimamia mazingira salama, yanayokidhi vigezo, vya akaunti nyingi katika AWS, na kuifanya iwe rahisi kwa mashirika kuzingatia malengo yao makuu ya biashara.

### Enumeration

Ili kuhesabu udhibiti wa controltower, kwanza unahitaji **kuwa umepata shirika**:

{% content-ref url="../aws-organizations-enum.md" %}
[aws-organizations-enum.md](../aws-organizations-enum.md)
{% endcontent-ref %}

{% code overflow="wrap" %}
```bash
# Get controls applied in an account
aws controltower list-enabled-controls --target-identifier arn:aws:organizations::<acc_id>:ou/<ou-id>
```
{% endcode %}

{% hint style="warning" %}
Control Tower inaweza pia kutumia **Account factory** kutekeleza **CloudFormation templates** katika **akaunti na kuendesha huduma** (privesc, post-exploitation...) katika akaunti hizo.
{% endhint %}

### Post Exploitation & Persistence

{% content-ref url="../../aws-post-exploitation/aws-control-tower-post-exploitation.md" %}
[aws-control-tower-post-exploitation.md](../../aws-post-exploitation/aws-control-tower-post-exploitation.md)
{% endcontent-ref %}

{% hint style="success" %}
Jifunze na fanya mazoezi ya AWS Hacking:<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Jifunze na fanya mazoezi ya GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Angalia [**mpango wa usajili**](https://github.com/sponsors/carlospolop)!
* **Jiunge na** üí¨ [**kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuatilie** kwenye **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Shiriki mbinu za hacking kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
{% endhint %}
