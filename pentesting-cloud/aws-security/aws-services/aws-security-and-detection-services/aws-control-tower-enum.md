# AWS - Control Tower Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Control Tower

{% hint style="info" %}
Συνοπτικά, το Control Tower είναι μια υπηρεσία που επιτρέπει τον καθορισμό πολιτικών για όλους τους λογαριασμούς σας μέσα στην οργάνωσή σας. Έτσι, αντί να διαχειρίζεστε κάθε έναν από αυτούς, μπορείτε να ορίσετε πολιτικές από το Control Tower που θα εφαρμοστούν σε αυτούς.
{% endhint %}

AWS Control Tower είναι μια **υπηρεσία που παρέχεται από την Amazon Web Services (AWS)** που επιτρέπει στις οργανώσεις να ρυθμίζουν και να διαχειρίζονται ένα ασφαλές, συμμορφωμένο, πολυ-λογαριασμό περιβάλλον στο AWS.

AWS Control Tower παρέχει ένα **προκαθορισμένο σύνολο βέλτιστων πρακτικών** που μπορούν να προσαρμοστούν για να καλύψουν συγκεκριμένες **οργανωτικές απαιτήσεις**. Αυτά τα σχέδια περιλαμβάνουν προ-ρυθμισμένες υπηρεσίες και δυνατότητες AWS, όπως το AWS Single Sign-On (SSO), το AWS Config, το AWS CloudTrail και το AWS Service Catalog.

Με το AWS Control Tower, οι διαχειριστές μπορούν γρήγορα να ρυθμίσουν ένα **πολυ-λογαριασμό περιβάλλον που πληροί τις οργανωτικές απαιτήσεις**, όπως **ασφάλεια** και συμμόρφωση. Η υπηρεσία παρέχει έναν κεντρικό πίνακα ελέγχου για την προβολή και τη διαχείριση λογαριασμών και πόρων, και αυτοματοποιεί επίσης την προμήθεια λογαριασμών, υπηρεσιών και πολιτικών.

Επιπλέον, το AWS Control Tower παρέχει φράγματα, τα οποία είναι ένα σύνολο προ-ρυθμισμένων πολιτικών που διασφαλίζουν ότι το περιβάλλον παραμένει συμμορφωμένο με τις οργανωτικές απαιτήσεις. Αυτές οι πολιτικές μπορούν να προσαρμοστούν για να καλύψουν συγκεκριμένες ανάγκες.

Συνολικά, το AWS Control Tower απλοποιεί τη διαδικασία ρύθμισης και διαχείρισης ενός ασφαλούς, συμμορφωμένου, πολυ-λογαριασμού περιβάλλοντος στο AWS, διευκολύνοντας τις οργανώσεις να επικεντρωθούν στους βασικούς επιχειρηματικούς τους στόχους.

### Enumeration

Για την αρίθμηση των ελέγχων του controltower, πρέπει πρώτα να **έχετε αρίθμηση της οργάνωσης**:

{% content-ref url="../aws-organizations-enum.md" %}
[aws-organizations-enum.md](../aws-organizations-enum.md)
{% endcontent-ref %}

{% code overflow="wrap" %}
```bash
# Get controls applied in an account
aws controltower list-enabled-controls --target-identifier arn:aws:organizations::<acc_id>:ou/<ou-id>
```
{% endcode %}

{% hint style="warning" %}
Ο Control Tower μπορεί επίσης να χρησιμοποιήσει το **Account factory** για να εκτελέσει **CloudFormation templates** σε **λογαριασμούς και να εκτελέσει υπηρεσίες** (privesc, post-exploitation...) σε αυτούς τους λογαριασμούς.
{% endhint %}

### Post Exploitation & Persistence

{% content-ref url="../../aws-post-exploitation/aws-control-tower-post-exploitation.md" %}
[aws-control-tower-post-exploitation.md](../../aws-post-exploitation/aws-control-tower-post-exploitation.md)
{% endcontent-ref %}

{% hint style="success" %}
Μάθετε & εξασκηθείτε στο AWS Hacking:<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Μάθετε & εξασκηθείτε στο GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Ελέγξτε τα [**σχέδια συνδρομής**](https://github.com/sponsors/carlospolop)!
* **Εγγραφείτε στην** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Μοιραστείτε κόλπα hacking υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
