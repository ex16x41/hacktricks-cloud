# AWS - Control Tower Enum

{% hint style="success" %}
Aprende y practica Hacking en AWS:<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Aprende y practica Hacking en GCP: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoya a HackTricks</summary>

* Revisa los [**planes de suscripci칩n**](https://github.com/sponsors/carlospolop)!
* **칔nete al** 游눫 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s칤guenos** en **Twitter** 游냕 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Comparte trucos de hacking enviando PRs a los** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos de github.

</details>
{% endhint %}

## Control Tower

{% hint style="info" %}
En resumen, Control Tower es un servicio que permite definir pol칤ticas para todas tus cuentas dentro de tu organizaci칩n. As칤 que en lugar de gestionar cada una de ellas, puedes establecer pol칤ticas desde Control Tower que se aplicar치n a ellas.
{% endhint %}

AWS Control Tower es un **servicio proporcionado por Amazon Web Services (AWS)** que permite a las organizaciones configurar y gobernar un entorno multi-cuenta seguro y conforme en AWS.

AWS Control Tower proporciona un **conjunto predefinido de plantillas de mejores pr치cticas** que se pueden personalizar para cumplir con **requisitos organizacionales** espec칤ficos. Estas plantillas incluyen servicios y caracter칤sticas de AWS preconfigurados, como AWS Single Sign-On (SSO), AWS Config, AWS CloudTrail y AWS Service Catalog.

Con AWS Control Tower, los administradores pueden configurar r치pidamente un **entorno multi-cuenta que cumpla con los requisitos organizacionales**, como **seguridad** y cumplimiento. El servicio proporciona un panel central para ver y gestionar cuentas y recursos, y tambi칠n automatiza la provisi칩n de cuentas, servicios y pol칤ticas.

Adem치s, AWS Control Tower proporciona guardrails, que son un conjunto de pol칤ticas preconfiguradas que aseguran que el entorno se mantenga conforme a los requisitos organizacionales. Estas pol칤ticas se pueden personalizar para satisfacer necesidades espec칤ficas.

En general, AWS Control Tower simplifica el proceso de configuraci칩n y gesti칩n de un entorno multi-cuenta seguro y conforme en AWS, facilitando a las organizaciones centrarse en sus objetivos comerciales principales.

### Enumeraci칩n

Para enumerar los controles de controltower, primero necesitas **haber enumerado la organizaci칩n**:

{% content-ref url="../aws-organizations-enum.md" %}
[aws-organizations-enum.md](../aws-organizations-enum.md)
{% endcontent-ref %}

{% code overflow="wrap" %}
```bash
# Get controls applied in an account
aws controltower list-enabled-controls --target-identifier arn:aws:organizations::<acc_id>:ou/<ou-id>
```
{% endcode %}

{% hint style="warning" %}
Control Tower tambi칠n puede usar **Account factory** para ejecutar **CloudFormation templates** en **cuentas y ejecutar servicios** (privesc, post-exploitation...) en esas cuentas
{% endhint %}

### Post Explotaci칩n y Persistencia

{% content-ref url="../../aws-post-exploitation/aws-control-tower-post-exploitation.md" %}
[aws-control-tower-post-exploitation.md](../../aws-post-exploitation/aws-control-tower-post-exploitation.md)
{% endcontent-ref %}

{% hint style="success" %}
Aprende y practica AWS Hacking:<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Aprende y practica GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoya a HackTricks</summary>

* Revisa los [**planes de suscripci칩n**](https://github.com/sponsors/carlospolop)!
* **칔nete al** 游눫 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s칤guenos** en **Twitter** 游냕 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Comparte trucos de hacking enviando PRs a los** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos de github.

</details>
{% endhint %}
