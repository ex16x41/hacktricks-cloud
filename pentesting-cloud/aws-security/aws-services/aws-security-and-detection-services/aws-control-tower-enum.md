# AWS - Control Tower Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Control Tower

{% hint style="info" %}
ìš”ì•½í•˜ìë©´, Control TowerëŠ” ì¡°ì§ ë‚´ ëª¨ë“  ê³„ì •ì— ëŒ€í•œ ì •ì±…ì„ ì •ì˜í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ê° ê³„ì •ì„ ê´€ë¦¬í•˜ëŠ” ëŒ€ì‹  Control Towerì—ì„œ ì ìš©í•  ì •ì±…ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
{% endhint %}

AWS Control TowerëŠ” **Amazon Web Services (AWS)**ì—ì„œ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë¡œ, ì¡°ì§ì´ AWSì—ì„œ ì•ˆì „í•˜ê³  ê·œì •ì„ ì¤€ìˆ˜í•˜ëŠ” ë‹¤ì¤‘ ê³„ì • í™˜ê²½ì„ ì„¤ì •í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

AWS Control TowerëŠ” íŠ¹ì • **ì¡°ì§ ìš”êµ¬ ì‚¬í•­**ì„ ì¶©ì¡±í•˜ë„ë¡ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆëŠ” **ì‚¬ì „ ì •ì˜ëœ ëª¨ë²” ì‚¬ë¡€ ì²­ì‚¬ì§„ ì„¸íŠ¸**ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì²­ì‚¬ì§„ì—ëŠ” AWS Single Sign-On (SSO), AWS Config, AWS CloudTrail ë° AWS Service Catalogì™€ ê°™ì€ ì‚¬ì „ êµ¬ì„±ëœ AWS ì„œë¹„ìŠ¤ ë° ê¸°ëŠ¥ì´ í¬í•¨ë©ë‹ˆë‹¤.

AWS Control Towerë¥¼ ì‚¬ìš©í•˜ë©´ ê´€ë¦¬ìëŠ” **ë³´ì•ˆ** ë° ê·œì • ì¤€ìˆ˜ì™€ ê°™ì€ ì¡°ì§ ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±í•˜ëŠ” **ë‹¤ì¤‘ ê³„ì • í™˜ê²½**ì„ ì‹ ì†í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì„œë¹„ìŠ¤ëŠ” ê³„ì • ë° ë¦¬ì†ŒìŠ¤ë¥¼ ë³´ê³  ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ì¤‘ì•™ ëŒ€ì‹œë³´ë“œë¥¼ ì œê³µí•˜ë©°, ê³„ì •, ì„œë¹„ìŠ¤ ë° ì •ì±…ì˜ í”„ë¡œë¹„ì €ë‹ì„ ìë™í™”í•©ë‹ˆë‹¤.

ë˜í•œ AWS Control TowerëŠ” ì¡°ì§ ìš”êµ¬ ì‚¬í•­ì„ ì¤€ìˆ˜í•˜ëŠ” í™˜ê²½ì„ ë³´ì¥í•˜ëŠ” ì‚¬ì „ êµ¬ì„±ëœ ì •ì±… ì„¸íŠ¸ì¸ ê°€ë“œë ˆì¼ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì •ì±…ì€ íŠ¹ì • ìš”êµ¬ ì‚¬í•­ì— ë§ê²Œ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì „ë°˜ì ìœ¼ë¡œ AWS Control TowerëŠ” AWSì—ì„œ ì•ˆì „í•˜ê³  ê·œì •ì„ ì¤€ìˆ˜í•˜ëŠ” ë‹¤ì¤‘ ê³„ì • í™˜ê²½ì„ ì„¤ì •í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê³¼ì •ì„ ë‹¨ìˆœí™”í•˜ì—¬ ì¡°ì§ì´ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

### Enumeration

Control Tower ì œì–´ë¥¼ ì—´ê±°í•˜ë ¤ë©´ ë¨¼ì € **ì¡°ì§ì„ ì—´ê±°í•´ì•¼ í•©ë‹ˆë‹¤**:

{% content-ref url="../aws-organizations-enum.md" %}
[aws-organizations-enum.md](../aws-organizations-enum.md)
{% endcontent-ref %}

{% code overflow="wrap" %}
```bash
# Get controls applied in an account
aws controltower list-enabled-controls --target-identifier arn:aws:organizations::<acc_id>:ou/<ou-id>
```
{% endcode %}

{% hint style="warning" %}
Control TowerëŠ” **Account factory**ë¥¼ ì‚¬ìš©í•˜ì—¬ **ê³„ì •ì—ì„œ CloudFormation í…œí”Œë¦¿**ì„ ì‹¤í–‰í•˜ê³  í•´ë‹¹ ê³„ì •ì—ì„œ **ì„œë¹„ìŠ¤**(í”„ë¼ì´ë¹— ì—‘ì„¸ìŠ¤, í¬ìŠ¤íŠ¸ ìµìŠ¤í”Œë¡œì‡...)ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
{% endhint %}

### í¬ìŠ¤íŠ¸ ìµìŠ¤í”Œë¡œì‡ ë° ì§€ì†ì„±

{% content-ref url="../../aws-post-exploitation/aws-control-tower-post-exploitation.md" %}
[aws-control-tower-post-exploitation.md](../../aws-post-exploitation/aws-control-tower-post-exploitation.md)
{% endcontent-ref %}

{% hint style="success" %}
AWS í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… ê³„íš**](https://github.com/sponsors/carlospolop) í™•ì¸í•˜ê¸°!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ì°¸ì—¬í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ë¦¬í¬ì§€í† ë¦¬ì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŒì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
{% endhint %}
