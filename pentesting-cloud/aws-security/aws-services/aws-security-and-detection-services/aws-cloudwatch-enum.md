# CloudWatch

**CloudWatch** рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдФрд░ рдСрдкрд░реЗрд╢рдирд▓ **рдбреЗрдЯрд╛** рдХреЛ рд▓реЙрдЧ/рдореАрдЯреНрд░рд┐рдХреНрд╕/рдЗрд╡реЗрдВрдЯреНрд╕ рдХреЗ рд░реВрдк рдореЗрдВ **рдХрд▓реЗрдХреНрдЯ рдХрд░рддрд╛ рд╣реИ** рдЬреЛ AWS рд╕рдВрд╕рд╛рдзрдиреЛрдВ, рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдФрд░ рд╕реЗрд╡рд╛рдУрдВ рдХрд╛ **рдПрдХреАрдХреГрдд рджреГрд╢реНрдп** рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред\
CloudWatch рд▓реЙрдЧ рдЗрд╡реЗрдВрдЯ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рд▓реЙрдЧ рд▓рд╛рдЗрди рдкрд░ **256KB рдХреА рд╕реАрдорд╛** рд╣реЛрддреА рд╣реИред\
рдЗрд╕рдореЗрдВ **рд╣рд╛рдИ рд░реЗрдЬреЛрд▓реНрдпреВрд╢рди рдЕрд▓рд╛рд░реНрдо** рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, **рд▓реЙрдЧреНрд╕** рдФрд░ **рдореАрдЯреНрд░рд┐рдХреНрд╕** рдХреЛ рд╕рд╛рдЗрдб рдмрд╛рдп рд╕рд╛рдЗрдб рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХреНрд░рд┐рдпрд╛рдПрдБ рд▓реА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВ, рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рд╕рдорд╛рдзрд╛рди рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЛ рдЕрдкрдЯрд┐рдорд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдВрд╕рд╛рдЗрдЯреНрд╕ рдЦреЛрдЬрдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИред

рдЖрдк рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП CloudTrail рд╕реЗ рд▓реЙрдЧреНрд╕ рдХреА рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╡реЗрдВрдЯреНрд╕ рдЬреЛ рдореЙрдирд┐рдЯрд░ рд╣реЛрддреЗ рд╣реИрдВ:

* рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣реЛрдВ рдФрд░ NACLs рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди
* EC2 рдЗрдВрд╕реНрдЯреЗрдВрд╕реЗрд╕ рдХреЛ рд╢реБрд░реВ, рдмрдВрдж, рд░реАрдмреВрдЯ рдФрд░ рдЯрд░реНрдорд┐рдиреЗрдЯ рдХрд░рдирд╛
* IAM рдФрд░ S3 рдореЗрдВ рд╕реБрд░рдХреНрд╖рд╛ рдиреАрддрд┐рдпреЛрдВ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди
* AWS рдкреНрд░рдмрдВрдзрди рдХрдВрд╕реЛрд▓ рдореЗрдВ рд╡рд┐рдлрд▓ рд▓реЙрдЧрд┐рди рдкреНрд░рдпрд╛рд╕
* рд╡рд┐рдлрд▓ рдЕрдзрд┐рдХреГрддрд┐ рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк API рдХреЙрд▓реНрд╕
* рдХреНрд▓рд╛рдЙрдбрд╡реЙрдЪ рдореЗрдВ рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдлрд╝рд┐рд▓реНрдЯрд░: [https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html](https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html)

## рдореБрдЦреНрдп рдЕрд╡рдзрд╛рд░рдгрд╛рдПрдБ

### рдиреЗрдорд╕реНрдкреЗрд╕

рдиреЗрдорд╕реНрдкреЗрд╕ рдПрдХ CloudWatch рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрдВрдЯреЗрдирд░ рд╣реИред рдпрд╣ рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рд╡рд░реНрдЧреАрдХреГрдд рдФрд░ рдЕрд▓рдЧ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЙрдиреНрд╣реЗрдВ рдкреНрд░рдмрдВрдзрд┐рдд рдФрд░ рд╡рд┐рд╢реНрд▓реЗрд╖рд┐рдд рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реЛрддрд╛ рд╣реИред

- **рдЙрджрд╛рд╣рд░рдг**: EC2 рд╕рдВрдмрдВрдзрд┐рдд рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХреЗ рд▓рд┐рдП AWS/EC2, RDS рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХреЗ рд▓рд┐рдП AWS/RDSред

### рдореАрдЯреНрд░рд┐рдХреНрд╕

рдореАрдЯреНрд░рд┐рдХреНрд╕ рд╕рдордп рдХреЗ рд╕рд╛рде рдПрдХрддреНрд░рд┐рдд рдбреЗрдЯрд╛ рдмрд┐рдВрджреБ рд╣реИрдВ рдЬреЛ AWS рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдпрд╛ рдЙрдкрдпреЛрдЧ рдХреЛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВред рдореАрдЯреНрд░рд┐рдХреНрд╕ AWS рд╕реЗрд╡рд╛рдУрдВ, рдХрд╕реНрдЯрдо рдПрдкреНрд▓рд┐рдХреЗрд╢рдиреНрд╕ рдпрд╛ рдерд░реНрдб-рдкрд╛рд░реНрдЯреА рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди рд╕реЗ рдПрдХрддреНрд░рд┐рдд рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИрдВред

- **рдЙрджрд╛рд╣рд░рдг**: CPUUtilization, NetworkIn, DiskReadOpsред

### рдбрд╛рдпрдореЗрдВрд╢рдиреНрд╕

рдбрд╛рдпрдореЗрдВрд╢рдиреНрд╕ рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдХреБрдВрдЬреА-рдореВрд▓реНрдп рдЬреЛрдбрд╝реЗ рд╣реИрдВред рдпреЗ рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рдЕрджреНрд╡рд┐рддреАрдп рд░реВрдк рд╕реЗ рдкрд╣рдЪрд╛рдирдиреЗ рдФрд░ рдЕрддрд┐рд░рд┐рдХреНрдд рд╕рдВрджрд░реНрдн рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреЗ рд╣реИрдВ, 30 рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдбрд╛рдпрдореЗрдВрд╢рдиреНрд╕ рдПрдХ рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХреЗ рд╕рд╛рде рд╕рдВрдмрджреНрдз рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред рдбрд╛рдпрдореЗрдВрд╢рдиреНрд╕ рдпрд╣ рднреА рд╕рдВрджрд░реНрдн рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рдлрд╝рд┐рд▓реНрдЯрд░ рдФрд░ рд╕рдореЗрдХрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред

- **рдЙрджрд╛рд╣рд░рдг**: EC2 рдЗрдВрд╕реНрдЯреЗрдВрд╕реЗрд╕ рдХреЗ рд▓рд┐рдП, рдбрд╛рдпрдореЗрдВрд╢рдиреНрд╕ рдореЗрдВ InstanceId, InstanceType, рдФрд░ AvailabilityZone рд╢рд╛рдорд┐рд▓ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред

### рд╕рд╛рдВрдЦреНрдпрд┐рдХреА

рд╕рд╛рдВрдЦреНрдпрд┐рдХреА рдореАрдЯреНрд░рд┐рдХреНрд╕ рдбреЗрдЯрд╛ рдкрд░ рдХрд┐рдП рдЧрдП рдЧрдгрд┐рддреАрдп рдЧрдгрдирд╛рдПрдБ рд╣реИрдВ рдЬреЛ рд╕рдордп рдХреЗ рдЕрд╡рд▓реЛрдХрди рдХреЗ рд▓рд┐рдП рдЗрд╕реЗ рд╕рд╛рд░рд╛рдВрд╢рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреА рд╣реИрдВред рд╕рд╛рдорд╛рдиреНрдп рд╕рд╛рдВрдЦреНрдпрд┐рдХреА рдореЗрдВ рдФрд╕рдд, рдпреЛрдЧ, рдиреНрдпреВрдирддрдо, рдЕрдзрд┐рдХрддрдо, рдФрд░ рд╕реИрдВрдкрд▓ рдХрд╛рдЙрдВрдЯ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред

- **рдЙрджрд╛рд╣рд░рдг**: рдПрдХ рдШрдВрдЯреЗ рдХреА рдЕрд╡рдзрд┐ рдХреЗ рджреМрд░рд╛рди рдФрд╕рдд CPU рдЙрдкрдпреЛрдЧ рдХреА рдЧрдгрдирд╛ рдХрд░рдирд╛ред

### рдЗрдХрд╛рдЗрдпрд╛рдБ

рдЗрдХрд╛рдЗрдпрд╛рдБ рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реЗ рдорд╛рдкрди рдкреНрд░рдХрд╛рд░ рд╣реИрдВред рдЗрдХрд╛рдЗрдпрд╛рдБ рдореАрдЯреНрд░рд┐рдХреНрд╕ рдбреЗрдЯрд╛ рдХреЛ рд╕рдВрджрд░реНрдн рдФрд░ рдЕрд░реНрде рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреА рд╣реИрдВред рд╕рд╛рдорд╛рдиреНрдп рдЗрдХрд╛рдЗрдпрд╛рдБ рдореЗрдВ рдкреНрд░рддрд┐рд╢рдд, рдмрд╛рдЗрдЯреНрд╕, рд╕реЗрдХрдВрдбреНрд╕, рдХрд╛рдЙрдВрдЯ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред

- **рдЙрджрд╛рд╣рд░рдг**: CPUUtilization рдкреНрд░рддрд┐рд╢рдд рдореЗрдВ рдорд╛рдкрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрдмрдХрд┐ NetworkIn рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВ рдорд╛рдкрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

## CloudWatch рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ

### рдбреИрд╢рдмреЛрд░реНрдб

**CloudWatch рдбреИрд╢рдмреЛрд░реНрдбреНрд╕** рдЖрдкрдХреЛ рдЕрдкрдиреЗ AWS CloudWatch рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХреЗ **рдХрд╕реНрдЯрдорд╛рдЗрдЬрд╝реЗрдмрд▓ рджреГрд╢реНрдп** рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред рдбреИрд╢рдмреЛрд░реНрдб рдмрдирд╛рдиреЗ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдк рдбреЗрдЯрд╛ рдХреЛ рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝ рдХрд░ рд╕рдХреЗрдВ рдФрд░ рдПрдХ рд╣реА рджреГрд╢реНрдп рдореЗрдВ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреА рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХрд░ рд╕рдХреЗрдВ, рд╡рд┐рднрд┐рдиреНрди AWS рд╕реЗрд╡рд╛рдУрдВ рд╕реЗ рд╡рд┐рднрд┐рдиреНрди рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рдорд┐рд▓рд╛рдХрд░ред

**рдореБрдЦреНрдп рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ**:

- **рд╡рд┐рдЬреЗрдЯреНрд╕**: рдбреИрд╢рдмреЛрд░реНрдб рдХреЗ рдирд┐рд░реНрдорд╛рдг рдЦрдВрдб, рдЬрд┐рд╕рдореЗрдВ рдЧреНрд░рд╛рдлрд╝, рдкрд╛рда, рдЕрд▓рд╛рд░реНрдо, рдФрд░ рдЕрдзрд┐рдХ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред
- **рдХрд╕реНрдЯрдорд╛рдЗрдЬрд╝реЗрд╢рди**: рд▓реЗрдЖрдЙрдЯ рдФрд░ рд╕рд╛рдордЧреНрд░реА рдХреЛ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХрд╕реНрдЯрдорд╛рдЗрдЬрд╝ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

**рдЙрджрд╛рд╣рд░рдг рдЙрдкрдпреЛрдЧ рдорд╛рдорд▓рд╛**:

- рдПрдХ рд╣реА рдбреИрд╢рдмреЛрд░реНрдб рдЬреЛ рдЖрдкрдХреЗ рдкреВрд░реЗ AWS рдкрд░рд┐рд╡реЗрд╢ рдХреЗ рд▓рд┐рдП рдореБрдЦреНрдп рдореАрдЯреНрд░рд┐рдХреНрд╕ рджрд┐рдЦрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ EC2 рдЗрдВрд╕реНрдЯреЗрдВрд╕реЗрд╕, RDS рдбреЗрдЯрд╛рдмреЗрд╕реЗрд╕, рдФрд░ S3 рдмрдХреЗрдЯреНрд╕ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред

### рдореАрдЯреНрд░рд┐рдХ рд╕реНрдЯреНрд░реАрдо рдФрд░ рдореАрдЯреНрд░рд┐рдХ рдбреЗрдЯрд╛

AWS CloudWatch рдореЗрдВ **рдореАрдЯреНрд░рд┐рдХ рд╕реНрдЯреНрд░реАрдореНрд╕** рдЖрдкрдХреЛ рдЕрдкрдиреА рдкрд╕рдВрдж рдХреЗ рдЧрдВрддрд╡реНрдп рдореЗрдВ CloudWatch рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рдирдЬрджреАрдХреА рд╕рдордп рдореЗрдВ рд▓рдЧрд╛рддрд╛рд░ рд╕реНрдЯреНрд░реАрдо рдХрд░рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред рдпрд╣ рдЙрдиреНрдирдд рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ, рд╡рд┐рд╢реНрд▓реЗрд╖рдг, рдФрд░ рдХрд╕реНрдЯрдо рдбреИрд╢рдмреЛрд░реНрдб рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧреА рд╣реИ рдЬреЛ AWS рдХреЗ рдмрд╛рд╣рд░ рдХреЗ рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред

рдореАрдЯреНрд░рд┐рдХ рд╕реНрдЯреНрд░реАрдореНрд╕ рдХреЗ рднреАрддрд░ **рдореАрдЯреНрд░рд┐рдХ рдбреЗрдЯрд╛** рдЙрди рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдорд╛рдкрдиреЛрдВ рдпрд╛ рдбреЗрдЯрд╛ рдмрд┐рдВрджреБрдУрдВ рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ AWS рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЗ рд▓рд┐рдП CPU рдЙрдкрдпреЛрдЧ, рдореЗрдореЛрд░реА рдЙрдкрдпреЛрдЧ рдЖрджрд┐ рдХреА рддреБрд▓рдирд╛ рдХрд░рддреЗ рд╣реИрдВред

**рдЙрджрд╛рд╣рд░рдг рдЙрдкрдпреЛрдЧ рдорд╛рдорд▓рд╛**:

- рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреА рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рд╕реЗрд╡рд╛ рдХреЗ рд▓рд┐рдП рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рдореАрдЯреНрд░рд┐рдХреНрд╕ рднреЗрдЬрдирд╛ред
- рд▓рдВрдмреЗ рд╕рдордп рддрдХ рд╕рдВрдЧреНрд░рд╣рдг рдФрд░ рдЕрдиреБрдкрд╛рд▓рди рдХреЗ рд▓рд┐рдП рдЕрдореЗрдЬрд╝рди S3 рдмрдХреЗрдЯ рдореЗрдВ рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдирд╛ред

### рдЕрд▓рд╛рд░реНрдо

**CloudWatch рдЕрд▓рд╛рд░реНрдореНрд╕** рдЖрдкрдХреЗ рдореАрдЯреНрд░рд┐рдХреНрд╕ рдХреА рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рд╕реАрдорд╛рдУрдВ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдХреНрд░рд┐рдпрд╛рдПрдБ рдХрд░рддреЗ рд╣реИрдВред рдЬрдм рдХреЛрдИ рдореАрдЯреНрд░рд┐рдХреНрд╕ рдПрдХ рд╕реАрдорд╛ рдХреЛ рдЙрд▓реНрд▓рдВрдШрди рдХрд░рддреА рд╣реИ, рддреЛ рдЕрд▓рд╛рд░реНрдо рдПрд╕рдПрдирдПрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реВрдЪрдирд╛рдПрдБ рднреЗрдЬ рд╕рдХрддрд╛ рд╣реИ, рдСрдЯреЛ-рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдиреАрддрд┐ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдпрд╛ AWS рд▓реИрдореНрдмрдбрд╛ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЪрд▓рд╛ рд╕рдХрддрд╛ рд╣реИред

**рдореБрдЦреНрдп рдШрдЯрдХ**:

- **рд╕реАрдорд╛**: рдЬрд┐рд╕ рдкрд░ рдЕрд▓рд╛рд░реНрдо рдЯреНрд░рд┐рдЧрд░ рд╣реЛрддрд╛ рд╣реИред
- **рдореВрд▓реНрдпрд╛рдВрдХрди рдЕрд╡рдзрд┐рдпрд╛рдБ**: рдбреЗрдЯрд╛ рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдЕрд╡рдзрд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ред
- **рдЕрд▓рд╛рд░реНрдо рдХреЗ рдбреЗрдЯрд╛рдкреЙрдЗрдВрдЯреНрд╕**: рдЕрд▓рд╛рд░реНрдо рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реАрдорд╛ рддрдХ рдкрд╣реБрдВрдЪреЗ рд╣реБрдП рдЕрд╡рдзрд┐рдпреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛
- **рдХреНрд░рд┐рдпрд╛рдПрдБ**: рдЬрдм рдПрдХ рдЕрд▓рд╛рд░реНрдо рд╕реНрдерд┐рддрд┐ рдЯреНрд░рд┐рдЧрд░ рд╣реЛрддреА рд╣реИ, рддреЛ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, SNS рдХреЗ рдорд╛рдзреНрдп
### CloudWatch рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдФрд░ рдШрдЯрдирд╛рдПрдБ

CloudWatch **рдореВрд▓** рдбреЗрдЯрд╛ рдХреЛ **рд╣рд░ 5 рдорд┐рдирдЯ** рдореЗрдВ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рддрд╛ рд╣реИ (рд╡рд┐рд╕реНрддреГрдд рд╡рд╛рд▓рд╛ рдпрд╣ **рд╣рд░ 1 рдорд┐рдирдЯ** рдХрд░рддрд╛ рд╣реИ)ред рд╕рдВрдЧреНрд░рд╣рдг рдХреЗ рдмрд╛рдж, рдпрд╣ **рдЕрд▓рд╛рд░реНрдо рдХреА рд╕реАрдорд╛рдПрдБ рдЬрд╛рдВрдЪрддрд╛ рд╣реИ** рдпрджрд┐ рдПрдХ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛред\
рдЙрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, CLoudWatch рдПрдХ рдШрдЯрдирд╛ рднреЗрдЬрдиреЗ рдФрд░ рдХреБрдЫ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдХреНрд░рд┐рдпрд╛рдПрдБ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ (AWS рд▓реИрдореНрдмрдбрд╛ рдлрдВрдХреНрд╢рди, SNS рд╡рд┐рд╖рдп, SQS рдХрддрд╛рд░, Kinesis рд╕реНрдЯреНрд░реАрдореНрд╕)

### рдПрдЬреЗрдВрдЯ рд╕реНрдерд╛рдкрдирд╛

рдЖрдк рдЕрдкрдиреА рдорд╢реАрдиреЛрдВ/рдХрдВрдЯреЗрдирд░ рдореЗрдВ рдПрдЬреЗрдВрдЯ рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рд▓реЙрдЧреНрд╕ рдХреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ CloudWatch рдореЗрдВ рднреЗрдЬрд╛ рдЬрд╛ рд╕рдХреЗред

* **рдПрдХ** рд░реЛрд▓ рдмрдирд╛рдПрдВ рдФрд░ рдЙрд╕реЗ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдЗрдВрд╕реНрдЯреЗрдВрд╕ рд╕реЗ рдбреЗрдЯрд╛ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП CloudWatch рдХреЛ AWS рд╕рд┐рд╕реНрдЯрдо рдореИрдиреЗрдЬрд░ SSM рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рд╡рд╛рд▓реЗ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝реЗрдВ (CloudWatchAgentAdminPolicy рдФрд░ AmazonEC2RoleforSSM)
* EC2 рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдкрд░ рдПрдЬреЗрдВрдЯ рдбрд╛рдЙрдирд▓реЛрдб рдФрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ ([https://s3.amazonaws.com/amazoncloudwatch-agent/linux/amd64/latest/AmazonCloudWatchAgent.zip](https://s3.amazonaws.com/amazoncloudwatch-agent/linux/amd64/latest/AmazonCloudWatchAgent.zip)). рдЖрдк рдЗрд╕реЗ EC2 рдХреЗ рдЕрдВрджрд░ рд╕реЗ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрд╛ AWS рд╕рд┐рд╕реНрдЯрдо рдореИрдиреЗрдЬрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ AWS-ConfigureAWSPackage рдкреИрдХреЗрдЬ рдХрд╛ рдЪрдпрди рдХрд░рдХреЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ
* CloudWatch рдПрдЬреЗрдВрдЯ рдХреЛ **рдХреЙрдиреНрдлрд╝рд┐рдЧрд░** рдФрд░ **рдкреНрд░рд╛рд░рдВрдн** рдХрд░реЗрдВ

рдПрдХ рд▓реЙрдЧ рд╕рдореВрд╣ рдореЗрдВ рдХрдИ рд╕реНрдЯреНрд░реАрдо рд╣реЛрддреА рд╣реИрдВред рдПрдХ рд╕реНрдЯреНрд░реАрдо рдореЗрдВ рдХрдИ рдШрдЯрдирд╛рдПрдБ рд╣реЛрддреА рд╣реИрдВред рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рд╕реНрдЯреНрд░реАрдо рдХреЗ рдЕрдВрджрд░, рдШрдЯрдирд╛рдПрдБ рдХреНрд░рдо рдореЗрдВ рд╣реЛрдиреЗ рдХреА рдЧрд╛рд░рдВрдЯреА рджреЗрддреА рд╣реИрдВред

## рдЧрдгрдирд╛
```bash
# Dashboards #

## Returns a list of the dashboards of your account
aws cloudwatch list-dashboards

## Retrieves the details of the specified dashboard
aws cloudwatch get-dashboard --dashboard-name <value>

# Metrics #

## Returns a list of the specified metric
aws cloudwatch list-metrics [--namespace <value>] [--metric-name <value>] [--dimensions <value>] [--include-linked-accounts | --no-include-linked-accounts]

## Retrieves metric data (this operation can include a CloudWatch Metrics Insights query, and one or more metric math functions)
aws cloudwatch get-metric-data --metric-data-queries <value> --start-time <value> --end-time <value>

## Retrieves statistics for the specified metric and namespace over a range of time
aws cloudwatch get-metric-statistics --namespace <value> --metric-name <value> [--dimensions <value>] --start-time <value> --end-time <value> --period <value>

## Returns a list of the metric streams of your account
aws cloudwatch list-metric-streams

## Retrieves information about the specified metric stream
aws cloudwatch get-metric-stream --name <value>

## Retrieve snapshots of the specified metric widgets
aws cloudwatch get-metric-widget-image --metric-widget <value>

# Alarms #

## Retrieves the specified alarm
aws cloudwatch describe-alarms [--alarm-names <value>] [--alarm-name-prefix <value>] [--alarm-types <value>] [--state-value <value>]

## Retrieves the alarms history, even for deleted alarms
aws cloudwatch describe-alarm-history [--alarm-name <value>] [--alarm-types <value>] [--history-item-type <ConfigurationUpdate | StateUpdate | Action>] [--start-date <value>] [--end-date <value>]

## Retrieves standard alarms based on the specified metric
aws cloudwatch escribe-alarms-for-metric --metric-name <value> --namespace <value> [--dimensions <value>]

# Anomaly Detections #

## Lists the anomaly detection models that you have created in your account
aws cloudwatch describe-anomaly-detectors [--namespace <value>] [--metric-name <value>] [--dimensions <value>]

## Lists all the Contributor Insight rules in your account
aws cloudwatch describe-insight-rules

## Retrieves the data collected over a time range for a given Contributor Insight rule
aws cloudwatch get-insight-rule-report --rule-name <value> --start-time <value> --end-time <value> --period <value>

## Lists managed Contributor Insights rules in your account for a specified resource
aws cloudwatch list-managed-insight-rules --resource-arn <value>

# Tags #

## Lists the tags associated with the specified CloudWatch resources
aws cloudwatch list-tags-for-resource --resource-arn <value>

# CloudWatch Logs #
aws logs tail "<log_group_name>" --followaws logs get-log-events --log-group-name "<log_group_name>" --log-stream-name "<log_stream_name>" --output text > <output_file>

# CloudWatch Events #
aws events list-rules
aws events describe-rule --name <name>aws events list-targets-by-rule --rule <name>aws events list-archives
aws events describe-archive --archive-name <name>aws events list-connections
aws events describe-connection --name <name>aws events list-endpoints
aws events describe-endpoint --name <name>aws events list-event-sources
aws events describe-event-source --name <name>aws events list-replays
aws events list-api-destinations
aws events list-event-buses
```
## рдкреЛрд╕реНрдЯ-рдПрдХреНрд╕рдкреНрд▓реЛрдЗрдЯреЗрд╢рди / рдмрд╛рдпрдкрд╛рд╕

### **`cloudwatch:DeleteAlarms`,`cloudwatch:PutMetricAlarm` ,┬а`cloudwatch:PutCompositeAlarm`**

рдЗрд╕ рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рд╕рдВрдЧрдарди рдХреА рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдФрд░ рдЕрд▓рд░реНрдЯ рдврд╛рд▓ рдмрд╣реБрдд рдЕрдзрд┐рдХ рдХрдордЬреЛрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдореМрдЬреВрджрд╛ рдЕрд▓рд╛рд░реНрдо рд╣рдЯрд╛рдХрд░, рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЕрд▓рд░реНрдЯ рдХреЛ рдмрдВрдж рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ рдкреНрд░рд╢рд╛рд╕рдХреЛрдВ рдХреЛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкреНрд░рджрд░реНрд╢рди рд╕рдорд╕реНрдпрд╛рдУрдВ, рд╕реБрд░рдХреНрд╖рд╛ рдЙрд▓реНрд▓рдВрдШрди, рдпрд╛ рдкрд░рд┐рдЪрд╛рд▓рди рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреА рд╕реВрдЪрдирд╛ рджреЗрддреЗ рд╣реИрдВред рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рдореЗрдЯреНрд░рд┐рдХ рдЕрд▓рд░реНрдо рдмрдирд╛рдиреЗ рдпрд╛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдХреЗ, рд╣рдорд▓рд╛рд╡рд░ рднреА рдкреНрд░рд╢рд╛рд╕рдХреЛрдВ рдХреЛ рдЧрд▓рдд рдЕрд▓рд░реНрдЯреЛрдВ рд╕реЗ рдЧреБрдорд░рд╛рд╣ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рд╡реИрдз рдЕрд▓рд░реНрдо рдХреЛ рдЪреБрдк рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЬрд╛рд╣рд┐рд░рд╛рддреА рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдорд╛рд╕реНрдХ рдХрд░рдХреЗ рдФрд░ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдШрдЯрдирд╛рдУрдВ рдХреЗ рд╕рдордп рдкрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдирд╣реАрдВ рджреЗрдиреЗ рдХреЗ рдХрд╛рд░рдг рджреБрд░реБрдкрдпреЛрдЧ рдХреЛ рд░реЛрдХрддрд╛ рд╣реИред

рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, **`cloudwatch:PutCompositeAlarm`** рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде, рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдХреЛ рдПрдХ рд╕рдВрдпреБрдХреНрдд рдЕрд▓рд░реНрдореЛрдВ рдХреЗ рд▓реВрдк рдпрд╛ рдЪрдХреНрд░ рдмрдирд╛рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрдЧреА, рдЬрд╣рд╛рдВ рд╕рдВрдпреБрдХреНрдд рдЕрд▓рд░реНрдо A рд╕рдВрдпреБрдХреНрдд рдЕрд▓рд░реНрдо B рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рд╕рдВрдпреБрдХреНрдд рдЕрд▓рд░реНрдо B рднреА рд╕рдВрдпреБрдХреНрдд рдЕрд▓рд░реНрдо A рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдореЗрдВ, рдЬреЛ рд╕рдВрдпреБрдХреНрдд рдЕрд▓рд░реНрдо рдЖрдк рдирд╖реНрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЙрд╕ рдкрд░ рдирд┐рд░реНрднрд░ рдХреЛрдИ рд╕рдВрдпреБрдХреНрдд рдЕрд▓рд░реНрдо рд╣рдореЗрд╢рд╛ рд╣реЛрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЙрд╕ рдЕрд▓рд░реНрдо рдкрд░ рдирд┐рд░реНрднрд░ рдХреЛрдИ рд╕рдВрдпреБрдХреНрдд рдЕрд▓рд░реНрдо рд╣реЛрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдирд╖реНрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред
```bash
aws cloudwatch put-metric-alarm --cli-input-json <value> | --alarm-name <value> --comparison-operator <value> --evaluation-periods <value> [--datapoints-to-alarm <value>] [--threshold <value>] [--alarm-description <value>] [--alarm-actions <value>] [--metric-name <value>] [--namespace <value>] [--statistic <value>] [--dimensions <value>] [--period <value>]
aws cloudwatch delete-alarms --alarm-names <value>
aws cloudwatch put-composite-alarm --alarm-name <value> --alarm-rule <value> [--no-actions-enabled | --actions-enabled [--alarm-actions <value>] [--insufficient-data-actions <value>] [--ok-actions <value>] ]
```
рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдХреИрд╕реЗ рдПрдХ рдореАрдЯреНрд░рд┐рдХ рдЕрд▓рд╛рд░реНрдо рдХреЛ рдЕрдкреНрд░рднрд╛рд╡реА рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:

- рдпрд╣ рдореАрдЯреНрд░рд┐рдХ рдЕрд▓рд╛рд░реНрдо рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ EC2 рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреЗ рдФрд╕рдд CPU рдЙрдкрдпреЛрдЧ рдХрд╛ рдореЙрдирд┐рдЯрд░ рдХрд░рддрд╛ рд╣реИ, рдореАрдЯреНрд░рд┐рдХ рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рд╣рд░ 300 рд╕реЗрдХрдВрдб рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ рдФрд░ 6 рдореВрд▓реНрдпрд╛рдВрдХрди рдЕрд╡рдзрд┐рдпреЛрдВ (рдХреБрд▓ 30 рдорд┐рдирдЯ) рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдпрджрд┐ рдФрд╕рдд CPU рдЙрдкрдпреЛрдЧ рдХрдо рд╕реЗ рдХрдо 4 рдЕрд╡рдзрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП 60% рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЕрд▓рд╛рд░реНрдо рдЯреНрд░рд┐рдЧрд░ рд╣реЛрдЧрд╛ рдФрд░ рдирд┐рд░реНрджрд┐рд╖реНрдЯ SNS рд╡рд┐рд╖рдп рдкрд░ рдПрдХ рд╕реВрдЪрдирд╛ рднреЗрдЬреЗрдЧрд╛ред
- рдереНрд░реЗрд╢реЛрд▓реНрдб рдХреЛ 99% рд╕реЗ рдЕрдзрд┐рдХ рд╕реЗрдЯ рдХрд░рдХреЗ, рдкреАрд░рд┐рдпрдб рдХреЛ 10 рд╕реЗрдХрдВрдб рдкрд░ рд╕реЗрдЯ рдХрд░рдХреЗ, рдореВрд▓реНрдпрд╛рдВрдХрди рдЕрд╡рдзрд┐рдпреЛрдВ рдХреЛ 8640 рдкрд░ рд╕реЗрдЯ рдХрд░рдХреЗ (рдХреНрдпреЛрдВрдХрд┐ 8640 рдЕрд╡рдзрд┐рдпрд╛рдВ 10 рд╕реЗрдХрдВрдб рдХреЗ рдмрд░рд╛рдмрд░ 1 рджрд┐рди рд╣реЛрддреА рд╣реИ), рдФрд░ рдбреЗрдЯрд╛рдкреЙрдЗрдВрдЯреНрд╕ рдХреЛ рдЕрд▓рд╛рд░реНрдо рдХреЛ рднреА 8640 рдкрд░ рд╕реЗрдЯ рдХрд░рдХреЗ, рдЗрд╕реЗ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдЧрд╛ рдХрд┐ CPU рдЙрдкрдпреЛрдЧ рдкреВрд░реЗ 24 рдШрдВрдЯреЗ рдХреЗ рджреМрд░рд╛рди рд╣рд░ 10 рд╕реЗрдХрдВрдб рдореЗрдВ 99% рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рддрд╛рдХрд┐ рдЕрд▓рд╛рд░реНрдо рдЯреНрд░рд┐рдЧрд░ рд╣реЛред

{% tabs %}
{% tab title="рдореВрд▓ рдореАрдЯреНрд░рд┐рдХ рдЕрд▓рд╛рд░реНрдо" %}
```json
{
"Namespace": "AWS/EC2",
"MetricName": "CPUUtilization",
"Dimensions": [
{
"Name": "InstanceId",
"Value": "i-01234567890123456"
}
],
"AlarmActions": [
"arn:aws:sns:us-east-1:123456789012:example_sns"
],
"ComparisonOperator": "GreaterThanThreshold",
"DatapointsToAlarm": 4,
"EvaluationPeriods": 6,
"Period": 300,
"Statistic": "Average",
"Threshold": 60,
"AlarmDescription": "CPU Utilization of i-01234567890123456 over 60%",
"AlarmName": "EC2 instance i-01234567890123456 CPU Utilization"
}
```
{% endtab %}
{% tab title="рд╕рдВрд╢реЛрдзрд┐рдд рдореИрдЯреНрд░рд┐рдХ рдЕрд▓рд╛рд░реНрдо" %}
```json
{
"Namespace": "AWS/EC2",
"MetricName": "CPUUtilization",
"Dimensions": [
{
"Name": "InstanceId",
"Value": "i-0645d6d414dadf9f8"
}
],
"AlarmActions": [],
"ComparisonOperator": "GreaterThanThreshold",
"DatapointsToAlarm": 8640,
"EvaluationPeriods": 8640,
"Period": 10,
"Statistic": "Average",
"Threshold": 99,
"AlarmDescription": "CPU Utilization of i-01234567890123456 with 60% as threshold",
"AlarmName": "Instance i-0645d6d414dadf9f8 CPU Utilization"
}

```
{% endtab %}
{% endtabs %}
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдорд╣рддреНрд╡рдкреВрд░реНрдг рдШрдЯрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕реВрдЪрдирд╛рдПрдВ рдХреА рдХрдореА, рд╕рдВрднрд╛рд╡рд┐рдд рдЕрдирдЬрд╛рдиреЗ рдореБрджреНрджреЗ, рдЧрд▓рдд рдЪреЗрддрд╛рд╡рдирд┐рдпрд╛рдБ, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдШрдЯрдирд╛рдУрдВ рдХреЗ рдЫреВрдЯ рдФрд░ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдШрдЯрдирд╛рдУрдВ рдХреЗ рдЫреВрдЯрдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ред

### **`cloudwatch:DeleteAlarmActions`,┬а`cloudwatch:EnableAlarmActions` , `cloudwatch:SetAlarmState`**

рдЕрд▓рд╛рд░реНрдо рдХреНрд░рд┐рдпрд╛рдПрдБ рд╣рдЯрд╛рдХрд░, рд╣рдорд▓рд╛рд╡рд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЪреЗрддрд╛рд╡рдирд┐рдпреЛрдВ рдФрд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдПрдВ рд░реЛрдХ рд╕рдХрддрд╛ рд╣реИ рдЬрдм рдПрдХ рдЕрд▓рд╛рд░реНрдо рд╕реНрдерд┐рддрд┐ рддрдХ рдкрд╣реБрдВрдЪ рдЬрд╛рддреА рд╣реИ, рдЬреИрд╕реЗ рдкреНрд░рд╢рд╛рд╕рдХреЛрдВ рдХреЛ рд╕реВрдЪрд┐рдд рдХрд░рдирд╛ рдпрд╛ рдСрдЯреЛ-рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдкреНрд░реЗрд░рд┐рдд рдХрд░рдирд╛ред рдЕрдиреБрдкрдпреБрдХреНрдд рд░реВрдк рд╕реЗ рдЕрд▓рд╛рд░реНрдо рдХреНрд░рд┐рдпрд╛рдПрдБ рд╕рдХреНрд╖рдо рдХрд░рдирд╛ рдпрд╛ рдкреБрдирдГ рд╕рдХреНрд╖рдо рдХрд░рдирд╛ рднреА рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд╡реНрдпрд╡рд╣рд╛рд░реЛрдВ рдореЗрдВ рд▓реЗ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдкрд╣рд▓реЗ рд╕реЗ рдЕрдХреНрд╖рдо рдХреНрд░рд┐рдпрд╛рдПрдБ рдкреБрдирдГ рд╕рдХреНрд░рд┐рдп рдХрд░рдХреЗ рдпрд╛ рдХрд┐рд╕ рдХреНрд░рд┐рдпрд╛рдПрдБ рдХреЛ рдкреНрд░реЗрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдШрдЯрдирд╛ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЗрдВ рднреНрд░рдо рдФрд░ рднрдЯрдХрд╛рд╡ рдХрд╛ рдХрд╛рд░рдг рдмрди рд╕рдХрддрд╛ рд╣реИред

рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рдЬрд┐рд╕рдХреЗ рдкрд╛рд╕ рдЕрдиреБрдорддрд┐ рд╣реИ, рд╡рд╣ рдЕрд▓рд╛рд░реНрдо рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЛ рдорд╛рдирд┐рдкреБрд▓реЗрдЯ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЭреВрдареЗ рдЕрд▓рд╛рд░реНрдо рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдкреНрд░рд╢рд╛рд╕рдХреЛрдВ рдХреЛ рднрдЯрдХрд╛рдП рдФрд░ рднреНрд░рдорд┐рдд рдХрд░реЗ, рдпрд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЕрд▓рд╛рд░реНрдо рдХреЛ рдЪреБрдк рдХрд░ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЪрд▓ рд░рд╣реА рджреБрд░рд╛рдЪрд╛рд░реА рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ рдпрд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕рд┐рд╕реНрдЯрдо рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЛ рдЫреБрдкрд╛ рд╕рдХреЗред

- рдпрджрд┐ рдЖрдк┬а**`SetAlarmState`**┬ардХрд╛ рдЙрдкрдпреЛрдЧ рдПрдХ рд╕рдВрдпреЛрдЬрд┐рдд рдЕрд▓рд╛рд░реНрдо рдкрд░ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╕рдВрдпреЛрдЬрд┐рдд рдЕрд▓рд╛рд░реНрдо рдХрд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕реНрдерд┐рддрд┐ рдорд╛рдиреНрдпрддрд╛ рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рд╣реИред рдпрд╣ рдЙрд╕рдХреА рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдХреЗрд╡рд▓ рддрдм рд▓реМрдЯрддрд╛ рд╣реИ рдЬрдм рднреА рдЙрд╕рдХреЗ рдХрд┐рд╕реА рднреА рдмрдЪреНрдЪреЛрдВ рдХреЗ рдЕрд▓рд╛рд░реНрдо рд╕реНрдерд┐рддрд┐ рдмрджрд▓ рдЬрд╛рддреА рд╣реИред рдпрд╣ рдЙрд╕рдХреА рд╡рд┐рдиреНрдпрд╛рд╕ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдиреЗ рдкрд░ рднреА рдкреБрдирд░реНрдореВрд▓реНрдпрд╛рдВрдХрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред
```bash
aws cloudwatch disable-alarm-actions --alarm-names <value>
aws cloudwatch enable-alarm-actions --alarm-names <value>
aws cloudwatch set-alarm-state --alarm-name <value> --state-value <OK | ALARM | INSUFFICIENT_DATA> --state-reason <value> [--state-reason-data <value>]
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдорд╣рддреНрд╡рдкреВрд░реНрдг рдШрдЯрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕реВрдЪрдирд╛рдПрдВ рдХреА рдХрдореА, рд╕рдВрднрд╛рд╡рд┐рдд рдЕрдирдЬрд╛рдиреЗ рдореБрджреНрджреЗ, рдЧрд▓рдд рдЕрд▓рд░реНрдЯ, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдШрдЯрдирд╛рдУрдВ рдХреЗ рдЫреВрдЯрдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ред

### **`cloudwatch:DeleteAnomalyDetector`,┬а`cloudwatch:PutAnomalyDetector`**

рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдЕрд╕рд╛рдорд╛рдиреНрдп рдкреИрдЯрд░реНрди рдпрд╛ рдЕрдирд┐рдпрдорд┐рддрддрд╛рдУрдВ рдХреА рдЦреЛрдЬ рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреА рдХреНрд╖рдорддрд╛ рдХреЛ рдХрдордЬреЛрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИред рдореМрдЬреВрджрд╛ рдЕрдирд┐рдпрдорд┐рддрддрд╛ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдХреЛ рд╣рдЯрд╛рдХрд░, рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЕрд▓рд░реНрдЯрд┐рдВрдЧ рддрдВрддреНрд░ рдХреЛ рдирд┐рд╖реЗрдзрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ; рдФрд░ рдЙрдиреНрд╣реЗрдВ рдмрдирд╛рдХрд░ рдпрд╛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдХреЗ, рдпрд╣ рдпрд╛ рддреЛ рдЧрд▓рдд рд░реВрдк рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдпрд╛ рдлрд┐рд░ рдирд┐рдЧрд░рд╛рдиреА рдХреЛ рднреНрд░рдорд┐рдд рдпрд╛ рдЕрдзрд┐рдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЭреВрд▓ рд╕рдХрддрд╛ рд╣реИред
```bash
aws cloudwatch delete-anomaly-detector [--cli-input-json <value> | --namespace <value> --metric-name <value> --dimensions <value> --stat <value>]
aws cloudwatch put-anomaly-detector [--cli-input-json <value> | --namespace <value> --metric-name <value> --dimensions <value> --stat <value> --configuration <value> --metric-characteristics <value>]
```
рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдХреИрд╕реЗ рдПрдХ рдореАрдЯреНрд░рд┐рдХ рд╡рд┐рд╕рдВрдЧрддрд┐ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдХреЛ рдЕрдкреНрд░рднрд╛рд╡реА рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣ рдореАрдЯреНрд░рд┐рдХ рд╡рд┐рд╕рдВрдЧрддрд┐ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ EC2 рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреЗ рдФрд╕рдд CPU рдЙрдкрдпреЛрдЧ рдХрд╛ рдореЙрдирд┐рдЯрд░ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдХреЗрд╡рд▓ "ExcludedTimeRanges" рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рд╡рд╛рдВрдЫрд┐рдд рд╕рдордп рд╕реАрдорд╛ рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рдиреЗ рд╕реЗ, рдпрд╣ рдкрд░реНрдпрд╛рдкреНрдд рд╣реЛрдЧрд╛ рдХрд┐ рд╡рд┐рд╕рдВрдЧрддрд┐ рдбрд┐рдЯреЗрдХреНрдЯрд░ рдЙрд╕ рдЕрд╡рдзрд┐ рдХреЗ рджреМрд░рд╛рди рдХрд┐рд╕реА рднреА рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рдбреЗрдЯрд╛ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдпрд╛ рдЪреЗрддрд╛рд╡рдиреА рди рджреЗрдВред
```json
{
"SingleMetricAnomalyDetector": {
"Namespace": "AWS/EC2",
"MetricName": "CPUUtilization",
"Stat": "Average",
"Dimensions": [
{
"Name": "InstanceId",
"Value": "i-0123456789abcdefg"
}
]
}
}
```
{% endtab %}
{% tab title="рд╕рдВрд╢реЛрдзрд┐рдд рдореИрдЯреНрд░рд┐рдХ рд╡рд┐рд╕рдВрдЧрддрд┐ рдбрд┐рдЯреЗрдХреНрдЯрд░" %}
```json
{
"SingleMetricAnomalyDetector": {
"Namespace": "AWS/EC2",
"MetricName": "CPUUtilization",
"Stat": "Average",
"Dimensions": [
{
"Name": "InstanceId",
"Value": "i-0123456789abcdefg"
}
]
},
"Configuration": {
"ExcludedTimeRanges": [
{
"StartTime": "2023-01-01T00:00:00Z",
"EndTime": "2053-01-01T23:59:59Z"
}
],
"Timezone": "Europe/Madrid"
}
}
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдЕрд╕рд╛рдорд╛рдиреНрдп рдкреИрдЯрд░реНрди рдпрд╛ рд╕реБрд░рдХреНрд╖рд╛ рдЦрддрд░реЛрдВ рдХреЗ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдореЗрдВ рд╕реАрдзрд╛ рдкреНрд░рднрд╛рд╡ред

### **`cloudwatch:DeleteDashboards`,┬а`cloudwatch:PutDashboard`**

рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рд╕рдВрдЧрдарди рдХреЗ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдФрд░ рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рдХреНрд╖рддрд┐ рдкрд╣реБрдВрдЪрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрдм рд╡рд╣ рдЙрд╕рдХреЗ рдбреИрд╢рдмреЛрд░реНрдб рдмрдирд╛рддрд╛, рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рддрд╛ рдпрд╛ рд╣рдЯрд╛рддрд╛ рд╣реИред рдпрд╣ рдЕрдиреБрдорддрд┐рдпрд╛рдБ рдорд╣рддреНрд╡рдкреВрд░реНрдг рджреГрд╢реНрдпрддрд╛ рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╣реЛ рд╕рдХрддреА рд╣реИрдВ, рд╕рд┐рд╕реНрдЯрдореЛрдВ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдФрд░ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдореЗрдВ рдмрджрд▓рд╛рд╡ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбреИрд╢рдмреЛрд░реНрдб рдХреЛ рдЧрд▓рдд рдбреЗрдЯрд╛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдпрд╛ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдЫреБрдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
```bash
aws cloudwatch delete-dashboards --dashboard-names <value>
aws cloudwatch put-dashboard --dashboard-name <value> --dashboard-body <value>
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рджреГрд╢реНрдпрддрд╛ рдХрд╛ рд╣рд╛рдирд┐ рдФрд░ рднреНрд░рд╛рдВрддрд┐рдХрд╛рд░рдХ рдЬрд╛рдирдХрд╛рд░реАред

### **`cloudwatch:DeleteInsightRules`,┬а`cloudwatch:PutInsightRule` ,`cloudwatch:PutManagedInsightRule`**

рдЗрдВрд╕рд╛рдЗрдЯ рдирд┐рдпрдо рдЕрдиреИрдорд▓реАрдЬрд╝ рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ, рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдФрд░ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред рдореМрдЬреВрджрд╛ рдЗрдВрд╕рд╛рдЗрдЯ рдирд┐рдпрдореЛрдВ рдХреЛ рд╣рдЯрд╛рдХрд░, рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рд╣рдЯрд╛ рд╕рдХрддрд╛ рд╣реИ, рдкреНрд░рджрд░реНрд╢рди рд╕рдорд╕реНрдпрд╛рдУрдВ рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рдЦрддрд░реЛрдВ рдХреЗ рд▓рд┐рдП рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдЕрдВрдзрд╛ рдЫреЛрдбрд╝ рджреЗрддреЗ рд╣реИрдВред рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рднреНрд░рд╛рдВрддрд┐рдХрд╛рд░рдХ рдбреЗрдЯрд╛ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдпрд╛ рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдВрд╕рд╛рдЗрдЯ рдирд┐рдпрдо рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЧрд▓рдд рдиреИрджрд╛рдирд┐рдХреА рдФрд░ рд╕рдВрдЪрд╛рд▓рди рдЯреАрдо рд╕реЗ рдЕрдиреБрдЪрд┐рдд рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдПрдВ рд╣реЛ рд╕рдХрддреА рд╣реИрдВред
```bash
aws cloudwatch delete-insight-rules --rule-names <value>
aws cloudwatch put-insight-rule --rule-name <value> --rule-definition <value> [--rule-state <value>]
aws cloudwatch put-managed-insight-rules --managed-rules <value>
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдкреНрд░рджрд░реНрд╢рди рд╕рдорд╕реНрдпрд╛рдУрдВ рдФрд░ рд╡рд┐рд╕рдВрдЧрддрд┐рдпреЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рдФрд░ рдЙрд╕рдХрд╛ рд╕рдВрдпреЛрдЬрди рдХрд░рдирд╛ рдХрдард┐рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЧрд▓рдд рдирд┐рд░реНрдгрдп рд▓реЗрдирд╛ рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рд░реВрдк рд╕реЗ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ рдпрд╛ рд╕рд┐рд╕реНрдЯрдо рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЛ рдЫреБрдкрд╛рдирд╛ред

### **`cloudwatch:DisableInsightRules`,┬а`cloudwatch:EnableInsightRules`**

рдорд╣рддреНрд╡рдкреВрд░реНрдг рдЗрдВрд╕рд╛рдЗрдЯ рдирд┐рдпрдореЛрдВ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░рдХреЗ, рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рд╕рдВрдЧрдарди рдХреЛ рдореБрдЦреНрдп рдкреНрд░рджрд░реНрд╢рди рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рдореИрдЯреНрд░рд┐рдХреНрд╕ рд╕реЗ рдЕрдВрдзрд╛ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИред рдЙрд▓реНрдЯрд╛, рдЧреБрдорд░рд╛рд╣рд╛рдирд╛ рдирд┐рдпрдореЛрдВ рдХреЛ рд╕рдХреНрд╖рдо рдпрд╛ рд╡рд┐рдирд╛рдореВрд▓рдХ рд░реВрдк рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдХреЗ, рдпрд╣ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдЧрд▓рдд рдбреЗрдЯрд╛ рдЙрддреНрдкрдиреНрди рдХрд░рдирд╛, рд╢реЛрд░ рдмрдирд╛рдирд╛, рдпрд╛ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреЛ рдЫреБрдкрд╛рдирд╛ рд╕рдВрднрд╡ рд╣реЛред
```bash
aws cloudwatch disable-insight-rules --rule-names <value>
aws cloudwatch enable-insight-rules --rule-names <value>
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдСрдкрд░реЗрд╢рдиреНрд╕ рдЯреАрдо рдХреЗ рдмреАрдЪ рднреНрд░рд╛рдВрддрд┐, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдореБрджреНрджреЛрдВ рдХреЗ рд▓рд┐рдП рд╡рд┐рд▓рдВрдмрд┐рдд рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдПрдБ рдФрд░ рдЧрд▓рдд рдЕрд▓рд░реНрдЯреЛрдВ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдЕрдирд╛рд╡рд╢реНрдпрдХ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдореЗрдВ рд╡рд┐рд▓рдореНрдмред

### **`cloudwatch:DeleteMetricStream` ,┬а`cloudwatch:PutMetricStream` , `cloudwatch:PutMetricData`**

рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдХреЗ рдкрд╛рд╕ **`cloudwatch:DeleteMetricStream`** ,┬а**`cloudwatch:PutMetricStream`** рдЕрдиреБрдорддрд┐рдпрд╛рдБ рд╣реЛрдиреЗ рдкрд░ рдореЗрдЯреНрд░рд┐рдХ рдбреЗрдЯрд╛ рд╕реНрдЯреНрд░реАрдо рдмрдирд╛рдиреЗ рдФрд░ рд╣рдЯрд╛рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрдЧреА, рд╕реБрд░рдХреНрд╖рд╛, рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдФрд░ рдбреЗрдЯрд╛ рдЕрдЦрдВрдбрддрд╛ рдХреЛ рдЦрддрд░реЗ рдореЗрдВ рдбрд╛рд▓рддреЗ рд╣реБрдП:

- **рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рд╕реНрдЯреНрд░реАрдо рдмрдирд╛рдирд╛**: рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреЛ рдЕрдирдзрд┐рдХреГрдд рд╕реНрдерд╛рдиреЛрдВ рдкрд░ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдореЗрдЯреНрд░рд┐рдХ рд╕реНрдЯреНрд░реАрдо рдмрдирд╛рдПрдВред
- **рд╕рдВрд╕рд╛рдзрди рдореЗрдВ рджрдЦрд▓**: рдЕрддреНрдпрдзрд┐рдХ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдирдИ рдореЗрдЯреНрд░рд┐рдХ рд╕реНрдЯреНрд░реАрдо рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдЧрд▓рдд рдЕрд▓рд░реНрдЯреНрд╕ рдХрд╛ рдХрд╛рд░рдг рдмрди рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ рд╕рд╣реА рдореБрджреНрджреЛрдВ рдХреЛ рдорд╛рд╕реНрдХ рдХрд░ рд╕рдХрддрд╛ рд╣реИред
- **рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рд╡рд┐рдШрдЯрди**: рдореЗрдЯреНрд░рд┐рдХ рд╕реНрдЯреНрд░реАрдо рдХреЛ рд╣рдЯрд╛рдХрд░, рд╣рдорд▓рд╛рд╡рд░ рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдбреЗрдЯрд╛ рдХреА рдирд┐рд░рдВрддрд░ рдкреНрд░рд╡рд╛рд╣ рдХреЛ рд╡рд┐рдШрдЯрд┐рдд рдХрд░реЗрдВрдЧреЗред рдЗрд╕ рддрд░рд╣, рдЙрдирдХреЗ рджреБрд░реНрднрд╛рдЧреНрдпрдкреВрд░реНрдг рдЧрддрд┐рд╡рд┐рдзрд┐рдпрд╛рдБ рдкреНрд░рднрд╛рд╡реА рдврдВрдЧ рд╕реЗ рдЫрд┐рдкреА рд░рд╣реЗрдВрдЧреАред

рдЙрд╕реА рдкреНрд░рдХрд╛рд░, **`cloudwatch:PutMetricData`** рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде, рдореЗрдЯреНрд░рд┐рдХ рд╕реНрдЯреНрд░реАрдо рдореЗрдВ рдбреЗрдЯрд╛ рдЬреЛрдбрд╝рдирд╛ рд╕рдВрднрд╡ рд╣реЛрдЧрд╛ред рдпрд╣ рдЕрдиреБрдЪрд┐рдд рдбреЗрдЯрд╛ рдХреА рдорд╛рддреНрд░рд╛ рдХреЗ рдХрд╛рд░рдг рдПрдХ рдбреАрдУрдПрд╕ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдпрд╣ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрдиреБрдкрдпреЛрдЧреА рд╣реЛ рдЬрд╛рдПред
```bash
aws cloudwatch delete-metric-stream --name <value>
aws cloudwatch put-metric-stream --name <value> [--include-filters <value>] [--exclude-filters <value>] --firehose-arn <value> --role-arn <value> --output-format <value>
aws cloudwatch put-metric-data --namespace <value> [--metric-data <value>] [--metric-name <value>] [--timestamp <value>] [--unit <value>] [--value <value>] [--dimensions <value>]
```
рдПрдХ рджрд┐рдП рдЧрдП EC2 рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдкрд░ CPU рдЙрдкрдпреЛрдЧ рдХрд╛ 70% рдХрд╛ рдбреЗрдЯрд╛ рдЬреЛрдбрд╝рдиреЗ рдХрд╛ рдЙрджрд╛рд╣рд░рдг:
```bash
aws cloudwatch put-metric-data --namespace "AWS/EC2" --metric-name "CPUUtilization" --value 70 --unit "Percent" --dimensions "InstanceId=i-0123456789abcdefg"
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдбреЗрдЯрд╛ рдХреЗ рдлреНрд▓реЛ рдореЗрдВ рд╡рд┐рдШрдЯрди, рдЕрдиреЙрдорд▓реА рдФрд░ рдШрдЯрдирд╛рдУрдВ рдХреЗ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдореЗрдВ рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реЛрдирд╛, рд╕рдВрд╕рд╛рдзрди рдкрд░рд┐рд╡рд░реНрддрди рдФрд░ рдЕрддреНрдпрдзрд┐рдХ рдореАрдЯреНрд░рд┐рдХ рд╕реНрдЯреНрд░реАрдо рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рдХрд╛рд░рдг рд▓рд╛рдЧрдд рдмрдврд╝рдирд╛ред

### **`cloudwatch:StopMetricStreams`,┬а`cloudwatch:StartMetricStreams`**

рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдкреНрд░рднрд╛рд╡рд┐рдд рдореАрдЯреНрд░рд┐рдХ рдбреЗрдЯрд╛ рд╕реНрдЯреНрд░реАрдо рдХреЗ рдлреНрд▓реЛ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░реЗрдЧрд╛ (рдпрджрд┐ рдХреЛрдИ рд╕рдВрд╕рд╛рдзрди рдкреНрд░рддрд┐рдмрдВрдз рдирд╣реАрдВ рд╣реИ рддреЛ рд╣рд░ рдбреЗрдЯрд╛ рд╕реНрдЯреНрд░реАрдо)ред рдЕрдиреБрдорддрд┐ рдХреЗ рд╕рд╛рде **`cloudwatch:StopMetricStreams`**, рд╣рдорд▓рд╛рд╡рд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдореАрдЯреНрд░рд┐рдХ рд╕реНрдЯреНрд░реАрдо рдХреЛ рдмрдВрдж рдХрд░рдХреЗ рдЕрдкрдиреА рджреБрд░рд╛рдЪрд╛рд░реА рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рдЫреБрдкрд╛ рд╕рдХрддрд╛ рд╣реИред
```bash
aws cloudwatch stop-metric-streams --names <value>
aws cloudwatch start-metric-streams --names <value>
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ рдбреЗрдЯрд╛ рдХреЗ рдлреНрд▓реЛ рдореЗрдВ рд╡рд┐рдШрдЯрди, рдЕрдиреИрдорд▓реАрдЬ рдФрд░ рдШрдЯрдирд╛рдУрдВ рдХреЗ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдореЗрдВ рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

### **`cloudwatch:TagResource`,┬а`cloudwatch:UntagResource`**

рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдХреЛ рдХреНрд▓рд╛рдЙрдбрд╡реЙрдЪ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рд╕реЗ рдЯреИрдЧ рдЬреЛрдбрд╝рдиреЗ, рд╕рдВрд╢реЛрдзрд┐рдд рдХрд░рдиреЗ, рдпрд╛ рд╣рдЯрд╛рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реЛрдЧреА (рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдХреЗрд╡рд▓ рдЕрд▓рд╛рд░реНрдо рдФрд░ рдпреЛрдЧрджрд╛рдирдХрд░реНрддрд╛ рдЗрдВрд╕рд╛рдЗрдЯреНрд╕ рдирд┐рдпрдоред) рдЗрд╕рд╕реЗ рдЖрдкрдХреЗ рд╕рдВрдЧрдарди рдХреЗ рдПрдХреНрд╕реЗрд╕ рдирд┐рдпрдВрддреНрд░рдг рдиреАрддрд┐рдпреЛрдВ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рдЕрдзрд┐рдХрд╛рд░ рдореЗрдВ рд╡рд┐рдШрдЯрди рд╣реЛ рд╕рдХрддрд╛ рд╣реИред
```bash
aws cloudwatch tag-resource --resource-arn <value> --tags <value>
aws cloudwatch untag-resource --resource-arn <value> --tag-keys <value>
```
**рд╕рдВрднрд╛рд╡рд┐рдд рдкреНрд░рднрд╛рд╡**: рдЯреИрдЧ-рдЖрдзрд╛рд░рд┐рдд рдкрд╣реБрдВрдЪ рдирд┐рдпрдВрддреНрд░рдг рдиреАрддрд┐рдпреЛрдВ рдХрд╛ рд╡рд┐рдШрдЯрдиред

## рд╕рдВрджрд░реНрдн

* [https://cloudsecdocs.com/aws/services/logging/cloudwatch/](https://cloudsecdocs.com/aws/services/logging/cloudwatch/#general-info)
* [https://docs.aws.amazon.com/service-authorization/latest/reference/list_amazoncloudwatch.html](https://docs.aws.amazon.com/service-authorization/latest/reference/list_amazoncloudwatch.html)
* [https://docs.aws.amazon.com/es_es/AmazonCloudWatch/latest/monitoring/cloudwatch_concepts.html#Metric](https://docs.aws.amazon.com/es_es/AmazonCloudWatch/latest/monitoring/cloudwatch_concepts.html#Metric)

<details>

<summary><strong>рдЬрд╛рдиреЗрдВ AWS рд╣реИрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рд╕реЗ рд╣реАрд░реЛ рддрдХ</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рдЕрдиреНрдп рддрд░реАрдХреЗ:

* рдпрджрд┐ рдЖрдк рдЕрдкрдиреА **рдХрдВрдкрдиреА рдХрд╛ рд╡рд┐рдЬреНрдЮрд╛рдкрди HackTricks рдореЗрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рдпрд╛ **HackTricks рдХреЛ PDF рдореЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ** рддреЛ [**рд╕рдмреНрд╕рдХреНрд░рд┐рдкреНрд╢рди рдкреНрд▓рд╛рдиреНрд╕**](https://github.com/sponsors/carlospolop) рджреЗрдЦреЗрдВ!
* [**рдЖрдзрд┐рдХрд╛рд░рд┐рдХ PEASS & HackTricks рд╕реНрд╡реИрдЧ**](https://peass.creator-spring.com) рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
* рд╣рдорд╛рд░реЗ рд╡рд┐рд╢реЗрд╖ [**NFTs**](https://opensea.io/collection/the-peass-family) рдХрд▓реЗрдХреНрд╢рди, [**The PEASS Family**](https://opensea.io/collection/the-peass-family) рдЦреЛрдЬреЗрдВ
* **рдЬреБрдбрд╝реЗрдВ** ЁЯТм [**рдбрд┐рд╕реНрдХреЙрд░реНрдб рд╕рдореВрд╣**](https://discord.gg/hRep4RUj7f) рдпрд╛ [**рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕рдореВрд╣**](https://t.me/peass) рдореЗрдВ рдпрд╛ рд╣рдореЗрдВ **рдЯреНрд╡рд┐рдЯрд░** ЁЯРж [**@hacktricks_live**](https://twitter.com/hacktricks_live)** рдкрд░ рдлреЙрд▓реЛ** рдХрд░реЗрдВред
* **рд╣реИрдХрд┐рдВрдЧ рдЯреНрд░рд┐рдХреНрд╕ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, PRs рд╕рдмрдорд┐рдЯ рдХрд░рдХреЗ** [**HackTricks**](https://github.com/carlospolop/hacktricks) рдФрд░ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos рдореЗрдВред

</details>
