# AWS - DocumentDB Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## DocumentDB

Amazon DocumentDB, —â–æ –ø—Ä–æ–ø–æ–Ω—É—î —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å –∑ MongoDB, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π —è–∫ **—à–≤–∏–¥–∫–∞, –Ω–∞–¥—ñ–π–Ω–∞ —Ç–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –∫–µ—Ä–æ–≤–∞–Ω–∞ —Å–ª—É–∂–±–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö**. –†–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç–∏ –≤ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—ñ, –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó —Ç–∞ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—ñ, –≤—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î **–±–µ–∑–ø–µ—Ä–µ—à–∫–æ–¥–Ω—É –º—ñ–≥—Ä–∞—Ü—ñ—é —Ç–∞ –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—é –±–∞–∑ –¥–∞–Ω–∏—Ö, —Å—É–º—ñ—Å–Ω–∏—Ö –∑ MongoDB, —É —Ö–º–∞—Ä—ñ**. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü—é —Å–ª—É–∂–±—É –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–≤–æ–≥–æ —ñ—Å–Ω—É—é—á–æ–≥–æ –∫–æ–¥—É –¥–æ–¥–∞—Ç–∫—ñ–≤ —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–Ω–∞–π–æ–º—ñ –¥—Ä–∞–π–≤–µ—Ä–∏ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, —â–æ –∑–∞–±–µ–∑–ø–µ—á—É—î –ø–ª–∞–≤–Ω–∏–π –ø–µ—Ä–µ—Ö—ñ–¥ —Ç–∞ –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—é, –ø–æ–¥—ñ–±–Ω—É –¥–æ —Ä–æ–±–æ—Ç–∏ –∑ MongoDB.

### Enumeration
```bash
aws docdb describe-db-clusters # Get username from "MasterUsername", get also the endpoint from "Endpoint"
aws docdb describe-db-instances #Get hostnames from here

# Parameter groups
aws docdb describe-db-cluster-parameter-groups
aws docdb describe-db-cluster-parameters --db-cluster-parameter-group-name <param_group_name>

# Snapshots
aws docdb describe-db-cluster-snapshots
aws --region us-east-1 --profile ad docdb describe-db-cluster-snapshot-attributes --db-cluster-snapshot-identifier <snap_id>
```
### NoSQL Injection

–û—Å–∫—ñ–ª—å–∫–∏ DocumentDB —î —Å—É–º—ñ—Å–Ω–æ—é –∑ MongoDB –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö, –≤–∏ –º–æ–∂–µ—Ç–µ —É—è–≤–∏—Ç–∏, —â–æ –≤–æ–Ω–∞ —Ç–∞–∫–æ–∂ –≤—Ä–∞–∑–ª–∏–≤–∞ –¥–æ –ø–æ—à–∏—Ä–µ–Ω–∏—Ö –∞—Ç–∞–∫ NoSQL injection:

{% embed url="https://book.hacktricks.xyz/pentesting-web/nosql-injection" %}

### DocumentDB

{% content-ref url="../aws-unauthenticated-enum-access/aws-documentdb-enum.md" %}
[aws-documentdb-enum.md](../aws-unauthenticated-enum-access/aws-documentdb-enum.md)
{% endcontent-ref %}

## References

* [https://aws.amazon.com/blogs/database/analyze-amazon-documentdb-workloads-with-performance-insights/](https://aws.amazon.com/blogs/database/analyze-amazon-documentdb-workloads-with-performance-insights/)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
