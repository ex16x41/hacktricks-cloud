# AWS - VPC & Networking Grundinformationen

{% hint style="success" %}
Lernen & √ºben Sie AWS Hacking:<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Lernen & √ºben Sie GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtzen Sie HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos senden.

</details>
{% endhint %}

## AWS Networking auf einen Blick

Ein **VPC** enth√§lt ein **Netzwerk CIDR** wie 10.0.0.0/16 (mit seiner **Routing-Tabelle** und **Netzwerk-ACL**).

Dieses VPC-Netzwerk ist in **Subnetze** unterteilt, sodass ein **Subnetz** direkt mit dem **VPC**, der **Routing-Tabelle** und der **Netzwerk-ACL** **verbunden** ist.

Dann sind **Netzwerkschnittstellen**, die an Dienste (wie EC2-Instanzen) angeschlossen sind, mit den **Subnetzen** √ºber **Sicherheitsgruppen** **verbunden**.

Daher wird eine **Sicherheitsgruppe** die exponierten Ports der Netzwerk **schnittstellen, die sie verwenden**, **unabh√§ngig vom Subnetz** einschr√§nken. Und eine **Netzwerk-ACL** wird die exponierten Ports f√ºr das **gesamte Netzwerk** **einschr√§nken**.

Dar√ºber hinaus gibt es einige interessante Konfigurationen zu √ºberpr√ºfen, um **auf das Internet zuzugreifen**:

* Ein **Subnetz** kann **automatisch √∂ffentliche IPv4-Adressen zuweisen**
* Eine **Instanz**, die im Netzwerk erstellt wird, das **IPv4-Adressen automatisch zuweist, kann eine erhalten**
* Ein **Internet-Gateway** muss an das **VPC** **angeschlossen** werden
* Sie k√∂nnten auch **Egress-only Internet-Gateways** verwenden
* Sie k√∂nnten auch ein **NAT-Gateway** in einem **privaten Subnetz** haben, sodass es m√∂glich ist, **von diesem privaten Subnetz aus auf externe Dienste zuzugreifen**, aber es ist **nicht m√∂glich, sie von au√üen zu erreichen**.
* Das NAT-Gateway kann **√∂ffentlich** (Zugriff auf das Internet) oder **privat** (Zugriff auf andere VPCs) sein.

![](<../../../../.gitbook/assets/image (274).png>)

## VPC

Amazon **Virtual Private Cloud** (Amazon VPC) erm√∂glicht es Ihnen, **AWS-Ressourcen in ein virtuelles Netzwerk** zu **starten**, das Sie definiert haben. Dieses virtuelle Netzwerk wird mehrere Subnetze, Internet-Gateways zum Zugriff auf das Internet, ACLs, Sicherheitsgruppen, IPs...

### Subnetze

Subnetze helfen, ein h√∂heres Ma√ü an Sicherheit durchzusetzen. **Logische Gruppierung √§hnlicher Ressourcen** hilft Ihnen auch, eine **einfache Verwaltung** √ºber Ihre Infrastruktur aufrechtzuerhalten.

* G√ºltige CIDR sind von einer /16-Netzmaske bis zu einer /28-Netzmaske.
* Ein Subnetz kann nicht gleichzeitig in verschiedenen Verf√ºgbarkeitszonen sein.
* **AWS reserviert die ersten drei Host-IP-Adressen** jedes Subnetzes **f√ºr** **interne AWS-Nutzung**: Die erste Hostadresse wird f√ºr den VPC-Router verwendet. Die zweite Adresse ist f√ºr AWS DNS reserviert und die dritte Adresse ist f√ºr zuk√ºnftige Verwendung reserviert.
* Es wird als **√∂ffentliche Subnetze** bezeichnet, die **direkten Zugang zum Internet haben, w√§hrend private Subnetze dies nicht tun.**

<figure><img src="https://lh5.googleusercontent.com/N_WTrTrDAHwN61FMKJvLSHVua2EM0IazHH1fSTg8JQfTChm-dLN9mn7wkjz2MlpD-uOUqtWdMZpqKOp4VxaHy5-5X66GD1K8y1UGc27r-GbHdFty9ImpXdcjEsC7u4vjxKme_B_HwDOUnG6camxENYECTw=s2048" alt=""><figcaption></figcaption></figure>

<figure><img src="https://lh3.googleusercontent.com/MmjfVzGmV4jM7tO8lVoTKONoeqbq6E40DGeKUoo4kN-lmMDKnEiGNB-gGVx3EvjK9UV844im225CA8aAjomHf1Modt3MramHrHZdEGbeSZncWhVuT9R8f7tQZ2pXjdSJxeNfErmJ-0mmcUaV6dcU0TAd2A=s2048" alt=""><figcaption></figcaption></figure>

### Routing-Tabellen

Routing-Tabellen bestimmen die Verkehrslenkung f√ºr ein Subnetz innerhalb eines VPC. Sie bestimmen, welcher Netzwerkverkehr ins Internet oder zu einer VPN-Verbindung weitergeleitet wird. Sie finden normalerweise den Zugang zu:

* Lokales VPC
* NAT
* Internet-Gateways / Egress-only Internet-Gateways (notwendig, um einem VPC Zugang zum Internet zu geben).
* Um ein Subnetz √∂ffentlich zu machen, m√ºssen Sie ein **Internet-Gateway** **erstellen** und **an Ihr VPC anh√§ngen**.
* VPC-Endpunkte (um von privaten Netzwerken auf S3 zuzugreifen)

In den folgenden Bildern k√∂nnen Sie die Unterschiede zwischen einem standardm√§√üigen √∂ffentlichen Netzwerk und einem privaten Netzwerk √ºberpr√ºfen:

<figure><img src="https://lh3.googleusercontent.com/q4ASpcLAYqijdNMLhMLl8EoowDtTMU5I_7YCVfk7-5hxDyeQOik9ImHnD2SYy32XUA2qXjEbXTAxA1lP--znJASdhYOdBveDcrD42f9XBKZ3EmjJCazN3YPLC6oS0xtRMmfORuwCszmMt-KrAkH07_izwg=s2048" alt=""><figcaption></figcaption></figure>

<figure><img src="https://lh5.googleusercontent.com/30psylXAI0gRN6_LK-reP00aGIlMma64E1qafCVPunn6nS-y5jAO6Y2JiempKcf6-LFi7ScicYcOh7BbHEya2VWtksnFX_8SPXQf97tKkg2tNZzrArWbiDCCn2m2LP1QUq6MZ_KayH3yir7t8zpO7CEQOw=s2048" alt=""><figcaption></figcaption></figure>

### ACLs

**Netzwerkzugriffskontrolllisten (ACLs)**: Netzwerk-ACLs sind Firewall-Regeln, die den eingehenden und ausgehenden Netzwerkverkehr zu einem Subnetz steuern. Sie k√∂nnen verwendet werden, um den Verkehr zu bestimmten IP-Adressen oder -Bereichen zuzulassen oder abzulehnen.

* Es ist am h√§ufigsten, den Zugriff mit Sicherheitsgruppen zu erlauben/zu verweigern, aber dies ist der einzige Weg, um bereits etablierte Reverse-Shells vollst√§ndig zu unterbrechen. Eine ge√§nderte Regel in einer Sicherheitsgruppe stoppt keine bereits etablierten Verbindungen.
* Dies gilt jedoch f√ºr das gesamte Subnetz, seien Sie vorsichtig, wenn Sie Dinge verbieten, da die ben√∂tigte Funktionalit√§t gest√∂rt werden k√∂nnte.

### Sicherheitsgruppen

Sicherheitsgruppen sind eine virtuelle **Firewall**, die den eingehenden und ausgehenden Netzwerk **verkehr zu Instanzen** in einem VPC steuert. Beziehung 1 SG zu M Instanzen (normalerweise 1 zu 1).\
Normalerweise wird dies verwendet, um gef√§hrliche Ports in Instanzen zu √∂ffnen, wie zum Beispiel Port 22:

<figure><img src="https://lh5.googleusercontent.com/LliB7eb3cYfkEyOpyw1-eYgWsn2kq1yF6uRn5VYndvOuTvDlURimYx9UvuK8F2impTLmx50mid4MdTXE-Ljt2i_rxaIfnKUdji_hFjCdU9tdoW-axng9-W4tSL71gbbjrPQ7IYY5lAdH_G3UoMRMGGGOxQ=s2048" alt=""><figcaption></figcaption></figure>

### Elastische IP-Adressen

Eine _Elastische IP-Adresse_ ist eine **statische IPv4-Adresse**, die f√ºr dynamisches Cloud-Computing konzipiert ist. Eine elastische IP-Adresse wird Ihrem AWS-Konto zugewiesen und geh√∂rt Ihnen, bis Sie sie freigeben. Durch die Verwendung einer elastischen IP-Adresse k√∂nnen Sie den Ausfall einer Instanz oder Software maskieren, indem Sie die Adresse schnell auf eine andere Instanz in Ihrem Konto umschalten.

### Verbindung zwischen Subnetzen

Standardm√§√üig haben alle Subnetze die **automatische Zuweisung √∂ffentlicher IP-Adressen deaktiviert**, aber sie kann aktiviert werden.

**Eine lokale Route innerhalb einer Routing-Tabelle erm√∂glicht die Kommunikation zwischen VPC-Subnetzen.**

Wenn Sie ein **Subnetz mit einem anderen Subnetz verbinden, k√∂nnen Sie nicht auf die mit dem anderen Subnetz verbundenen Subnetze zugreifen**, Sie m√ºssen die Verbindung direkt mit ihnen herstellen. **Dies gilt auch f√ºr Internet-Gateways**. Sie k√∂nnen nicht √ºber eine Subnetzverbindung auf das Internet zugreifen, Sie m√ºssen das Internet-Gateway Ihrem Subnetz zuweisen.

### VPC-Peering

VPC-Peering erm√∂glicht es Ihnen, **zwei oder mehr VPCs miteinander zu verbinden**, indem Sie IPV4 oder IPV6 verwenden, als ob sie Teil desselben Netzwerks w√§ren.

Sobald die Peer-Verbindung hergestellt ist, k√∂nnen **Ressourcen in einer VPC auf Ressourcen in der anderen zugreifen**. Die Konnektivit√§t zwischen den VPCs wird √ºber die bestehende AWS-Netzwerkinfrastruktur implementiert, und ist daher hochverf√ºgbar ohne Bandbreitenengpass. Da **gepeerte Verbindungen so funktionieren, als w√§ren sie Teil desselben Netzwerks**, gibt es Einschr√§nkungen hinsichtlich der CIDR-Blockbereiche, die verwendet werden k√∂nnen.\
Wenn Sie **√ºberlappende oder doppelte CIDR**-Bereiche f√ºr Ihre VPC haben, dann **k√∂nnen Sie die VPCs nicht miteinander peeren**.\
Jede AWS VPC wird **nur mit ihrem Peer kommunizieren**. Zum Beispiel, wenn Sie eine Peering-Verbindung zwischen VPC 1 und VPC 2 haben und eine andere Verbindung zwischen VPC 2 und VPC 3, wie gezeigt, dann k√∂nnten VPC 1 und 2 direkt miteinander kommunizieren, ebenso wie VPC 2 und VPC 3, jedoch k√∂nnten VPC 1 und VPC 3 nicht. **Sie k√∂nnen nicht durch eine VPC routen, um zu einer anderen zu gelangen.**

### **VPC Flow Logs**

Innerhalb Ihres VPC k√∂nnten Sie potenziell Hunderte oder sogar Tausende von Ressourcen haben, die alle zwischen verschiedenen Subnetzen, sowohl √∂ffentlichen als auch privaten, und auch zwischen verschiedenen VPCs √ºber VPC-Peering-Verbindungen kommunizieren. **VPC Flow Logs erm√∂glichen es Ihnen, IP-Verkehrsinformationen zu erfassen, die zwischen den Netzwerkschnittstellen Ihrer Ressourcen innerhalb Ihres VPC flie√üen**.

Im Gegensatz zu S3-Zugriffsprotokollen und CloudFront-Zugriffsprotokollen werden die **Protokolldaten, die von VPC Flow Logs generiert werden, nicht in S3 gespeichert. Stattdessen werden die erfassten Protokolldaten an CloudWatch-Protokolle gesendet**.

Einschr√§nkungen:

* Wenn Sie eine VPC-Peering-Verbindung betreiben, k√∂nnen Sie nur die Flow-Logs der gepeerten VPCs sehen, die sich im selben Konto befinden.
* Wenn Sie weiterhin Ressourcen in der EC2-Classic-Umgebung betreiben, k√∂nnen Sie leider keine Informationen von deren Schnittstellen abrufen.
* Sobald ein VPC Flow Log erstellt wurde, kann es nicht mehr ge√§ndert werden. Um die Konfiguration des VPC Flow Logs zu √§ndern, m√ºssen Sie es l√∂schen und dann ein neues erstellen.
* Der folgende Verkehr wird nicht √ºberwacht und von den Protokollen erfasst. DHCP-Verkehr innerhalb des VPC, Verkehr von Instanzen, der f√ºr den Amazon DNS-Server bestimmt ist.
* Jeglicher Verkehr, der an die IP-Adresse des VPC-Standardrouters gerichtet ist, und Verkehr zu und von den folgenden Adressen, 169.254.169.254, die zur Erfassung von Instanzmetadaten verwendet wird, und 169.254.169.123, die f√ºr den Amazon Time Sync Service verwendet wird.
* Verkehr, der sich auf eine Amazon Windows-Aktivierungs Lizenz von einer Windows-Instanz bezieht.
* Verkehr zwischen einer Netzwerk-Load-Balancer-Schnittstelle und einer Endpunkt-Netzwerkschnittstelle.

F√ºr jede Netzwerkschnittstelle, die Daten an die CloudWatch-Protokollgruppe ver√∂ffentlicht, wird ein anderer Protokollstream verwendet. Und innerhalb jedes dieser Streams gibt es die Flow-Log-Ereignisdaten, die den Inhalt der Protokolleintr√§ge zeigen. Jedes dieser **Protokolle erfasst Daten w√§hrend eines Zeitfensters von ungef√§hr 10 bis 15 Minuten**.

## VPN

### Grundlegende AWS VPN-Komponenten

1. **Kundengateway**:
* Ein Kundengateway ist eine Ressource, die Sie in AWS erstellen, um Ihre Seite einer VPN-Verbindung darzustellen.
* Es ist im Wesentlichen ein physisches Ger√§t oder eine Softwareanwendung auf Ihrer Seite der Site-to-Site-VPN-Verbindung.
* Sie geben Routinginformationen und die √∂ffentliche IP-Adresse Ihres Netzwerkger√§ts (wie einen Router oder eine Firewall) an AWS an, um ein Kundengateway zu erstellen.
* Es dient als Referenzpunkt f√ºr die Einrichtung der VPN-Verbindung und verursacht keine zus√§tzlichen Kosten.
2. **Virtuelles privates Gateway**:
* Ein virtuelles privates Gateway (VPG) ist der VPN-Konzentrator auf der Amazon-Seite der Site-to-Site-VPN-Verbindung.
* Es ist an Ihr VPC angeschlossen und dient als Ziel f√ºr Ihre VPN-Verbindung.
* VPG ist der AWS-Seitenendpunkt f√ºr die VPN-Verbindung.
* Es verwaltet die sichere Kommunikation zwischen Ihrem VPC und Ihrem lokalen Netzwerk.
3. **Site-to-Site-VPN-Verbindung**:
* Eine Site-to-Site-VPN-Verbindung verbindet Ihr lokales Netzwerk mit einem VPC √ºber einen sicheren IPsec-VPN-Tunnel.
* Diese Art von Verbindung erfordert ein Kundengateway und ein virtuelles privates Gateway.
* Es wird f√ºr sichere, stabile und konsistente Kommunikation zwischen Ihrem Rechenzentrum oder Netzwerk und Ihrer AWS-Umgebung verwendet.
* Typischerweise f√ºr regelm√§√üige, langfristige Verbindungen verwendet und wird basierend auf der Menge der √ºber die Verbindung √ºbertragenen Daten abgerechnet.
4. **Client-VPN-Endpunkt**:
* Ein Client-VPN-Endpunkt ist eine Ressource, die Sie in AWS erstellen, um Client-VPN-Sitzungen zu aktivieren und zu verwalten.
* Es wird verwendet, um einzelnen Ger√§ten (wie Laptops, Smartphones usw.) eine sichere Verbindung zu AWS-Ressourcen oder Ihrem lokalen Netzwerk zu erm√∂glichen.
* Es unterscheidet sich von Site-to-Site-VPN, da es f√ºr einzelne Clients konzipiert ist, anstatt ganze Netzwerke zu verbinden.
* Mit Client-VPN verwendet jedes Client-Ger√§t eine VPN-Client-Software, um eine sichere Verbindung herzustellen.

### Site-to-Site-VPN

**Verbinden Sie Ihr lokales Netzwerk mit Ihrem VPC.**

* **VPN-Verbindung**: Eine sichere Verbindung zwischen Ihrer lokalen Ausr√ºstung und Ihren VPCs.
* **VPN-Tunnel**: Ein verschl√ºsselter Link, √ºber den Daten vom Kundennetzwerk zu oder von AWS √ºbertragen werden k√∂nnen.

Jede VPN-Verbindung umfasst zwei VPN-Tunnel, die Sie gleichzeitig f√ºr hohe Verf√ºgbarkeit nutzen k√∂nnen.
* **Kundengateway**: Eine AWS-Ressource, die Informationen √ºber Ihr Kundengateway-Ger√§t an AWS bereitstellt.
* **Kundengateway-Ger√§t**: Ein physisches Ger√§t oder eine Softwareanwendung auf Ihrer Seite der Site-to-Site-VPN-Verbindung.
* **Virtuelles privates Gateway**: Der VPN-Konzentrator auf der Amazon-Seite der Site-to-Site-VPN-Verbindung. Sie verwenden ein virtuelles privates Gateway oder ein Transit-Gateway als Gateway f√ºr die Amazon-Seite der Site-to-Site-VPN-Verbindung.
* **Transit-Gateway**: Ein Transit-Hub, der verwendet werden kann, um Ihre VPCs und lokalen Netzwerke miteinander zu verbinden. Sie verwenden ein Transit-Gateway oder ein virtuelles privates Gateway als Gateway f√ºr die Amazon-Seite der Site-to-Site-VPN-Verbindung.

#### Einschr√§nkungen

* IPv6-Verkehr wird f√ºr VPN-Verbindungen auf einem virtuellen privaten Gateway nicht unterst√ºtzt.
* Eine AWS-VPN-Verbindung unterst√ºtzt kein Path MTU Discovery.

Dar√ºber hinaus sollten Sie Folgendes ber√ºcksichtigen, wenn Sie Site-to-Site-VPN verwenden.

* Wenn Sie Ihre VPCs mit einem gemeinsamen lokalen Netzwerk verbinden, empfehlen wir, nicht √ºberlappende CIDR-Bl√∂cke f√ºr Ihre Netzwerke zu verwenden.

### Client-VPN <a href="#what-is-components" id="what-is-components"></a>

**Verbinden Sie sich von Ihrem Computer mit Ihrem VPC**

#### Konzepte

* **Client-VPN-Endpunkt:** Die Ressource, die Sie erstellen und konfigurieren, um Client-VPN-Sitzungen zu aktivieren und zu verwalten. Es ist die Ressource, an der alle Client-VPN-Sitzungen beendet werden.
* **Zielnetzwerk:** Ein Zielnetzwerk ist das Netzwerk, das Sie mit einem Client-VPN-Endpunkt verkn√ºpfen. **Ein Subnetz aus einem VPC ist ein Zielnetzwerk**. Das Verkn√ºpfen eines Subnetzes mit einem Client-VPN-Endpunkt erm√∂glicht es Ihnen, VPN-Sitzungen einzurichten. Sie k√∂nnen mehrere Subnetze mit einem Client-VPN-Endpunkt f√ºr hohe Verf√ºgbarkeit verkn√ºpfen. Alle Subnetze m√ºssen aus demselben VPC stammen. Jedes Subnetz muss zu einer anderen Verf√ºgbarkeitszone geh√∂ren.
* **Route**: Jeder Client-VPN-Endpunkt hat eine Routing-Tabelle, die die verf√ºgbaren Zielnetzwerk-Routen beschreibt. Jede Route in der Routing-Tabelle gibt den Pfad f√ºr den Verkehr zu bestimmten Ressourcen oder Netzwerken an.
* **Autorisierungsregeln:** Eine Autorisierungsregel **beschr√§nkt die Benutzer, die auf ein Netzwerk zugreifen k√∂nnen**. F√ºr ein bestimmtes Netzwerk konfigurieren Sie die Active Directory- oder Identit√§tsanbieter (IdP)-Gruppe, die den Zugriff erlaubt. Nur Benutzer, die zu dieser Gruppe geh√∂ren, k√∂nnen auf das angegebene Netzwerk zugreifen. **Standardm√§√üig gibt es keine Autorisierungsregeln**, und Sie m√ºssen Autorisierungsregeln konfigurieren, um Benutzern den Zugriff auf Ressourcen und Netzwerke zu erm√∂glichen.
* **Client:** Der Endbenutzer, der sich mit dem Client-VPN-Endpunkt verbindet, um eine VPN-Sitzung einzurichten. Endbenutzer m√ºssen einen OpenVPN-Client herunterladen und die von Ihnen erstellte Client-VPN-Konfigurationsdatei verwenden, um eine VPN-Sitzung einzurichten.
* **Client-CIDR-Bereich:** Ein IP-Adressbereich, aus dem Client-IP-Adressen zugewiesen werden. Jede Verbindung zum Client-VPN-Endpunkt erh√§lt eine eindeutige IP-Adresse aus dem Client-CIDR-Bereich. Sie w√§hlen den Client-CIDR-Bereich, zum Beispiel `10.2.0.0/16`.
* **Client-VPN-Ports:** AWS Client-VPN unterst√ºtzt die Ports 443 und 1194 sowohl f√ºr TCP als auch f√ºr UDP. Der Standardport ist 443.
* **Client-VPN-Netzwerkschnittstellen:** Wenn Sie ein Subnetz mit Ihrem Client-VPN-Endpunkt verkn√ºpfen, erstellen wir Client-VPN-Netzwerkschnittstellen in diesem Subnetz. **Der Verkehr, der vom Client-VPN-Endpunkt an das VPC gesendet wird, wird √ºber eine Client-VPN-Netzwerkschnittstelle gesendet**. Die Quellnetzwerkadress√ºbersetzung (SNAT) wird dann angewendet, wobei die Quell-IP-Adresse aus dem Client-CIDR-Bereich in die IP-Adresse der Client-VPN-Netzwerkschnittstelle √ºbersetzt wird.
* **Verbindungsprotokollierung:** Sie k√∂nnen die Verbindungsprotokollierung f√ºr Ihren Client-VPN-Endpunkt aktivieren, um Verbindungsereignisse zu protokollieren. Sie k√∂nnen diese Informationen verwenden, um forensische Analysen durchzuf√ºhren, zu analysieren, wie Ihr Client-VPN-Endpunkt verwendet wird, oder Verbindungsprobleme zu debuggen.
* **Self-Service-Portal:** Sie k√∂nnen ein Self-Service-Portal f√ºr Ihren Client-VPN-Endpunkt aktivieren. Clients k√∂nnen sich mit ihren Anmeldeinformationen in das webbasierte Portal einloggen und die neueste Version der Client-VPN-Endpunkt-Konfigurationsdatei oder die neueste Version des von AWS bereitgestellten Clients herunterladen.

#### Einschr√§nkungen

* **Client-CIDR-Bereiche d√ºrfen nicht mit dem lokalen CIDR** des VPC, in dem sich das zugeordnete Subnetz befindet, oder mit Routen, die manuell zur Routing-Tabelle des Client-VPN-Endpunkts hinzugef√ºgt wurden, √ºberlappen.
* Client-CIDR-Bereiche m√ºssen eine Blockgr√∂√üe von **mindestens /22** haben und d√ºrfen **nicht gr√∂√üer als /12** sein.
* Ein **Teil der Adressen** im Client-CIDR-Bereich wird verwendet, um das Verf√ºgbarkeitsmodell des Client-VPN-Endpunkts zu **unterst√ºtzen** und kann nicht an Clients zugewiesen werden. Daher empfehlen wir, dass Sie **einen CIDR-Block zuweisen, der doppelt so viele IP-Adressen enth√§lt, wie erforderlich sind**, um die maximale Anzahl gleichzeitiger Verbindungen zu erm√∂glichen, die Sie auf dem Client-VPN-Endpunkt unterst√ºtzen m√∂chten.
* Der **Client-CIDR-Bereich kann nicht ge√§ndert** werden, nachdem Sie den Client-VPN-Endpunkt erstellt haben.
* Die **Subnetze**, die mit einem Client-VPN-Endpunkt **verkn√ºpft sind, m√ºssen im selben VPC** sein.
* Sie **k√∂nnen keine mehreren Subnetze aus derselben Verf√ºgbarkeitszone mit einem Client-VPN-Endpunkt verkn√ºpfen**.
* Ein Client-VPN-Endpunkt **unterst√ºtzt keine Subnetzverkn√ºpfungen in einem dedizierten Tenancy-VPC**.
* Client-VPN unterst√ºtzt **nur IPv4**-Verkehr.
* Client-VPN ist **nicht** konform mit den Federal Information Processing Standards (**FIPS**).
* Wenn die Multi-Faktor-Authentifizierung (MFA) f√ºr Ihr Active Directory deaktiviert ist, kann ein Benutzerpasswort nicht im folgenden Format vorliegen.

```
SCRV1:<base64_encoded_string>:<base64_encoded_string>
```
* Das Self-Service-Portal ist **nicht verf√ºgbar f√ºr Clients, die sich mit gegenseitiger Authentifizierung authentifizieren**.

{% hint style="success" %}
Lernen & √ºben Sie AWS Hacking:<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Lernen & √ºben Sie GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtzen Sie HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos senden.

</details>
{% endhint %}
