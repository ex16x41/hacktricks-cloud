# AWS - VPC & Networking Basic Information

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## AWS Networking in a Nutshell

A **VPC** contains a **network CIDR** like 10.0.0.0/16 (with its **routing table** and **network ACL**).

рдпрд╣ VPC рдиреЗрдЯрд╡рд░реНрдХ **рдЙрдкрдиреЗрдЯрд╡рд░реНрдХ** рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рд╣реИ, рдЗрд╕рд▓рд┐рдП рдПрдХ **рдЙрдкрдиреЗрдЯрд╡рд░реНрдХ** рд╕реАрдзреЗ **VPC**, **рд░реВрдЯрд┐рдВрдЧ** **рдЯреЗрдмрд▓** рдФрд░ **рдиреЗрдЯрд╡рд░реНрдХ ACL** рд╕реЗ **рд╕рдВрдмрдВрдзрд┐рдд** рд╣реИред

рдлрд┐рд░, рд╕реЗрд╡рд╛рдУрдВ (рдЬреИрд╕реЗ EC2 рдЙрджрд╛рд╣рд░рдг) рд╕реЗ рдЬреБрдбрд╝реЗ **рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕** **рдЙрдкрдиреЗрдЯрд╡рд░реНрдХ** рд╕реЗ **рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣реЛрдВ** рдХреЗ рд╕рд╛рде **рдЬреБрдбрд╝реЗ** рд╣реЛрддреЗ рд╣реИрдВред

рдЗрд╕рд▓рд┐рдП, рдПрдХ **рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣** рдиреЗрдЯрд╡рд░реНрдХ **рдЗрдВрдЯрд░рдлреЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп** рдЙрдЬрд╛рдЧрд░ рдкреЛрд░реНрдЯ рдХреЛ рд╕реАрдорд┐рдд рдХрд░реЗрдЧрд╛, **рдЙрдкрдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ рд╕реНрд╡рддрдВрддреНрд░**ред рдФрд░ рдПрдХ **рдиреЗрдЯрд╡рд░реНрдХ ACL** **рдкреВрд░реЗ рдиреЗрдЯрд╡рд░реНрдХ** рдХреЗ рд▓рд┐рдП рдЙрдЬрд╛рдЧрд░ рдкреЛрд░реНрдЯ рдХреЛ **рд╕реАрдорд┐рдд** рдХрд░реЗрдЧрд╛ред

рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, **рдЗрдВрдЯрд░рдиреЗрдЯ** рддрдХ **рдкрд╣реБрдБрдЪрдиреЗ** рдХреЗ рд▓рд┐рдП рдХреБрдЫ рджрд┐рд▓рдЪрд╕реНрдк рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЬрд╛рдВрдЪрдирд╛ рд╣реИ:

* рдПрдХ **рдЙрдкрдиреЗрдЯрд╡рд░реНрдХ** **рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ IPv4 рдкрддреЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЕрд╕рд╛рдЗрди рдХрд░ рд╕рдХрддрд╛ рд╣реИ**
* рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ **рдмрдирд╛рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг** рдХреЛ **IPv4 рдкрддреЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЕрд╕рд╛рдЗрди** рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ
* рдПрдХ **рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ** рдХреЛ **VPC** рд╕реЗ **рдЬреБрдбрд╝рд╛** рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП
* рдЖрдк **Egress-only рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ** рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ
* рдЖрдкрдХреЗ рдкрд╛рд╕ рдПрдХ **NAT рдЧреЗрдЯрд╡реЗ** рдПрдХ **рдирд┐рдЬреА рдЙрдкрдиреЗрдЯ** рдореЗрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЙрд╕ рдирд┐рдЬреА рдЙрдкрдиреЗрдЯ рд╕реЗ **рдмрд╛рд╣рд░реА рд╕реЗрд╡рд╛рдУрдВ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдирд╛** рд╕рдВрднрд╡ рд╣реЛ, рд▓реЗрдХрд┐рди рдЗрд╕реЗ **рдмрд╛рд╣рд░ рд╕реЗ рдкрд╣реБрдБрдЪрд╛рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИ**ред
* NAT рдЧреЗрдЯрд╡реЗ **рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ** (рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рдкрд╣реБрдБрдЪ) рдпрд╛ **рдирд┐рдЬреА** (рдЕрдиреНрдп VPCs рддрдХ рдкрд╣реБрдБрдЪ) рд╣реЛ рд╕рдХрддрд╛ рд╣реИ

![](<../../../../.gitbook/assets/image (274).png>)

## VPC

Amazon **рд╡рд░реНрдЪреБрдЕрд▓ рдкреНрд░рд╛рдЗрд╡реЗрдЯ рдХреНрд▓рд╛рдЙрдб** (Amazon VPC) рдЖрдкрдХреЛ **рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ AWS рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд▓реЙрдиреНрдЪ рдХрд░рдиреЗ** рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдЖрдкрдиреЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рд╣реИред рдЗрд╕ рд╡рд░реНрдЪреБрдЕрд▓ рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдХрдИ рдЙрдкрдиреЗрдЯ рд╣реЛрдВрдЧреЗ, рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, ACLs, рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣, рдЖрдИрдкреА...

### Subnets

рдЙрдкрдиреЗрдЯ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рдПрдХ рдЙрдЪреНрдЪ рд╕реНрддрд░ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреЗ рд╣реИрдВред **рд╕рдорд╛рди рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХрд╛ рддрд╛рд░реНрдХрд┐рдХ рд╕рдореВрд╣** рдЖрдкрдХреЗ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдореЗрдВ **рдкреНрд░рдмрдВрдзрди рдореЗрдВ рдЖрд╕рд╛рдиреА** рдмрдирд╛рдП рд░рдЦрдиреЗ рдореЗрдВ рднреА рдорджрдж рдХрд░рддрд╛ рд╣реИред

* рдорд╛рдиреНрдп CIDR рдПрдХ /16 рдиреЗрдЯрдорд╛рд╕реНрдХ рд╕реЗ рд▓реЗрдХрд░ /28 рдиреЗрдЯрдорд╛рд╕реНрдХ рддрдХ рд╣реИрдВред
* рдПрдХ рдЙрдкрдиреЗрдЯ рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ред
* **AWS рдкреНрд░рддреНрдпреЗрдХ рдЙрдкрдиреЗрдЯ рдХреЗ рдкрд╣рд▓реЗ рддреАрди рд╣реЛрд╕реНрдЯ IP рдкрддреЗ** рдХреЛ **рдЖрдВрддрд░рд┐рдХ AWS рдЙрдкрдпреЛрдЧ** рдХреЗ рд▓рд┐рдП **рдЖрд░рдХреНрд╖рд┐рдд** рдХрд░рддрд╛ рд╣реИ: рдкрд╣рд▓рд╛ рд╣реЛрд╕реНрдЯ рдкрддрд╛ VPC рд░рд╛рдЙрдЯрд░ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рджреВрд╕рд░рд╛ рдкрддрд╛ AWS DNS рдХреЗ рд▓рд┐рдП рдЖрд░рдХреНрд╖рд┐рдд рд╣реИ рдФрд░ рддреАрд╕рд░рд╛ рдкрддрд╛ рднрд╡рд┐рд╖реНрдп рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЖрд░рдХреНрд╖рд┐рдд рд╣реИред
* рдЙрдиреНрд╣реЗрдВ **рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЙрдкрдиреЗрдЯ** рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рдирдХрд╛ **рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рд╕реАрдзрд╛ рдкрд╣реБрдБрдЪ рд╣реИ, рдЬрдмрдХрд┐ рдирд┐рдЬреА рдЙрдкрдиреЗрдЯ рдирд╣реАрдВ рд╣реИред**

<figure><img src="https://lh5.googleusercontent.com/N_WTrTrDAHwN61FMKJvLSHVua2EM0IazHH1fSTg8JQfTChm-dLN9mn7wkjz2MlpD-uOUqtWdMZpqKOp4VxaHy5-5X66GD1K8y1UGc27r-GbHdFty9ImpXdcjEsC7u4vjxKme_B_HwDOUnG6camxENYECTw=s2048" alt=""><figcaption></figcaption></figure>

<figure><img src="https://lh3.googleusercontent.com/MmjfVzGmV4jM7tO8lVoTKONoeqbq6E40DGeKUoo4kN-lmMDKnEiGNB-gGVx3EvjK9UV844im225CA8aAjomHf1Modt3MramHrHZdEGbeSZncWhVuT9R8f7tQZ2pXjdSJxeNfErmJ-0mmcUaV6dcU0TAd2A=s2048" alt=""><figcaption></figcaption></figure>

### Route Tables

рд░реВрдЯ рдЯреЗрдмрд▓ рдПрдХ VPC рдХреЗ рднреАрддрд░ рдПрдХ рдЙрдкрдиреЗрдЯ рдХреЗ рд▓рд┐рдП рдЯреНрд░реИрдлрд╝рд┐рдХ рд░реВрдЯрд┐рдВрдЧ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИрдВред рд╡реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдХреМрди рд╕рд╛ рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд╝рд┐рдХ рдЗрдВрдЯрд░рдиреЗрдЯ рдпрд╛ VPN рдХрдиреЗрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдЕрдЧреНрд░реЗрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЖрдк рдЖрдорддреМрд░ рдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрдХ рдкрд╣реБрдБрдЪ рдкрд╛рдПрдВрдЧреЗ:

* рд╕реНрдерд╛рдиреАрдп VPC
* NAT
* рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ / Egress-only рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ (рдЬреЛ VPC рдХреЛ рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рдкрд╣реБрдБрдЪ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИрдВ)ред
* рдПрдХ рдЙрдкрдиреЗрдЯ рдХреЛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдЕрдкрдиреЗ VPC рд╕реЗ **рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ** рдХреЛ **рдмрдирд╛рдирд╛** рдФрд░ **рдЬреЛрдбрд╝рдирд╛** рд╣реЛрдЧрд╛ред
* VPC рдПрдВрдбрдкреЙрдЗрдВрдЯ (рдирд┐рдЬреА рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ S3 рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП)

рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд┐рддреНрд░реЛрдВ рдореЗрдВ рдЖрдк рдПрдХ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рдПрдХ рдирд┐рдЬреА рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рдмреАрдЪ рдХреЗ рдЕрдВрддрд░ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ:

<figure><img src="https://lh3.googleusercontent.com/q4ASpcLAYqijdNMLhMLl8EoowDtTMU5I_7YCVfk7-5hxDyeQOik9ImHnD2SYy32XUA2qXjEbXTAxA1lP--znJASdhYOdBveDcrD42f9XBKZ3EmjJCazN3YPLC6oS0xtRMmfORuwCszmMt-KrAkH07_izwg=s2048" alt=""><figcaption></figcaption></figure>

<figure><img src="https://lh5.googleusercontent.com/30psylXAI0gRN6_LK-reP00aGIlMma64E1qafCVPunn6nS-y5jAO6Y2JiempKcf6-LFi7ScicYcOh7BbHEya2VWtksnFX_8SPXQf97tKkg2tNZzrArWbiDCCn2m2LP1QUq6MZ_KayH3yir7t8zpO7CEQOw=s2048" alt=""><figcaption></figcaption></figure>

### ACLs

**рдиреЗрдЯрд╡рд░реНрдХ рдПрдХреНрд╕реЗрд╕ рдХрдВрдЯреНрд░реЛрд▓ рд╕реВрдЪрд┐рдпрд╛рдБ (ACLs)**: рдиреЗрдЯрд╡рд░реНрдХ ACLs рдлрд╝рд╛рдпрд░рд╡реЙрд▓ рдирд┐рдпрдо рд╣реИрдВ рдЬреЛ рдПрдХ рдЙрдкрдиреЗрдЯ рдХреЗ рд▓рд┐рдП рдЖрдиреЗ рд╡рд╛рд▓реЗ рдФрд░ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред рдЗрдиреНрд╣реЗрдВ рд╡рд┐рд╢рд┐рд╖реНрдЯ IP рдкрддреЗ рдпрд╛ рд░реЗрдВрдЬ рдХреЗ рд▓рд┐рдП рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдЕрдиреБрдорддрд┐ рдпрд╛ рдЕрд╕реНрд╡реАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

* рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрд╣реБрдБрдЪ рдХреЛ рдЕрдиреБрдорддрд┐/рдЕрд╕реНрд╡реАрдХреГрдд рдХрд░рдирд╛ рд╕рдмрд╕реЗ рд╕рд╛рдорд╛рдиреНрдп рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд╕реНрдерд╛рдкрд┐рдд рд░рд┐рд╡рд░реНрд╕ рд╢реЗрд▓ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдХрд╛рдЯрдиреЗ рдХрд╛ рдПрдХрдорд╛рддреНрд░ рддрд░реАрдХрд╛ рд╣реИред рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣ рдореЗрдВ рд╕рдВрд╢реЛрдзрд┐рдд рдирд┐рдпрдо рдкрд╣рд▓реЗ рд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрдиреЗрдХреНрд╢рдиреЛрдВ рдХреЛ рд░реЛрдХрддрд╛ рдирд╣реАрдВ рд╣реИ
* рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрд╣ рдкреВрд░реЗ рдЙрдкрдиреЗрдЯ рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЪреАрдЬрд╝реЛрдВ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░рддреЗ рд╕рдордп рд╕рд╛рд╡рдзрд╛рди рд░рд╣реЗрдВ рдХреНрдпреЛрдВрдХрд┐ рдЖрд╡рд╢реНрдпрдХ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реЛ рд╕рдХрддреА рд╣реИ

### Security Groups

рд╕реБрд░рдХреНрд╖рд╛ рд╕рдореВрд╣ рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ **рдлрд╝рд╛рдпрд░рд╡реЙрд▓** рд╣реИрдВ рдЬреЛ VPC рдореЗрдВ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдЗрдирдмрд╛рдЙрдВрдб рдФрд░ рдЖрдЙрдЯрдмрд╛рдЙрдВрдб рдиреЗрдЯрд╡рд░реНрдХ **рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд** рдХрд░рддреЗ рд╣реИрдВред рд╕рдВрдмрдВрдз 1 SG рд╕реЗ M рдЙрджрд╛рд╣рд░рдгреЛрдВ (рдЖрдорддреМрд░ рдкрд░ 1 рд╕реЗ 1)ред\
рдЖрдорддреМрд░ рдкрд░ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ рдЦрддрд░рдирд╛рдХ рдкреЛрд░реНрдЯ рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдкреЛрд░реНрдЯ 22:

<figure><img src="https://lh5.googleusercontent.com/LliB7eb3cYfkEyOpyw1-eYgWsn2kq1yF6uRn5VYndvOuTvDlURimYx9UvuK8F2impTLmx50mid4MdTXE-Ljt2i_rxaIfnKUdji_hFjCdU9tdoW-axng9-W4tSL71gbbjrPQ7IYY5lAdH_G3UoMRMGGGOxQ=s2048" alt=""><figcaption></figcaption></figure>

### Elastic IP Addresses

An _Elastic IP address_ is a **static IPv4 address** designed for dynamic cloud computing. An Elastic IP address is allocated to your AWS account, and is yours until you release it. By using an Elastic IP address, you can mask the failure of an instance or software by rapidly remapping the address to another instance in your account.

### Connection between subnets

By default, all subnets have the **automatic assigned of public IP addresses turned off** but it can be turned on.

**A local route within a route table enables communication between VPC subnets.**

рдпрджрд┐ рдЖрдк **рдПрдХ рдЙрдкрдиреЗрдЯ рдХреЛ рдПрдХ рдЕрд▓рдЧ рдЙрдкрдиреЗрдЯ рд╕реЗ рдЬреЛрдбрд╝ рд░рд╣реЗ рд╣реИрдВ рддреЛ рдЖрдк рдЕрдиреНрдп рдЙрдкрдиреЗрдЯ рд╕реЗ рдЬреБрдбрд╝реЗ рдЙрдкрдиреЗрдЯреНрд╕ рддрдХ рдкрд╣реБрдБрдЪ рдирд╣реАрдВ рд╕рдХрддреЗ**, рдЖрдкрдХреЛ рдЙрдирдХреЗ рд╕рд╛рде рд╕реАрдзреЗ рдХрдиреЗрдХреНрд╢рди рдмрдирд╛рдирд╛ рд╣реЛрдЧрд╛ред **рдпрд╣ рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ рдкрд░ рднреА рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ**ред рдЖрдк рдЗрдВрдЯрд░рдиреЗрдЯ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдиреЗрдЯ рдХрдиреЗрдХреНрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд╣реАрдВ рдЬрд╛ рд╕рдХрддреЗ, рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдЙрдкрдиреЗрдЯ рдХреЛ рдЗрдВрдЯрд░рдиреЗрдЯ рдЧреЗрдЯрд╡реЗ рдЕрд╕рд╛рдЗрди рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред

### VPC Peering

VPC рдкреАрдпрд░рд┐рдВрдЧ рдЖрдкрдХреЛ **рджреЛ рдпрд╛ рдЕрдзрд┐рдХ VPCs рдХреЛ рдПрдХ рд╕рд╛рде рдЬреЛрдбрд╝рдиреЗ** рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ, IPV4 рдпрд╛ IPV6 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдЬреИрд╕реЗ рдХрд┐ рд╡реЗ рдПрдХ рд╣реА рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реЛрдВред

рдПрдХ рдмрд╛рд░ рдЬрдм рдкреАрдпрд░ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рд╕реНрдерд╛рдкрд┐рдд рд╣реЛ рдЬрд╛рддреА рд╣реИ, рддреЛ **рдПрдХ VPC рдореЗрдВ рд╕рдВрд╕рд╛рдзрди рджреВрд╕рд░реЗ VPC рдореЗрдВ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддреЗ рд╣реИрдВ**ред VPCs рдХреЗ рдмреАрдЪ рдХрдиреЗрдХреНрдЯрд┐рд╡рд┐рдЯреА рдореМрдЬреВрджрд╛ AWS рдиреЗрдЯрд╡рд░реНрдХ рдЕрд╡рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓рд╛рдЧреВ рдХреА рдЬрд╛рддреА рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП рдпрд╣ рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреЗ рд╕рд╛рде рд╣реЛрддреА рд╣реИ рдФрд░ рдХреЛрдИ рдмреИрдВрдбрд╡рд┐рдбреНрде рдмрд╛рдзрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред рдЪреВрдВрдХрд┐ **рдкреАрдпрд░реНрдб рдХрдиреЗрдХреНрд╢рди рдРрд╕реЗ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ рдЬреИрд╕реЗ рд╡реЗ рдПрдХ рд╣реА рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реЛрдВ**, рдЖрдкрдХреЗ CIDR рдмреНрд▓реЙрдХ рд░реЗрдВрдЬ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдХреБрдЫ рдкреНрд░рддрд┐рдмрдВрдз рд╣реИрдВред\
рдпрджрд┐ рдЖрдкрдХреЗ VPC рдХреЗ рд▓рд┐рдП **рдУрд╡рд░рд▓реИрдкрд┐рдВрдЧ рдпрд╛ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ CIDR** рд░реЗрдВрдЬ рд╣реИрдВ, рддреЛ **рдЖрдк VPCs рдХреЛ рдПрдХ рд╕рд╛рде рдкреАрдпрд░ рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗ**ред\
рдкреНрд░рддреНрдпреЗрдХ AWS VPC **рдХреЗрд╡рд▓ рдЕрдкрдиреЗ рдкреАрдпрд░ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░реЗрдЧрд╛**ред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ VPC 1 рдФрд░ VPC 2 рдХреЗ рдмреАрдЪ рдПрдХ рдкреАрдпрд░рд┐рдВрдЧ рдХрдиреЗрдХреНрд╢рди рд╣реИ, рдФрд░ VPC 2 рдФрд░ VPC 3 рдХреЗ рдмреАрдЪ рдПрдХ рдФрд░ рдХрдиреЗрдХреНрд╢рди рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ VPC 1 рдФрд░ 2 рдПрдХ-рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рд╕реАрдзреЗ рд╕рдВрд╡рд╛рдж рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ VPC 2 рдФрд░ VPC 3, рд╣рд╛рд▓рд╛рдБрдХрд┐, VPC 1 рдФрд░ VPC 3 рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред **рдЖрдк рдПрдХ VPC рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рджреВрд╕рд░реЗ VPC рддрдХ рдирд╣реАрдВ рдкрд╣реБрдБрдЪ рд╕рдХрддреЗред**

### **VPC Flow Logs**

Within your VPC, you could potentially have hundreds or even thousands of resources all communicating between different subnets both public and private and also between different VPCs through VPC peering connections. **VPC Flow Logs allow you to capture IP traffic information that flows between your network interfaces of your resources within your VPC**.

Unlike S3 access logs and CloudFront access logs, the **log data generated by VPC Flow Logs is not stored in S3. Instead, the log data captured is sent to CloudWatch logs**.

Limitations:

* If you are running a VPC peered connection, then you'll only be able to see flow logs of peered VPCs that are within the same account.
* If you are still running resources within the EC2-Classic environment, then unfortunately you are not able to retrieve information from their interfaces
* Once a VPC Flow Log has been created, it cannot be changed. To alter the VPC Flow Log configuration, you need to delete it and then recreate a new one.
* The following traffic is not monitored and captured by the logs. DHCP traffic within the VPC, traffic from instances destined for the Amazon DNS Server.
* Any traffic destined to the IP address for the VPC default router and traffic to and from the following addresses, 169.254.169.254 which is used for gathering instance metadata, and 169.254.169.123 which is used for the Amazon Time Sync Service.
* Traffic relating to an Amazon Windows activation license from a Windows instance
* Traffic between a network load balancer interface and an endpoint network interface

For every network interface that publishes data to the CloudWatch log group, it will use a different log stream. And within each of these streams, there will be the flow log event data that shows the content of the log entries. Each of these **logs captures data during a window of approximately 10 to 15 minutes**.

## VPN

### Basic AWS VPN Components

1. **Customer Gateway**:
* A Customer Gateway is a resource that you create in AWS to represent your side of a VPN connection.
* It is essentially a physical device or software application on your side of the Site-to-Site VPN connection.
* You provide routing information and the public IP address of your network device (such as a router or a firewall) to AWS to create a Customer Gateway.
* It serves as a reference point for setting up the VPN connection and doesn't incur additional charges.
2. **Virtual Private Gateway**:
* A Virtual Private Gateway (VPG) is the VPN concentrator on the Amazon side of the Site-to-Site VPN connection.
* It is attached to your VPC and serves as the target for your VPN connection.
* VPG is the AWS side endpoint for the VPN connection.
* It handles the secure communication between your VPC and your on-premises network.
3. **Site-to-Site VPN Connection**:
* A Site-to-Site VPN connection connects your on-premises network to a VPC through a secure, IPsec VPN tunnel.
* This type of connection requires a Customer Gateway and a Virtual Private Gateway.
* It's used for secure, stable, and consistent communication between your data center or network and your AWS environment.
* Typically used for regular, long-term connections and is billed based on the amount of data transferred over the connection.
4. **Client VPN Endpoint**:
* A Client VPN endpoint is a resource that you create in AWS to enable and manage client VPN sessions.
* It is used for allowing individual devices (like laptops, smartphones, etc.) to securely connect to AWS resources or your on-premises network.
* It differs from Site-to-Site VPN in that it is designed for individual clients rather than connecting entire networks.
* With Client VPN, each client device uses a VPN client software to establish a secure connection.

### Site-to-Site VPN

**рдЕрдкрдиреЗ рдСрди-рдкреНрд░рд┐рдорд╛рдЗрд╕реЗрд╕ рдиреЗрдЯрд╡рд░реНрдХ рдХреЛ рдЕрдкрдиреЗ VPC рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВред**

* **VPN рдХрдиреЗрдХреНрд╢рди**: рдЖрдкрдХреЗ рдСрди-рдкреНрд░рд┐рдорд╛рдЗрд╕реЗрд╕ рдЙрдкрдХрд░рдг рдФрд░ рдЖрдкрдХреЗ VPCs рдХреЗ рдмреАрдЪ рдПрдХ рд╕реБрд░рдХреНрд╖рд┐рдд рдХрдиреЗрдХреНрд╢рдиред
*   **VPN рдЯрдирд▓**: рдПрдХ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд▓рд┐рдВрдХ рдЬрд╣рд╛рдВ рдбреЗрдЯрд╛ рдЧреНрд░рд╛рд╣рдХ рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ AWS рдпрд╛ рдЗрд╕рдХреЗ рд╡рд┐рдкрд░реАрдд рдкрд╛рд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реИред

рдкреНрд░рддреНрдпреЗрдХ VPN рдХрдиреЗрдХреНрд╢рди рдореЗрдВ рджреЛ VPN рдЯрдирд▓ рд╢рд╛рдорд┐рд▓ рд╣реЛрддреЗ рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд╛рде рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
* **рдЧреНрд░рд╛рд╣рдХ рдЧреЗрдЯрд╡реЗ**: рдПрдХ AWS рд╕рдВрд╕рд╛рдзрди рдЬреЛ AWS рдХреЛ рдЖрдкрдХреЗ рдЧреНрд░рд╛рд╣рдХ рдЧреЗрдЯрд╡реЗ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред
* **рдЧреНрд░рд╛рд╣рдХ рдЧреЗрдЯрд╡реЗ рдбрд┐рд╡рд╛рдЗрд╕**: рдЖрдкрдХреЗ рд╕рд╛рдЗрдЯ-рд╕реЗ-рд╕рд╛рдЗрдЯ VPN рдХрдиреЗрдХреНрд╢рди рдХреЗ рдЖрдкрдХреЗ рдкрдХреНрд╖ рдкрд░ рдПрдХ рднреМрддрд┐рдХ рдбрд┐рд╡рд╛рдЗрд╕ рдпрд╛ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рдиред
* **рд╡рд░реНрдЪреБрдЕрд▓ рдкреНрд░рд╛рдЗрд╡реЗрдЯ рдЧреЗрдЯрд╡реЗ**: рд╕рд╛рдЗрдЯ-рд╕реЗ-рд╕рд╛рдЗрдЯ VPN рдХрдиреЗрдХреНрд╢рди рдХреЗ Amazon рдкрдХреНрд╖ рдкрд░ VPN рдХрдВрд╕рдВрдЯреНрд░реЗрдЯрд░ред рдЖрдк рд╕рд╛рдЗрдЯ-рд╕реЗ-рд╕рд╛рдЗрдЯ VPN рдХрдиреЗрдХреНрд╢рди рдХреЗ Amazon рдкрдХреНрд╖ рдХреЗ рд▓рд┐рдП рдЧреЗрдЯрд╡реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдкреНрд░рд╛рдЗрд╡реЗрдЯ рдЧреЗрдЯрд╡реЗ рдпрд╛ рдПрдХ рдЯреНрд░рд╛рдВрдЬрд┐рдЯ рдЧреЗрдЯрд╡реЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред
* **рдЯреНрд░рд╛рдВрдЬрд┐рдЯ рдЧреЗрдЯрд╡реЗ**: рдПрдХ рдЯреНрд░рд╛рдВрдЬрд┐рдЯ рд╣рдм рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЖрдк рдЕрдкрдиреЗ VPCs рдФрд░ рдСрди-рдкреНрд░рд┐рдорд╛рдЗрд╕реЗрд╕ рдиреЗрдЯрд╡рд░реНрдХ рдХреЛ рдЗрдВрдЯрд░рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдк рд╕рд╛рдЗрдЯ-рд╕реЗ-рд╕рд╛рдЗрдЯ VPN рдХрдиреЗрдХреНрд╢рди рдХреЗ Amazon рдкрдХреНрд╖ рдХреЗ рд▓рд┐рдП рдЧреЗрдЯрд╡реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рдЯреНрд░рд╛рдВрдЬрд┐рдЯ рдЧреЗрдЯрд╡реЗ рдпрд╛ рд╡рд░реНрдЪреБрдЕрд▓ рдкреНрд░рд╛рдЗрд╡реЗрдЯ рдЧреЗрдЯрд╡реЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред

#### Limitations

* IPv6 рдЯреНрд░реИрдлрд╝рд┐рдХ рд╡рд░реНрдЪреБрдЕрд▓ рдкреНрд░рд╛рдЗрд╡реЗрдЯ рдЧреЗрдЯрд╡реЗ рдкрд░ VPN рдХрдиреЗрдХреНрд╢рдиреЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИред
* рдПрдХ AWS VPN рдХрдиреЗрдХреНрд╢рди рдкрде MTU рдЦреЛрдЬ рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред

рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╕рд╛рдЗрдЯ-рд╕реЗ-рд╕рд╛рдЗрдЯ VPN рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред

* рдЬрдм рдЖрдк рдЕрдкрдиреЗ VPCs рдХреЛ рдПрдХ рд╕рд╛рдорд╛рдиреНрдп рдСрди-рдкреНрд░рд┐рдорд╛рдЗрд╕реЗрд╕ рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдЕрдиреБрд╢рдВрд╕рд╛ рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдк рдЕрдкрдиреЗ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рдЧреИрд░-рдУрд╡рд░рд▓реИрдкрд┐рдВрдЧ CIDR рдмреНрд▓реЙрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред

### Client VPN <a href="#what-is-components" id="what-is-components"></a>

**рдЕрдкрдиреЗ рдорд╢реАрди рд╕реЗ рдЕрдкрдиреЗ VPC рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ**

#### Concepts

* **Client VPN endpoint:** рд╡рд╣ рд╕рдВрд╕рд╛рдзрди рдЬрд┐рд╕реЗ рдЖрдк рдЧреНрд░рд╛рд╣рдХ VPN рд╕рддреНрд░реЛрдВ рдХреЛ рд╕рдХреНрд╖рдо рдФрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рддреЗ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╣реИрдВред рдпрд╣ рд╡рд╣ рд╕рдВрд╕рд╛рдзрди рд╣реИ рдЬрд╣рд╛рдВ рд╕рднреА рдЧреНрд░рд╛рд╣рдХ VPN рд╕рддреНрд░ рд╕рдорд╛рдкреНрдд рд╣реЛрддреЗ рд╣реИрдВред
* **рд▓рдХреНрд╖рд┐рдд рдиреЗрдЯрд╡рд░реНрдХ:** рдПрдХ рд▓рдХреНрд╖рд┐рдд рдиреЗрдЯрд╡рд░реНрдХ рд╡рд╣ рдиреЗрдЯрд╡рд░реНрдХ рд╣реИ рдЬрд┐рд╕реЗ рдЖрдк рдПрдХ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред **рдПрдХ VPC рд╕реЗ рдПрдХ рдЙрдкрдиреЗрдЯ рдПрдХ рд▓рдХреНрд╖рд┐рдд рдиреЗрдЯрд╡рд░реНрдХ рд╣реИ**ред рдПрдХ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреЗ рд╕рд╛рде рдПрдХ рдЙрдкрдиреЗрдЯ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рд╕реЗ рдЖрдкрдХреЛ VPN рд╕рддреНрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдорд┐рд▓рддреА рд╣реИред рдЖрдк рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреЗ рд╕рд╛рде рдХрдИ рдЙрдкрдиреЗрдЯреНрд╕ рдХреЛ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред рд╕рднреА рдЙрдкрдиреЗрдЯреНрд╕ рдХреЛ рдПрдХ рд╣реА VPC рд╕реЗ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред рдкреНрд░рддреНрдпреЗрдХ рдЙрдкрдиреЗрдЯ рдХреЛ рдПрдХ рдЕрд▓рдЧ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред
* **рд░реВрдЯ**: рдкреНрд░рддреНрдпреЗрдХ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдореЗрдВ рдПрдХ рд░реВрдЯ рдЯреЗрдмрд▓ рд╣реЛрддреА рд╣реИ рдЬреЛ рдЙрдкрд▓рдмреНрдз рдЧрдВрддрд╡реНрдп рдиреЗрдЯрд╡рд░реНрдХ рд░реВрдЯ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреА рд╣реИред рд░реВрдЯ рдЯреЗрдмрд▓ рдореЗрдВ рдкреНрд░рддреНрдпреЗрдХ рд░реВрдЯ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдпрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЗ рд▓рд┐рдП рдкрде рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддрд╛ рд╣реИред
* **рдЕрдзрд┐рдХрд╛рд░ рдирд┐рдпрдо:** рдПрдХ рдЕрдзрд┐рдХрд╛рд░ рдирд┐рдпрдо **рдЙрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдкреНрд░рддрд┐рдмрдВрдзрд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдПрдХ рдиреЗрдЯрд╡рд░реНрдХ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддреЗ рд╣реИрдВ**ред рдПрдХ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП, рдЖрдк рд╕рдХреНрд░рд┐рдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдпрд╛ рдкрд╣рдЪрд╛рди рдкреНрд░рджрд╛рддрд╛ (IdP) рд╕рдореВрд╣ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рдкрд╣реБрдБрдЪ рдХреА рдЕрдиреБрдорддрд┐ рд╣реИред рдХреЗрд╡рд▓ рдЗрд╕ рд╕рдореВрд╣ рдХреЗ рд╕рджрд╕реНрдп рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдиреЗрдЯрд╡рд░реНрдХ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХрддреЗ рд╣реИрдВред **рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдХреЛрдИ рдЕрдзрд┐рдХрд╛рд░ рдирд┐рдпрдо рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ** рдФрд░ рдЖрдкрдХреЛ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдФрд░ рдиреЗрдЯрд╡рд░реНрдХ рддрдХ рдкрд╣реБрдБрдЪ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХрд╛рд░ рдирд┐рдпрдо рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред
* **рдХреНрд▓рд╛рдЗрдВрдЯ:** рдЕрдВрддрд┐рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЬреЛ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдХреЗ рдПрдХ VPN рд╕рддреНрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИред рдЕрдВрддрд┐рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рдПрдХ OpenVPN рдХреНрд▓рд╛рдЗрдВрдЯ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ рдФрд░ VPN рд╕рддреНрд░ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдиреЗ рдЬреЛ рдЧреНрд░рд╛рд╣рдХ VPN рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдмрдирд╛рдИ рд╣реИ рдЙрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрддрд╛ рд╣реИред
* **рдХреНрд▓рд╛рдЗрдВрдЯ CIDR рд░реЗрдВрдЬ:** рдПрдХ IP рдкрддрд╛ рд░реЗрдВрдЬ рдЬрд┐рд╕рд╕реЗ рдЧреНрд░рд╛рд╣рдХ IP рдкрддреЗ рдЕрд╕рд╛рдЗрди рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХрдиреЗрдХреНрд╢рди рдХреЛ рдЧреНрд░рд╛рд╣рдХ CIDR рд░реЗрдВрдЬ рд╕реЗ рдПрдХ рдЕрджреНрд╡рд┐рддреАрдп IP рдкрддрд╛ рдЕрд╕рд╛рдЗрди рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдЖрдк рдЧреНрд░рд╛рд╣рдХ CIDR рд░реЗрдВрдЬ рдЪреБрдирддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, `10.2.0.0/16`ред
* **рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдкреЛрд░реНрдЯ:** AWS рдЧреНрд░рд╛рд╣рдХ VPN TCP рдФрд░ UDP рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдкреЛрд░реНрдЯ 443 рдФрд░ 1194 рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреЛрд░реНрдЯ 443 рд╣реИред
* **рдХреНрд▓рд╛рдЗрдВрдЯ VPN рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕:** рдЬрдм рдЖрдк рдЕрдкрдиреЗ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреЗ рд╕рд╛рде рдПрдХ рдЙрдкрдиреЗрдЯ рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдЙрд╕ рдЙрдкрдиреЗрдЯ рдореЗрдВ рдЧреНрд░рд╛рд╣рдХ VPN рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕ рдмрдирд╛рддреЗ рд╣реИрдВред **рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рд╕реЗ VPC рдореЗрдВ рднреЗрдЬрд╛ рдЧрдпрд╛ рдЯреНрд░реИрдлрд╝рд┐рдХ рдЧреНрд░рд╛рд╣рдХ VPN рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ**ред рд╕реНрд░реЛрдд рдиреЗрдЯрд╡рд░реНрдХ рдкрддрд╛ рдЕрдиреБрд╡рд╛рдж (SNAT) рддрдм рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд╣рд╛рдВ рдЧреНрд░рд╛рд╣рдХ CIDR рд░реЗрдВрдЬ рд╕реЗ рд╕реНрд░реЛрдд IP рдкрддрд╛ рдЧреНрд░рд╛рд╣рдХ VPN рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлреЗрд╕ IP рдкрддреЗ рдореЗрдВ рдЕрдиреБрд╡рд╛рджрд┐рдд рд╣реЛрддрд╛ рд╣реИред
* **рдХрдиреЗрдХреНрд╢рди рд▓реЙрдЧрд┐рдВрдЧ:** рдЖрдк рдЕрдкрдиреЗ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреЗ рд▓рд┐рдП рдХрдиреЗрдХреНрд╢рди рд▓реЙрдЧрд┐рдВрдЧ рд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдХрдиреЗрдХреНрд╢рди рдШрдЯрдирд╛рдУрдВ рдХреЛ рд▓реЙрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред рдЖрдк рдЗрд╕ рдЬрд╛рдирдХрд╛рд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдлреЛрд░реЗрдВрд╕рд┐рдХреНрд╕ рдЪрд▓рд╛рдиреЗ, рдпрд╣ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдЖрдкрдХрд╛ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреИрд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ, рдпрд╛ рдХрдиреЗрдХреНрд╢рди рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рдбрд┐рдмрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
* **рд╕реНрд╡-рд╕реЗрд╡рд╛ рдкреЛрд░реНрдЯрд▓:** рдЖрдк рдЕрдкрдиреЗ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрд╡-рд╕реЗрд╡рд╛ рдкреЛрд░реНрдЯрд▓ рд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЧреНрд░рд╛рд╣рдХ рдЕрдкрдиреЗ рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡реЗрдм-рдЖрдзрд╛рд░рд┐рдд рдкреЛрд░реНрдЯрд▓ рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ AWS рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рдХреНрд▓рд╛рдЗрдВрдЯ рдХрд╛ рдирд╡реАрдирддрдо рд╕рдВрд╕реНрдХрд░рдг рдбрд╛рдЙрдирд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

#### Limitations

* **рдХреНрд▓рд╛рдЗрдВрдЯ CIDR рд░реЗрдВрдЬ рд╕реНрдерд╛рдиреАрдп CIDR** рдХреЗ рд╕рд╛рде рдУрд╡рд░рд▓реИрдк рдирд╣реАрдВ рдХрд░ рд╕рдХрддреА рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╕рдВрдмрдВрдзрд┐рдд рдЙрдкрдиреЗрдЯ рд╕реНрдерд┐рдд рд╣реИ, рдпрд╛ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреА рд░реВрдЯ рдЯреЗрдмрд▓ рдореЗрдВ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝реЗ рдЧрдП рдХрд┐рд╕реА рднреА рд░реВрдЯ рдХреЗ рд╕рд╛рдеред
* рдЧреНрд░рд╛рд╣рдХ CIDR рд░реЗрдВрдЬ рдХрд╛ рдЖрдХрд╛рд░ рдХрдо рд╕реЗ рдХрдо **/22** рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ **/12 рд╕реЗ рдЕрдзрд┐рдХ рдирд╣реАрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред**
* рдЧреНрд░рд╛рд╣рдХ CIDR рд░реЗрдВрдЬ рдореЗрдВ **рдкрддреЗ рдХрд╛ рдПрдХ рднрд╛рдЧ** рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреЗ рдЙрдкрд▓рдмреНрдзрддрд╛ рдореЙрдбрд▓ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕реЗ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЛ рдЕрд╕рд╛рдЗрди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ред рдЗрд╕рд▓рд┐рдП, рд╣рдо рдЕрдиреБрд╢рдВрд╕рд╛ рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдЖрдк **рдПрдХ CIDR рдмреНрд▓реЙрдХ рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВ рдЬрд┐рд╕рдореЗрдВ рдЕрдзрд┐рдХрддрдо рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ IP рдкрддреЗ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ** рдЬреЛ рдЖрдк рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдкрд░ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛ рд░рд╣реЗ рд╣реИрдВред
* рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдмрдирд╛рдиреЗ рдХреЗ рдмрд╛рдж **рдХреНрд▓рд╛рдЗрдВрдЯ CIDR рд░реЗрдВрдЬ рдХреЛ рдмрджрд▓рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИред**
* рдПрдХ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреЗ рд╕рд╛рде рдЬреБрдбрд╝реЗ **рдЙрдкрдиреЗрдЯреНрд╕ рдХреЛ рдПрдХ рд╣реА VPC рдореЗрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред**
* рдЖрдк **рдПрдХ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ рдХреЗ рд╕рд╛рде рдПрдХ рд╣реА рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреНрд╖реЗрддреНрд░ рд╕реЗ рдХрдИ рдЙрдкрдиреЗрдЯреНрд╕ рдХреЛ рдЬреЛрдбрд╝ рдирд╣реАрдВ рд╕рдХрддреЗред**
* рдПрдХ рдЧреНрд░рд╛рд╣рдХ VPN рдПрдВрдбрдкреЙрдЗрдВрдЯ **рд╕рдорд░реНрдкрд┐рдд рдЯреЗрдиреЗрд╕реА VPC рдореЗрдВ рдЙрдкрдиреЗрдЯ рд╕рдВрдШреЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред**
* рдЧреНрд░рд╛рд╣рдХ VPN рдХреЗрд╡рд▓ **IPv4** рдЯреНрд░реИрдлрд╝рд┐рдХ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред
* рдЧреНрд░рд╛рд╣рдХ VPN **рд╕рдВрдШреАрдп рд╕реВрдЪрдирд╛ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдорд╛рдирдХреЛрдВ (FIPS)** рдХреЗ рд▓рд┐рдП **рдЕрдиреБрдкрд╛рд▓рди рдирд╣реАрдВ рд╣реИред**
* рдпрджрд┐ рдЖрдкрдХреЗ рд╕рдХреНрд░рд┐рдп рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рд▓рд┐рдП рдмрд╣реБ-рдХрд╛рд░рдХ рдкреНрд░рдорд╛рдгреАрдХрд░рдг (MFA) рдмрдВрдж рд╣реИ, рддреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред

```
SCRV1:<base64_encoded_string>:<base64_encoded_string>
```
* рд╕реНрд╡-рд╕реЗрд╡рд╛ рдкреЛрд░реНрдЯрд▓ **рдореНрдпреВрдЪреБрдЕрд▓ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рдорд╛рдгреАрдХрд░рдг рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИ**ред

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
