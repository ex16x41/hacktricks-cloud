# AWS - CloudFormation & Codestar Enum

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## CloudFormation

AWS CloudFormation to usÅ‚uga zaprojektowana w celu **usprawnienia zarzÄ…dzania zasobami AWS**. UmoÅ¼liwia uÅ¼ytkownikom skupienie siÄ™ bardziej na ich aplikacjach dziaÅ‚ajÄ…cych w AWS, **minimalizujÄ…c czas poÅ›wiÄ™cony na zarzÄ…dzanie zasobami**. KluczowÄ… cechÄ… tej usÅ‚ugi jest **szablon**â€”opisowy model poÅ¼Ä…danych zasobÃ³w AWS. Po dostarczeniu tego szablonu, CloudFormation odpowiada za **provisioning i konfiguracjÄ™** okreÅ›lonych zasobÃ³w. Ta automatyzacja uÅ‚atwia bardziej efektywne i bezbÅ‚Ä™dne zarzÄ…dzanie infrastrukturÄ… AWS.

### Enumeration
```bash
# Stacks
aws cloudformation list-stacks
aws cloudformation describe-stacks # You could find sensitive information here
aws cloudformation list-stack-resources --stack-name <name>

## Show params and outputs
aws cloudformation describe-stacks | jq ".Stacks[] | .StackId, .StackName, .Parameters, .Outputs"

# Export
aws cloudformation list-exports
aws cloudformation list-imports --export-name <x_name>

# Stack Sets
aws cloudformation list-stack-sets
aws cloudformation describe-stack-set --stack-set-name <name>
aws cloudformation list-stack-instances --stack-set-name <name>
aws cloudformation list-stack-set-operations --stack-set-name <name>
aws cloudformation list-stack-set-operation-results --stack-set-name <name> --operation-id <id>
```
### Privesc

Na poniÅ¼szej stronie moÅ¼esz sprawdziÄ‡, jak **naduÅ¼yÄ‡ uprawnieÅ„ cloudformation, aby eskalowaÄ‡ uprawnienia**:

{% content-ref url="../aws-privilege-escalation/aws-cloudformation-privesc/" %}
[aws-cloudformation-privesc](../aws-privilege-escalation/aws-cloudformation-privesc/)
{% endcontent-ref %}

### Post-Exploitation

SprawdÅº **sekrety** lub wraÅ¼liwe informacje w **szablonie, parametrach i wynikach** kaÅ¼dego CloudFormation

## Codestar

AWS CodeStar to usÅ‚uga do tworzenia, zarzÄ…dzania i pracy z projektami rozwoju oprogramowania na AWS. MoÅ¼esz szybko rozwijaÄ‡, budowaÄ‡ i wdraÅ¼aÄ‡ aplikacje na AWS za pomocÄ… projektu AWS CodeStar. Projekt AWS CodeStar tworzy i **integruje usÅ‚ugi AWS** dla twojego narzÄ™dzia do rozwoju projektu. W zaleÅ¼noÅ›ci od wybranego szablonu projektu AWS CodeStar, to narzÄ™dzie moÅ¼e obejmowaÄ‡ kontrolÄ™ wersji, budowÄ™, wdroÅ¼enie, serwery wirtualne lub zasoby bezserwerowe i inne. AWS CodeStar rÃ³wnieÅ¼ **zarzÄ…dza uprawnieniami wymaganymi dla uÅ¼ytkownikÃ³w projektu** (nazywanych czÅ‚onkami zespoÅ‚u).

### Enumeration
```bash
# Get projects information
aws codestar list-projects
aws codestar describe-project --id <project_id>
aws codestar list-resources --project-id <project_id>
aws codestar list-team-members --project-id <project_id>

aws codestar list-user-profiles
aws codestar describe-user-profile --user-arn <arn>
```
### Privesc

Na nastÄ™pnej stronie moÅ¼esz sprawdziÄ‡, jak **naduÅ¼yÄ‡ uprawnieÅ„ codestar, aby eskalowaÄ‡ przywileje**:

{% content-ref url="../aws-privilege-escalation/aws-codestar-privesc/" %}
[aws-codestar-privesc](../aws-privilege-escalation/aws-codestar-privesc/)
{% endcontent-ref %}

## References

* [https://docs.aws.amazon.com/cloudformation/](https://docs.aws.amazon.com/cloudformation/)

{% hint style="success" %}
Ucz siÄ™ i Ä‡wicz Hacking AWS:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Ucz siÄ™ i Ä‡wicz Hacking GCP: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wsparcie HackTricks</summary>

* SprawdÅº [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **DoÅ‚Ä…cz do** ğŸ’¬ [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **Å›ledÅº** nas na **Twitterze** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Dziel siÄ™ sztuczkami hackingowymi, przesyÅ‚ajÄ…c PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repozytoriÃ³w github.

</details>
{% endhint %}
