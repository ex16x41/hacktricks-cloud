# AWS - Certificate Manager (ACM) & Private Certificate Authority (PCA)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Basic Information

**AWS Certificate Manager (ACM)**ëŠ” AWS ì„œë¹„ìŠ¤ ë° ë‚´ë¶€ ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ **SSL/TLS ì¸ì¦ì„œì˜ í”„ë¡œë¹„ì €ë‹, ê´€ë¦¬ ë° ë°°í¬**ë¥¼ ê°„ì†Œí™”í•˜ê¸° ìœ„í•´ ì œê³µë˜ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì¸ì¦ì„œ êµ¬ë§¤, ì—…ë¡œë“œ ë° ê°±ì‹ ê³¼ ê°™ì€ ìˆ˜ë™ í”„ë¡œì„¸ìŠ¤ì˜ í•„ìš”ì„±ì´ **ì œê±°**ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì‚¬ìš©ìëŠ” **Elastic Load Balancers, Amazon CloudFront ë°°í¬ ë° API Gatewayì˜ API**ë¥¼ í¬í•¨í•œ ë‹¤ì–‘í•œ AWS ë¦¬ì†ŒìŠ¤ì—ì„œ ì¸ì¦ì„œë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ìš”ì²­í•˜ê³  êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ACMì˜ ì£¼ìš” ê¸°ëŠ¥ì€ **ì¸ì¦ì„œì˜ ìë™ ê°±ì‹ **ìœ¼ë¡œ, ê´€ë¦¬ ì˜¤ë²„í—¤ë“œë¥¼ í¬ê²Œ ì¤„ì…ë‹ˆë‹¤. ë˜í•œ, ACMì€ **ë‚´ë¶€ ì‚¬ìš©ì„ ìœ„í•œ ê°œì¸ ì¸ì¦ì„œì˜ ìƒì„± ë° ì¤‘ì•™ ì§‘ì¤‘ì‹ ê´€ë¦¬ë¥¼ ì§€ì›**í•©ë‹ˆë‹¤. Elastic Load Balancing, Amazon CloudFront ë° Amazon API Gatewayì™€ ê°™ì€ í†µí•© AWS ì„œë¹„ìŠ¤ì— ëŒ€í•œ SSL/TLS ì¸ì¦ì„œëŠ” ACMì„ í†µí•´ ì¶”ê°€ ë¹„ìš© ì—†ì´ ì œê³µë˜ì§€ë§Œ, ì‚¬ìš©ìëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” AWS ë¦¬ì†ŒìŠ¤ì™€ í†µí•© ACM ì„œë¹„ìŠ¤ ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê° **ê°œì¸ ì¸ì¦ ê¸°ê´€(CA)** ë° ê°œì¸ ì¸ì¦ì„œì— ëŒ€í•œ ì›”ë³„ ìš”ê¸ˆì— ëŒ€í•œ ë¹„ìš©ì„ ì±…ì„ì§‘ë‹ˆë‹¤.

**AWS Private Certificate Authority**ëŠ” **ê´€ë¦¬í˜• ê°œì¸ CA ì„œë¹„ìŠ¤**ë¡œ ì œê³µë˜ì–´ ACMì˜ ê¸°ëŠ¥ì„ í™•ì¥í•˜ì—¬ ê°œì¸ ì¸ì¦ì„œ ê´€ë¦¬ë¥¼ í¬í•¨í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ê°œì¸ ì¸ì¦ì„œëŠ” ì¡°ì§ ë‚´ ë¦¬ì†ŒìŠ¤ ì¸ì¦ì— ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.

## Enumeration

### ACM
```bash
# List certificates
aws acm list-certificates

# Get certificate info
aws acm describe-certificate --certificate-arn <arn> # Check "InUseBy" to check which resources are using it

# Get certificate data
aws acm get-certificate --certificate-arn "arn:aws:acm:us-east-1:188868097724:certificate/865abced-82c9-43bf-b7d2-1f4948bf353d"

# Account configuration
aws acm get-account-configuration
```
### PCM
```bash
# List CAs
aws acm-pca list-certificate-authorities

# Get CA info
aws acm-pca describe-certificate-authority --certificate-authority-arn <arn>

# Get CA Permissions
aws acm-pca list-permissions --certificate-authority-arn <arn>

# Get CA certificate
aws acm-pca get-certificate-authority-certificate --certificate-authority-arn <arn>

# Certificate request
aws acm-pca get-certificate-authority-csr --certificate-authority-arn <arn>

# Get CA Policy (if any)
aws acm-pca get-policy --resource-arn <arn>
```
## Privesc

TODO

## Post Exploitation

TODO

{% hint style="success" %}
AWS í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… ê³„íš**](https://github.com/sponsors/carlospolop) í™•ì¸í•˜ê¸°!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ì°¸ì—¬í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ê¹ƒí—ˆë¸Œ ë¦¬í¬ì§€í† ë¦¬ì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŒì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
{% endhint %}
