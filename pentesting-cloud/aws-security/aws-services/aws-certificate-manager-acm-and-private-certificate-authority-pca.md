# AWS - Administrador de Certificados (ACM) y Autoridad de Certificaci贸n Privada (PCA)

{% hint style="success" %}
Aprende y practica Hacking en AWS: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Entrenamiento HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Aprende y practica Hacking en GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Entrenamiento HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoya a HackTricks</summary>

* Revisa los [**planes de suscripci贸n**](https://github.com/sponsors/carlospolop)!
* **nete al**  [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s铆guenos** en **Twitter**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Comparte trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}

## Informaci贸n B谩sica

**AWS Certificate Manager (ACM)** se ofrece como un servicio destinado a simplificar la **provisi贸n, gesti贸n e implementaci贸n de certificados SSL/TLS** para servicios de AWS y recursos internos. La necesidad de procesos manuales, como la compra, carga y renovaci贸n de certificados, es **eliminada** por ACM. Esto permite a los usuarios solicitar e implementar eficientemente certificados en varios recursos de AWS, incluidos **Balanceadores de Carga El谩sticos, distribuciones de Amazon CloudFront y APIs en API Gateway**.

Una caracter铆stica clave de ACM es la **renovaci贸n autom谩tica de certificados**, lo que reduce significativamente la carga de gesti贸n. Adem谩s, ACM admite la creaci贸n y gesti贸n centralizada de **certificados privados para uso interno**. Aunque los certificados SSL/TLS para servicios integrados de AWS como Elastic Load Balancing, Amazon CloudFront y Amazon API Gateway se proporcionan sin costo adicional a trav茅s de ACM, los usuarios son responsables de los costos asociados con los recursos de AWS utilizados por sus aplicaciones y de una tarifa mensual por cada **Autoridad de Certificaci贸n (CA) privada** y certificados privados utilizados fuera de los servicios integrados de ACM.

**AWS Private Certificate Authority** se ofrece como un **servicio de CA privada gestionada**, mejorando las capacidades de ACM al extender la gesti贸n de certificados para incluir certificados privados. Estos certificados privados son fundamentales para autenticar recursos dentro de una organizaci贸n.

## Enumeraci贸n

### ACM
```bash
# List certificates
aws acm list-certificates

# Get certificate info
aws acm describe-certificate --certificate-arn <arn> # Check "InUseBy" to check which resources are using it

# Get certificate data
aws acm get-certificate --certificate-arn "arn:aws:acm:us-east-1:188868097724:certificate/865abced-82c9-43bf-b7d2-1f4948bf353d"

# Account configuration
aws acm get-account-configuration
```
### PCM

El **Private Certificate Manager (PCM)** es un servicio que permite a los usuarios gestionar certificados SSL/TLS privados en AWS. Con PCM, los usuarios pueden crear, gestionar y utilizar certificados SSL/TLS privados para proteger las comunicaciones en sus aplicaciones y servicios en la nube.
```bash
# List CAs
aws acm-pca list-certificate-authorities

# Get CA info
aws acm-pca describe-certificate-authority --certificate-authority-arn <arn>

# Get CA Permissions
aws acm-pca list-permissions --certificate-authority-arn <arn>

# Get CA certificate
aws acm-pca get-certificate-authority-certificate --certificate-authority-arn <arn>

# Certificate request
aws acm-pca get-certificate-authority-csr --certificate-authority-arn <arn>

# Get CA Policy (if any)
aws acm-pca get-policy --resource-arn <arn>
```
## Elevaci贸n de privilegios

TODO

## Post Explotaci贸n

TODO

{% hint style="success" %}
Aprende y practica Hacking en AWS: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**Entrenamiento HackTricks AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Aprende y practica Hacking en GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**Entrenamiento HackTricks GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoya a HackTricks</summary>

* Revisa los [**planes de suscripci贸n**](https://github.com/sponsors/carlospolop)!
* **nete al**  [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s铆guenos** en **Twitter**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Comparte trucos de hacking enviando PRs a los repositorios de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}
