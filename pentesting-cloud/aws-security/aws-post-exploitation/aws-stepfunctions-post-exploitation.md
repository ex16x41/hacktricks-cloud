# AWS - Step Functions í¬ìŠ¤íŠ¸ ìµìŠ¤í”Œë¡œì‡ë ˆì´ì…˜

<details>

<summary><strong>htARTE (HackTricks AWS Red Team Expert)</strong>ë¥¼ í†µí•´ ì œë¡œë¶€í„° íˆì–´ë¡œê¹Œì§€ AWS í•´í‚¹ì„ ë°°ìš°ì„¸ìš”!</summary>

HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²•:

- **íšŒì‚¬ë¥¼ HackTricksì—ì„œ ê´‘ê³ í•˜ê±°ë‚˜ HackTricksë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ**í•˜ê³  ì‹¶ë‹¤ë©´ [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
- [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ë§¤í•˜ì„¸ìš”.
- [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”. ë‹¹ì‚¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤.
- ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ê°€ì…**í•˜ê±°ë‚˜ **íŠ¸ìœ„í„°** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)ë¥¼ **íŒ”ë¡œìš°**í•˜ì„¸ìš”.
- ì—¬ëŸ¬ë¶„ì˜ í•´í‚¹ ê¸°ìˆ ì„ ê³µìœ í•˜ë ¤ë©´ [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ê¹ƒí—™ ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>

## Step Functions

ì´ AWS ì„œë¹„ìŠ¤ì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ëŠ” ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

{% content-ref url="../aws-services/aws-stepfunctions-enum.md" %}
[aws-stepfunctions-enum.md](../aws-services/aws-stepfunctions-enum.md)
{% endcontent-ref %}

### `states:DeleteStateMachine`, `states:DeleteStateMachineVersion`, `states:DeleteStateMachineAlias`

ì´ ê¶Œí•œì„ ê°€ì§„ ê³µê²©ìëŠ” ìƒíƒœ ë¨¸ì‹ , ê·¸ ë²„ì „ ë° ë³„ì¹­ì„ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì¤‘ìš”í•œ ì›Œí¬í”Œë¡œìš°ë¥¼ ë°©í•´í•˜ê³  ë°ì´í„° ì†ì‹¤ì„ ì´ˆë˜í•˜ë©°, ì˜í–¥ì„ ë°›ì€ ìƒíƒœ ë¨¸ì‹ ì„ ë³µêµ¬í•˜ê³  ë³µì›í•˜ëŠ” ë° ìƒë‹¹í•œ ì‹œê°„ì´ ì†Œìš”ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì‚¬ìš©ëœ íŠ¸ë™ì„ ê°€ë¦¬ê³  í¬ë Œì‹ ì¡°ì‚¬ë¥¼ ë°©í•´í•˜ë©°, í•„ìˆ˜ ìë™í™” í”„ë¡œì„¸ìŠ¤ ë° ìƒíƒœ êµ¬ì„±ì„ ì œê±°í•¨ìœ¼ë¡œì¨ ìš´ì˜ì„ ë§ˆë¹„ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

{% hint style="info" %}

- ìƒíƒœ ë¨¸ì‹ ì„ ì‚­ì œí•˜ë©´ í•´ë‹¹í•˜ëŠ” ëª¨ë“  ë²„ì „ ë° ë³„ì¹­ì´ ì‚­ì œë©ë‹ˆë‹¤.
- ìƒíƒœ ë¨¸ì‹  ë³„ì¹­ì„ ì‚­ì œí•˜ë©´ ì´ ë³„ì¹­ì„ ì°¸ì¡°í•˜ëŠ” ìƒíƒœ ë¨¸ì‹  ë²„ì „ì€ ì‚­ì œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- í˜„ì¬ í•˜ë‚˜ ì´ìƒì˜ ë³„ì¹­ì—ì„œ ì°¸ì¡°í•˜ëŠ” ìƒíƒœ ë¨¸ì‹  ë²„ì „ì€ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

{% endhint %}
```bash
# Delete state machine
aws stepfunctions delete-state-machine --state-machine-arn <value>
# Delete state machine version
aws stepfunctions delete-state-machine-version --state-machine-version-arn <value>
# Delete state machine alias
aws stepfunctions delete-state-machine-alias --state-machine-alias-arn <value>
```
- **ì ì¬ì  ì˜í–¥**: ì¤‘ìš”í•œ ì›Œí¬í”Œë¡œìš°ì˜ ì¤‘ë‹¨, ë°ì´í„° ì†ì‹¤ ë° ìš´ì˜ ë‹¤ìš´íƒ€ì„.

### `states:UpdateMapRun`

ì´ ê¶Œí•œì„ ê°€ì§„ ê³µê²©ìëŠ” Map Run ì‹¤íŒ¨ êµ¬ì„± ë° ë³‘ë ¬ ì„¤ì •ì„ ì¡°ì‘í•  ìˆ˜ ìˆìœ¼ë©°, ìµœëŒ€ í—ˆìš© ìì‹ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ìˆ˜ë¥¼ ì¦ê°€ ë˜ëŠ” ê°ì†Œì‹œí‚¬ ìˆ˜ ìˆì–´ ì„œë¹„ìŠ¤ì˜ ì„±ëŠ¥ì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ê³µê²©ìëŠ” í—ˆìš©ëœ ì‹¤íŒ¨ ë¹„ìœ¨ ë° íšŸìˆ˜ë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆì–´ ì´ ê°’ì„ 0ìœ¼ë¡œ ì¤„ì—¬ ë§¤ë²ˆ í•­ëª©ì´ ì‹¤íŒ¨í•  ë•Œë§ˆë‹¤ ì „ì²´ ë§µ ì‹¤í–‰ì´ ì‹¤íŒ¨í•˜ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆì–´ ìƒíƒœ ë¨¸ì‹  ì‹¤í–‰ì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ì£¼ë©° ì¤‘ìš”í•œ ì›Œí¬í”Œë¡œìš°ë¥¼ ë°©í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
aws stepfunctions update-map-run --map-run-arn <value> [--max-concurrency <value>] [--tolerated-failure-percentage <value>] [--tolerated-failure-count <value>]
```
- **ì ì¬ì  ì˜í–¥**: ì„±ëŠ¥ ì €í•˜ ë° ì¤‘ìš”í•œ ì›Œí¬í”Œë¡œìš° ë°©í•´.

### `states:StopExecution`

ì´ ê¶Œí•œì„ ê°€ì§„ ê³µê²©ìëŠ” ì–´ë–¤ ìƒíƒœ ë¨¸ì‹ ì˜ ì‹¤í–‰ì„ ì¤‘ì§€í•  ìˆ˜ ìˆì–´ì„œ ì§„í–‰ ì¤‘ì¸ ì›Œí¬í”Œë¡œìš°ì™€ í”„ë¡œì„¸ìŠ¤ë¥¼ ë°©í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ë¯¸ì™„ë£Œëœ íŠ¸ëœì­ì…˜, ì¤‘ë‹¨ëœ ë¹„ì¦ˆë‹ˆìŠ¤ ìš´ì˜ ë° ì ì¬ì  ë°ì´í„° ì†ìƒì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

{% hint style="warning" %}
ì´ ì‘ì—…ì€ **í‘œí˜„ ìƒíƒœ ë¨¸ì‹ **ì—ì„œ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
{% endhint %}
```bash
aws stepfunctions stop-execution --execution-arn <value> [--error <value>] [--cause <value>]
```
- **ì ì¬ì  ì˜í–¥**: ì§„í–‰ ì¤‘ì¸ ì›Œí¬í”Œë¡œìš° ë°©í•´, ìš´ì˜ ë‹¤ìš´íƒ€ì„ ë° ì ì¬ì  ë°ì´í„° ì†ìƒ.

### `states:TagResource`, `states:UntagResource`

ê³µê²©ìëŠ” Step Functions ë¦¬ì†ŒìŠ¤ì—ì„œ íƒœê·¸ë¥¼ ì¶”ê°€, ìˆ˜ì • ë˜ëŠ” ì œê±°í•˜ì—¬ ì¡°ì§ì˜ ë¹„ìš© í• ë‹¹, ë¦¬ì†ŒìŠ¤ ì¶”ì  ë° íƒœê·¸ì— ê¸°ë°˜í•œ ì•¡ì„¸ìŠ¤ ì œì–´ ì •ì±…ì„ ë°©í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
aws stepfunctions tag-resource --resource-arn <value> --tags Key=<key>,Value=<value>
aws stepfunctions untag-resource --resource-arn <value> --tag-keys <key>
```
**ì ì¬ì  ì˜í–¥**: ë¹„ìš© í• ë‹¹, ìì› ì¶”ì  ë° íƒœê·¸ ê¸°ë°˜ ì•¡ì„¸ìŠ¤ ì œì–´ ì •ì±… ë°©í•´.

<details>

<summary><strong>ì œë¡œë¶€í„° ì˜ì›…ì´ ë  ë•Œê¹Œì§€ AWS í•´í‚¹ ë°°ìš°ê¸°</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team ì „ë¬¸ê°€)</strong></a><strong>!</strong></summary>

ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ HackTricksë¥¼ ì§€ì›í•˜ëŠ” ë°©ë²•:

* **íšŒì‚¬ê°€ HackTricksì— ê´‘ê³ ë˜ê¸¸ ì›í•˜ê±°ë‚˜** **PDFë¡œ HackTricks ë‹¤ìš´ë¡œë“œ**í•˜ë ¤ë©´ [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* [**ê³µì‹ PEASS & HackTricks ìŠ¤ì™œê·¸**](https://peass.creator-spring.com)ë¥¼ êµ¬ì…í•˜ì„¸ìš”
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)ë¥¼ ë°œê²¬í•˜ì„¸ìš”, ë‹¹ì‚¬ì˜ ë…ì  [**NFTs**](https://opensea.io/collection/the-peass-family) ì»¬ë ‰ì…˜
* **ğŸ’¬ [**ë””ìŠ¤ì½”ë“œ ê·¸ë£¹**](https://discord.gg/hRep4RUj7f)ì— ê°€ì…í•˜ê±°ë‚˜ [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ê°€ì…í•˜ê±°ë‚˜** **íŠ¸ìœ„í„°** ğŸ¦ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **HackTricks** ë° **HackTricks Cloud** github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì„¸ìš”.

</details>
