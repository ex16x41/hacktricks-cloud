# AWS - Malicious VPC Mirror

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

**Check** [**https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws**](https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws) **for further details of the attack!**

Η παθητική επιθεώρηση δικτύου σε ένα περιβάλλον cloud έχει **προκαλέσει προκλήσεις**, απαιτώντας σημαντικές αλλαγές στη διαμόρφωση για την παρακολούθηση της δικτυακής κίνησης. Ωστόσο, μια νέα δυνατότητα που ονομάζεται “**VPC Traffic Mirroring**” έχει εισαχθεί από την AWS για να απλοποιήσει αυτή τη διαδικασία. Με το VPC Traffic Mirroring, η δικτυακή κίνηση εντός των VPC μπορεί να **αντιγραφεί** χωρίς να εγκατασταθεί κανένα λογισμικό στις ίδιες τις περιπτώσεις. Αυτή η αντιγραμμένη κίνηση μπορεί να σταλεί σε ένα σύστημα ανίχνευσης δικτυακής εισβολής (IDS) για **ανάλυση**.

Για να καλύψουμε την ανάγκη για **αυτοματοποιημένη ανάπτυξη** της απαραίτητης υποδομής για την αντανάκλαση και την εξαγωγή της κίνησης VPC, έχουμε αναπτύξει ένα σενάριο απόδειξης της έννοιας που ονομάζεται “**malmirror**”. Αυτό το σενάριο μπορεί να χρησιμοποιηθεί με **συμβιβασμένα AWS credentials** για να ρυθμίσει την αντανάκλαση για όλες τις υποστηριζόμενες περιπτώσεις EC2 σε μια στοχευμένη VPC. Είναι σημαντικό να σημειωθεί ότι το VPC Traffic Mirroring υποστηρίζεται μόνο από τις περιπτώσεις EC2 που τροφοδοτούνται από το σύστημα AWS Nitro, και ο στόχος της αντανάκλασης VPC πρέπει να βρίσκεται εντός της ίδιας VPC με τους αντανάκλασης hosts.

Η **επίδραση** της κακόβουλης αντανάκλασης κίνησης VPC μπορεί να είναι σημαντική, καθώς επιτρέπει στους επιτιθέμενους να έχουν πρόσβαση σε **ευαίσθητες πληροφορίες** που μεταδίδονται εντός των VPC. Η **πιθανότητα** μιας τέτοιας κακόβουλης αντανάκλασης είναι υψηλή, δεδομένης της παρουσίας **καθαρής κίνησης** που ρέει μέσω των VPC. Πολλές εταιρείες χρησιμοποιούν καθαρούς πρωτόκολλους εντός των εσωτερικών τους δικτύων για **λόγους απόδοσης**, υποθέτοντας ότι οι παραδοσιακές επιθέσεις man-in-the-middle δεν είναι δυνατές.

Για περισσότερες πληροφορίες και πρόσβαση στο [**malmirror script**](https://github.com/RhinoSecurityLabs/Cloud-Security-Research/tree/master/AWS/malmirror), μπορεί να βρεθεί στο **GitHub repository** μας. Το σενάριο αυτοματοποιεί και απλοποιεί τη διαδικασία, καθιστώντας την **γρήγορη, απλή και επαναλαμβανόμενη** για σκοπούς επιθετικής έρευνας.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
