# AWS - Malicious VPC Mirror

{% hint style="success" %}
Apprenez et pratiquez le hacking AWS :<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Apprenez et pratiquez le hacking GCP : <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Supportez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop) !
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** nous sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de hacking en soumettant des PRs aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
{% endhint %}

**Consultez** [**https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws**](https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws) **pour plus de d√©tails sur l'attaque !**

L'inspection passive du r√©seau dans un environnement cloud a √©t√© **difficile**, n√©cessitant des changements de configuration majeurs pour surveiller le trafic r√©seau. Cependant, une nouvelle fonctionnalit√© appel√©e ‚Äú**VPC Traffic Mirroring**‚Äù a √©t√© introduite par AWS pour simplifier ce processus. Avec le VPC Traffic Mirroring, le trafic r√©seau au sein des VPC peut √™tre **dupliqu√©** sans installer de logiciel sur les instances elles-m√™mes. Ce trafic dupliqu√© peut √™tre envoy√© √† un syst√®me de d√©tection d'intrusion r√©seau (IDS) pour **analyse**.

Pour r√©pondre au besoin de **d√©ploiement automatis√©** de l'infrastructure n√©cessaire pour le mirroring et l'exfiltration du trafic VPC, nous avons d√©velopp√© un script de preuve de concept appel√© ‚Äú**malmirror**‚Äù. Ce script peut √™tre utilis√© avec des **identifiants AWS compromis** pour configurer le mirroring pour toutes les instances EC2 prises en charge dans un VPC cible. Il est important de noter que le VPC Traffic Mirroring n'est pris en charge que par les instances EC2 aliment√©es par le syst√®me AWS Nitro, et la cible de miroir VPC doit √™tre dans le m√™me VPC que les h√¥tes miroit√©s.

L'**impact** du mirroring de trafic VPC malveillant peut √™tre significatif, car il permet aux attaquants d'acc√©der √† des **informations sensibles** transmises au sein des VPC. La **probabilit√©** d'un tel mirroring malveillant est √©lev√©e, compte tenu de la pr√©sence de **trafic en clair** circulant √† travers les VPC. De nombreuses entreprises utilisent des protocoles en clair au sein de leurs r√©seaux internes pour des **raisons de performance**, supposant que les attaques traditionnelles de type homme du milieu ne sont pas possibles.

Pour plus d'informations et l'acc√®s au [**script malmirror**](https://github.com/RhinoSecurityLabs/Cloud-Security-Research/tree/master/AWS/malmirror), il peut √™tre trouv√© sur notre **d√©p√¥t GitHub**. Le script automatise et rationalise le processus, le rendant **rapide, simple et r√©p√©table** √† des fins de recherche offensive.

{% hint style="success" %}
Apprenez et pratiquez le hacking AWS :<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Apprenez et pratiquez le hacking GCP : <img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Supportez HackTricks</summary>

* Consultez les [**plans d'abonnement**](https://github.com/sponsors/carlospolop) !
* **Rejoignez le** üí¨ [**groupe Discord**](https://discord.gg/hRep4RUj7f) ou le [**groupe telegram**](https://t.me/peass) ou **suivez** nous sur **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Partagez des astuces de hacking en soumettant des PRs aux** [**HackTricks**](https://github.com/carlospolop/hacktricks) et [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) d√©p√¥ts GitHub.

</details>
{% endhint %}
