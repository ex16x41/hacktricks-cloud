# AWS - 悪意のある VPC ミラー

{% hint style="success" %}
AWS ハッキングを学び、実践する：<img src="../../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCP ハッキングを学び、実践する：<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks をサポートする</summary>

* [**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)を確認してください！
* **💬 [**Discord グループ**](https://discord.gg/hRep4RUj7f) または [**Telegram グループ**](https://t.me/peass) に参加するか、**Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**をフォローしてください。**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) と [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) の GitHub リポジトリに PR を送信してハッキングトリックを共有してください。**

</details>
{% endhint %}

**攻撃の詳細については、[**https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws**](https://rhinosecuritylabs.com/aws/abusing-vpc-traffic-mirroring-in-aws) を確認してください！**

クラウド環境におけるパッシブネットワーク検査は、ネットワークトラフィックを監視するために大規模な構成変更が必要であり、**困難**でした。しかし、AWS によって「**VPC トラフィックミラーリング**」という新機能が導入され、このプロセスが簡素化されました。VPC トラフィックミラーリングを使用すると、VPC 内のネットワークトラフィックを、インスタンス自体にソフトウェアをインストールすることなく**複製**できます。この複製されたトラフィックは、ネットワーク侵入検知システム (IDS) に送信して**分析**できます。

VPC トラフィックをミラーリングおよび抽出するために必要なインフラストラクチャの**自動デプロイメント**のニーズに対応するために、「**malmirror**」という概念実証スクリプトを開発しました。このスクリプトは、**侵害された AWS 認証情報**を使用して、ターゲット VPC 内のすべてのサポートされている EC2 インスタンスのミラーリングを設定するために使用できます。VPC トラフィックミラーリングは、AWS Nitro システムによって動作する EC2 インスタンスでのみサポートされており、VPC ミラーターゲットはミラーリングされたホストと同じ VPC 内でなければなりません。

悪意のある VPC トラフィックミラーリングの**影響**は重大であり、攻撃者が VPC 内で送信される**機密情報**にアクセスできるようになります。このような悪意のあるミラーリングの**可能性**は高く、VPC 内を流れる**平文トラフィック**の存在を考慮すると、特にそうです。多くの企業は、**パフォーマンスの理由**から内部ネットワーク内で平文プロトコルを使用しており、従来の中間者攻撃が不可能であると仮定しています。

詳細情報および[**malmirror スクリプト**](https://github.com/RhinoSecurityLabs/Cloud-Security-Research/tree/master/AWS/malmirror)へのアクセスは、私たちの**GitHub リポジトリ**で見つけることができます。このスクリプトはプロセスを自動化し、効率化し、攻撃的な研究目的のために**迅速、簡単、かつ繰り返し可能**にします。

{% hint style="success" %}
AWS ハッキングを学び、実践する：<img src="../../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCP ハッキングを学び、実践する：<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks をサポートする</summary>

* [**サブスクリプションプラン**](https://github.com/sponsors/carlospolop)を確認してください！
* **💬 [**Discord グループ**](https://discord.gg/hRep4RUj7f) または [**Telegram グループ**](https://t.me/peass) に参加するか、**Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**をフォローしてください。**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) と [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) の GitHub リポジトリに PR を送信してハッキングトリックを共有してください。**

</details>
{% endhint %}
