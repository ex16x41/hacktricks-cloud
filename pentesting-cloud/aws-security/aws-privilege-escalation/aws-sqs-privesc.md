# AWS - Eskalacja uprawnie w AWS SQS

{% hint style="success" %}
Dowiedz si i wicz Hacking w AWS: <img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Dowiedz si i wicz Hacking w GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wesprzyj HackTricks</summary>

* Sprawd藕 [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podziel si trikami hakerskimi, przesyajc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) na githubie.

</details>
{% endhint %}

## SQS

Aby uzyska wicej informacji, sprawd藕:

{% content-ref url="../aws-services/aws-sqs-and-sns-enum.md" %}
[aws-sqs-and-sns-enum.md](../aws-services/aws-sqs-and-sns-enum.md)
{% endcontent-ref %}

### `sqs:AddPermission`

Atakujcy m贸gby u偶y tego uprawnienia do udzielenia nieautoryzowanym u偶ytkownikom lub usugom dostpu do kolejki SQS poprzez tworzenie nowych zasad lub modyfikowanie istniejcych zasad. Mo偶e to prowadzi do nieautoryzowanego dostpu do wiadomoci w kolejce lub manipulacji kolejk przez nieuprawnione podmioty.

{% code overflow="wrap" %}
```bash
cssCopy codeaws sqs add-permission --queue-url <value> --actions <value> --aws-account-ids <value> --label <value>
```
{% endcode %}

**Potencjalne skutki**: Nieautoryzowany dostp do kolejki, ujawnienie wiadomoci lub manipulacja kolejk przez nieautoryzowanych u偶ytkownik贸w lub usugi.

### `sqs:SendMessage`, `sqs:SendMessageBatch`

Atakujcy m贸gby wysa zoliwe lub niechciane wiadomoci do kolejki SQS, potencjalnie powodujc uszkodzenie danych, wywoujc niezamierzone akcje lub wyczerpujc zasoby.
```bash
aws sqs send-message --queue-url <value> --message-body <value>
aws sqs send-message-batch --queue-url <value> --entries <value>
```
**Potencjalne skutki**: Wykorzystanie podatnoci, uszkodzenie danych, niezamierzone dziaania lub wyczerpanie zasob贸w.

### `sqs:ReceiveMessage`, `sqs:DeleteMessage`,  `sqs:ChangeMessageVisibility`

Atakujcy m贸gby otrzymywa, usuwa lub modyfikowa widoczno wiadomoci w kolejce SQS, powodujc utrat wiadomoci, uszkodzenie danych lub zak贸cenia w wiadczeniu usug dla aplikacji polegajcych na tych wiadomociach.
```bash
aws sqs receive-message --queue-url <value>
aws sqs delete-message --queue-url <value> --receipt-handle <value>
aws sqs change-message-visibility --queue-url <value> --receipt-handle <value> --visibility-timeout <value>
```
**Potencjalne skutki**: Kradzie偶 poufnych informacji, utrata wiadomoci, uszkodzenie danych oraz zak贸cenie dziaania usug dla aplikacji polegajcych na dotknitych wiadomociach.

{% hint style="success" %}
Dowiedz si i praktykuj Hacking AWS:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Dowiedz si i praktykuj Hacking GCP: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Wesprzyj HackTricks</summary>

* Sprawd藕 [**plany subskrypcyjne**](https://github.com/sponsors/carlospolop)!
* **Docz do**  [**grupy Discord**](https://discord.gg/hRep4RUj7f) lub [**grupy telegramowej**](https://t.me/peass) lub **led藕** nas na **Twitterze**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Udostpnij sztuczki hakerskie, przesyajc PR-y do** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) na githubie.

</details>
{% endhint %}
