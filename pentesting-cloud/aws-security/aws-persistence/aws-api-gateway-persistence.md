# AWS - API Gateway Persistence

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## API Gateway

–î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø–µ—Ä–µ–π–¥—ñ—Ç—å –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º:

{% content-ref url="../aws-services/aws-api-gateway-enum.md" %}
[aws-api-gateway-enum.md](../aws-services/aws-api-gateway-enum.md)
{% endcontent-ref %}

### Resource Policy

–ó–º—ñ–Ω—ñ—Ç—å –ø–æ–ª—ñ—Ç–∏–∫—É —Ä–µ—Å—É—Ä—Å—ñ–≤ API gateway(—ñ–≤), —â–æ–± –Ω–∞–¥–∞—Ç–∏ —Å–æ–±—ñ –¥–æ—Å—Ç—É–ø –¥–æ –Ω–∏—Ö.

### Modify Lambda Authorizers

–ó–º—ñ–Ω—ñ—Ç—å –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ç–æ—Ä—ñ–≤ lambda, —â–æ–± –Ω–∞–¥–∞—Ç–∏ —Å–æ–±—ñ –¥–æ—Å—Ç—É–ø –¥–æ –≤—Å—ñ—Ö –∫—ñ–Ω—Ü–µ–≤–∏—Ö —Ç–æ—á–æ–∫.\
–ê–±–æ –ø—Ä–æ—Å—Ç–æ –≤–∏–¥–∞–ª—ñ—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ç–æ—Ä–∞.

### IAM Permissions

–Ø–∫—â–æ —Ä–µ—Å—É—Ä—Å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∞–≤—Ç–æ—Ä–∏–∑–∞—Ç–æ—Ä IAM, –≤–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–¥–∞—Ç–∏ —Å–æ–±—ñ –¥–æ—Å—Ç—É–ø –¥–æ –Ω—å–æ–≥–æ, –∑–º—ñ–Ω–∏–≤—à–∏ –¥–æ–∑–≤–æ–ª–∏ IAM.\
–ê–±–æ –ø—Ä–æ—Å—Ç–æ –≤–∏–¥–∞–ª—ñ—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ç–æ—Ä–∞.

### API Keys

–Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –∫–ª—é—á—ñ API, –≤–∏ –º–æ–∂–µ—Ç–µ —ó—Ö –≤–∏—Ç—ñ–∫–∞—Ç–∏, —â–æ–± –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–æ—Å—Ç—ñ–π–Ω–∏–π –¥–æ—Å—Ç—É–ø –∞–±–æ –Ω–∞–≤—ñ—Ç—å —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—ñ.\
–ê–±–æ –ø—Ä–æ—Å—Ç–æ –≤–∏–¥–∞–ª—ñ—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–ª—é—á—ñ–≤ API.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
