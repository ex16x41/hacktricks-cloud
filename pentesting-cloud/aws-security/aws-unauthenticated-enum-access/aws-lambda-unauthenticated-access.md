# AWS - Lambda Unauthenticated Access

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Public Function URL

‡§Ø‡§π ‡§∏‡§Ç‡§≠‡§µ ‡§π‡•à ‡§ï‡§ø ‡§è‡§ï **Lambda** ‡§ï‡•ã ‡§è‡§ï **public function URL** ‡§∏‡•á ‡§ú‡•ã‡§°‡§º‡§æ ‡§ú‡§æ‡§è ‡§ú‡§ø‡§∏‡•á ‡§ï‡•ã‡§à ‡§≠‡•Ä ‡§è‡§ï‡•ç‡§∏‡•á‡§∏ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§ ‡§á‡§∏‡§Æ‡•á‡§Ç ‡§µ‡•á‡§¨ ‡§ï‡§Æ‡§ú‡•ã‡§∞‡§ø‡§Ø‡§æ‡§Å ‡§π‡•ã ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡§Ç‡•§

### Public URL template
```
https://{random_id}.lambda-url.{region}.on.aws/
```
### Get Account ID from public Lambda URL

S3 ‡§¨‡§ï‡•á‡§ü, ‡§°‡•á‡§ü‡§æ ‡§è‡§ï‡•ç‡§∏‡§ö‡•á‡§Ç‡§ú ‡§î‡§∞ API ‡§ó‡•á‡§ü‡§µ‡•á ‡§ï‡•Ä ‡§§‡§∞‡§π, ‡§è‡§ï ‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï ‡§≤‡•à‡§Æ‡•ç‡§¨‡•ç‡§°‡§æ URL ‡§∏‡•á **`aws:ResourceAccount`** **Policy Condition Key** ‡§ï‡§æ ‡§¶‡•Å‡§∞‡•Å‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§è‡§ï ‡§ñ‡§æ‡§§‡•á ‡§ï‡§æ ‡§ñ‡§æ‡§§‡§æ ‡§Ü‡§à‡§°‡•Ä ‡§ñ‡•ã‡§ú‡§®‡§æ ‡§∏‡§Ç‡§≠‡§µ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§®‡•Ä‡§§‡§ø ‡§ï‡•á **`aws:ResourceAccount`** ‡§Ö‡§®‡•Å‡§≠‡§æ‡§ó ‡§Æ‡•á‡§Ç ‡§µ‡§æ‡§á‡§≤‡•ç‡§°‡§ï‡§æ‡§∞‡•ç‡§° ‡§ï‡§æ ‡§¶‡•Å‡§∞‡•Å‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§è‡§ï ‡§∏‡§Æ‡§Ø ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§ñ‡§æ‡§§‡§æ ‡§Ü‡§à‡§°‡•Ä ‡§ñ‡•ã‡§ú‡§ï‡§∞ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§\
‡§Ø‡§π ‡§§‡§ï‡§®‡•Ä‡§ï ‡§Ü‡§™‡§ï‡•ã **‡§ü‡•à‡§ó ‡§ï‡•á ‡§Æ‡§æ‡§®** ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§≠‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§§‡•Ä ‡§π‡•à ‡§Ø‡§¶‡§ø ‡§Ü‡§™ ‡§ü‡•à‡§ó ‡§ï‡•Å‡§Ç‡§ú‡•Ä ‡§ú‡§æ‡§®‡§§‡•á ‡§π‡•à‡§Ç (‡§ï‡•Å‡§õ ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§¶‡§ø‡§≤‡§ö‡§∏‡•ç‡§™ ‡§π‡•à‡§Ç)‡•§

‡§Ü‡§™ [**‡§Æ‡•Ç‡§≤ ‡§∂‡•ã‡§ß**](https://blog.plerion.com/conditional-love-for-aws-metadata-enumeration/) ‡§î‡§∞ ‡§á‡§∏ ‡§∂‡•ã‡§∑‡§£ ‡§ï‡•ã ‡§∏‡•ç‡§µ‡§ö‡§æ‡§≤‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§™‡§ï‡§∞‡§£ [**conditional-love**](https://github.com/plerionhq/conditional-love/) ‡§Æ‡•á‡§Ç ‡§Ö‡§ß‡§ø‡§ï ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
