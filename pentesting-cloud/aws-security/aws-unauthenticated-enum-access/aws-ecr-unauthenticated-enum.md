# AWS - ECR ì¸ì¦ë˜ì§€ ì•Šì€ ì—´ê±°

{% hint style="success" %}
AWS í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
GCP í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… ê³„íš**](https://github.com/sponsors/carlospolop) í™•ì¸í•˜ê¸°!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ì°¸ì—¬í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ê¹ƒí—ˆë¸Œ ë¦¬í¬ì§€í† ë¦¬ì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŒì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
{% endhint %}

## ECR

ìì„¸í•œ ì •ë³´ëŠ” ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

{% content-ref url="../aws-services/aws-ecr-enum.md" %}
[aws-ecr-enum.md](../aws-services/aws-ecr-enum.md)
{% endcontent-ref %}

### ê³µê°œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë¦¬í¬ì§€í† ë¦¬ (ì´ë¯¸ì§€)

ECS Enum ì„¹ì…˜ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´, ê³µê°œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ëŠ” **ëˆ„êµ¬ë‚˜ ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©°** í˜•ì‹ì€ **`public.ecr.aws/<random>/<name>`**ì…ë‹ˆë‹¤. ê³µê²©ìê°€ ê³µê°œ ë¦¬í¬ì§€í† ë¦¬ URLì„ ì°¾ìœ¼ë©´ **ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê³  ë©”íƒ€ë°ì´í„° ë° ì´ë¯¸ì§€ ì½˜í…ì¸ ì—ì„œ ë¯¼ê°í•œ ì •ë³´ë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

{% code overflow="wrap" %}
```bash
aws ecr describe-repositories --query 'repositories[?repositoryUriPublic == `true`].repositoryName' --output text
```
{% endcode %}

{% hint style="warning" %}
ì´ê²ƒì€ **ê°œì¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬**ì—ì„œë„ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë©°, ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì •ì±…ì´ë‚˜ ë¦¬í¬ì§€í† ë¦¬ ì •ì±…ì´ **ì˜ˆë¥¼ ë“¤ì–´ `"AWS": "*"`**ì— ëŒ€í•œ ì ‘ê·¼ì„ í—ˆìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. AWS ê³„ì •ì´ ìˆëŠ” ëˆ„êµ¬ë‚˜ í•´ë‹¹ ë¦¬í¬ì§€í† ë¦¬ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
{% endhint %}

### ê°œì¸ ë¦¬í¬ì§€í† ë¦¬ ì—´ê±°

ë„êµ¬ [**skopeo**](https://github.com/containers/skopeo)ì™€ [**crane**](https://github.com/google/go-containerregistry/blob/main/cmd/crane/doc/crane.md)ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œì¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë‚´ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥í•œ ë¦¬í¬ì§€í† ë¦¬ë¥¼ ë‚˜ì—´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```bash
# Get image names
skopeo list-tags docker://<PRIVATE_REGISTRY_URL> | grep -oP '(?<=^Name: ).+'
crane ls <PRIVATE_REGISTRY_URL> | sed 's/ .*//'
```
{% hint style="success" %}
AWS í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
GCP í•´í‚¹ ë°°ìš°ê¸° ë° ì—°ìŠµí•˜ê¸°: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›í•˜ê¸°</summary>

* [**êµ¬ë… ê³„íš**](https://github.com/sponsors/carlospolop) í™•ì¸í•˜ê¸°!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— ì°¸ì—¬í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **[**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ê¹ƒí—ˆë¸Œ ë¦¬í¬ì§€í† ë¦¬ì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì„¸ìš”.**

</details>
{% endhint %}
