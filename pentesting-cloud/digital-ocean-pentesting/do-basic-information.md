# DO - Informa√ß√µes B√°sicas

{% hint style="success" %}
Aprenda e pratique Hacking AWS:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Aprenda e pratique Hacking GCP: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Suporte HackTricks</summary>

* Confira os [**planos de assinatura**](https://github.com/sponsors/carlospolop)!
* **Junte-se ao** üí¨ [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga**-nos no **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe truques de hacking enviando PRs para o** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) reposit√≥rios do github.

</details>
{% endhint %}

## Informa√ß√µes B√°sicas

DigitalOcean √© uma **plataforma de computa√ß√£o em nuvem que fornece aos usu√°rios uma variedade de servi√ßos**, incluindo servidores privados virtuais (VPS) e outros recursos para construir, implantar e gerenciar aplica√ß√µes. **Os servi√ßos da DigitalOcean s√£o projetados para serem simples e f√°ceis de usar**, tornando-os **populares entre desenvolvedores e pequenas empresas**.

Algumas das principais caracter√≠sticas da DigitalOcean incluem:

* **Servidores privados virtuais (VPS)**: A DigitalOcean fornece VPS que podem ser usados para hospedar sites e aplica√ß√µes. Esses VPS s√£o conhecidos por sua simplicidade e facilidade de uso, e podem ser rapidamente implantados usando uma variedade de "droplets" pr√©-constru√≠dos ou configura√ß√µes personalizadas.
* **Armazenamento**: A DigitalOcean oferece uma gama de op√ß√µes de armazenamento, incluindo armazenamento de objetos, armazenamento em bloco e bancos de dados gerenciados, que podem ser usados para armazenar e gerenciar dados para sites e aplica√ß√µes.
* **Ferramentas de desenvolvimento e implanta√ß√£o**: A DigitalOcean fornece uma variedade de ferramentas que podem ser usadas para construir, implantar e gerenciar aplica√ß√µes, incluindo APIs e droplets pr√©-constru√≠dos.
* **Seguran√ßa**: A DigitalOcean coloca uma forte √™nfase na seguran√ßa e oferece uma gama de ferramentas e recursos para ajudar os usu√°rios a manter seus dados e aplica√ß√µes seguros. Isso inclui criptografia, backups e outras medidas de seguran√ßa.

No geral, a DigitalOcean √© uma plataforma de computa√ß√£o em nuvem que fornece aos usu√°rios as ferramentas e recursos de que precisam para construir, implantar e gerenciar aplica√ß√µes na nuvem. Seus servi√ßos s√£o projetados para serem simples e f√°ceis de usar, tornando-os populares entre desenvolvedores e pequenas empresas.

### Principais Diferen√ßas em Rela√ß√£o ao AWS

Uma das principais diferen√ßas entre DigitalOcean e AWS √© a **variedade de servi√ßos que oferecem**. **A DigitalOcean se concentra em fornecer servidores privados virtuais (VPS)** simples e f√°ceis de usar, armazenamento e ferramentas de desenvolvimento e implanta√ß√£o. **A AWS**, por outro lado, oferece uma **gama muito mais ampla de servi√ßos**, incluindo VPS, armazenamento, bancos de dados, aprendizado de m√°quina, an√°lises e muitos outros servi√ßos. Isso significa que a AWS √© mais adequada para aplica√ß√µes complexas de n√≠vel empresarial, enquanto a DigitalOcean √© mais adequada para pequenas empresas e desenvolvedores.

Outra diferen√ßa importante entre as duas plataformas √© a **estrutura de pre√ßos**. **Os pre√ßos da DigitalOcean s√£o geralmente mais diretos e f√°ceis** de entender do que os da AWS, com uma variedade de planos de pre√ßos baseados no n√∫mero de droplets e outros recursos utilizados. A AWS, por outro lado, tem uma estrutura de pre√ßos mais complexa que √© baseada em uma variedade de fatores, incluindo o tipo e a quantidade de recursos utilizados. Isso pode dificultar a previs√£o de custos ao usar a AWS.

## Hierarquia

### Usu√°rio

Um usu√°rio √© o que voc√™ espera, um usu√°rio. Ele pode **criar Equipes** e **ser membro de diferentes equipes.**

### **Equipe**

Uma equipe √© um grupo de **usu√°rios**. Quando um usu√°rio cria uma equipe, ele tem o **papel de propriet√°rio nessa equipe** e inicialmente **configura as informa√ß√µes de cobran√ßa**. **Outros** usu√°rios podem ent√£o ser **convidados** para a equipe.

Dentro da equipe, pode haver v√°rios **projetos**. Um projeto √© apenas um **conjunto de servi√ßos em execu√ß√£o**. Pode ser usado para **separar diferentes est√°gios de infraestrutura**, como produ√ß√£o, homologa√ß√£o, desenvolvimento...

### Projeto

Como explicado, um projeto √© apenas um cont√™iner para todos os **servi√ßos** (droplets, spaces, bancos de dados, kubernetes...) **executando juntos dentro dele**.\
Um projeto da Digital Ocean √© muito semelhante a um projeto do GCP sem IAM.

## Permiss√µes

### Equipe

Basicamente, todos os membros de uma equipe t√™m **acesso aos recursos DO em todos os projetos criados dentro da equipe (com mais ou menos privil√©gios).**

### Pap√©is

Cada **usu√°rio dentro de uma equipe** pode ter **um** dos seguintes tr√™s **pap√©is** dentro dela:

| Papel      | Recursos Compartilhados | Informa√ß√µes de Cobran√ßa | Configura√ß√µes da Equipe |
| ---------- | ----------------------- | ------------------------ | ----------------------- |
| **Propriet√°rio** | Acesso total         | Acesso total            | Acesso total           |
| **Faturador** | Sem acesso            | Acesso total            | Sem acesso             |
| **Membro**  | Acesso total           | Sem acesso              | Sem acesso             |

**Propriet√°rio** e **membro podem listar os usu√°rios** e verificar seus **pap√©is** (faturador n√£o pode).

## Acesso

### Nome de usu√°rio + senha (MFA)

Como na maioria das plataformas, para acessar a GUI voc√™ pode usar um conjunto de **nome de usu√°rio e senha v√°lidos** para **acessar** os **recursos** da nuvem. Uma vez logado, voc√™ pode ver **todas as equipes das quais voc√™ faz parte** em [https://cloud.digitalocean.com/account/profile](https://cloud.digitalocean.com/account/profile).\
E voc√™ pode ver toda a sua atividade em [https://cloud.digitalocean.com/account/activity](https://cloud.digitalocean.com/account/activity).

**MFA** pode ser **ativado** em um usu√°rio e **exigido** para todos os usu√°rios em uma **equipe** para acessar a equipe.

### Chaves de API

Para usar a API, os usu√°rios podem **gerar chaves de API**. Estas sempre vir√£o com permiss√µes de leitura, mas **permiss√µes de grava√ß√£o s√£o opcionais**.\
As chaves de API se parecem com isto:
```
dop_v1_1946a92309d6240274519275875bb3cb03c1695f60d47eaa1532916502361836
```
A ferramenta cli √© [**doctl**](https://github.com/digitalocean/doctl#installing-doctl). Inicialize-a (voc√™ precisa de um token) com:
```bash
doctl auth init # Asks for the token
doctl auth init --context my-context # Login with a different token
doctl auth list # List accounts
```
Por padr√£o, este token ser√° escrito em texto claro no Mac em `/Users/<username>/Library/Application Support/doctl/config.yaml`.

### Chaves de acesso do Spaces

Estas s√£o chaves que d√£o **acesso aos Spaces** (como S3 na AWS ou Storage no GCP).

Elas s√£o compostas por um **nome**, um **keyid** e um **secret**. Um exemplo poderia ser:
```
Name: key-example
Keyid: DO00ZW4FABSGZHAABGFX
Secret: 2JJ0CcQZ56qeFzAJ5GFUeeR4Dckarsh6EQSLm87MKlM
```
### OAuth Application

Aplica√ß√µes OAuth podem ser concedidas **acesso sobre o Digital Ocean**.

√â poss√≠vel **criar aplica√ß√µes OAuth** em [https://cloud.digitalocean.com/account/api/applications](https://cloud.digitalocean.com/account/api/applications) e verificar todas as **aplica√ß√µes OAuth permitidas** em [https://cloud.digitalocean.com/account/api/access](https://cloud.digitalocean.com/account/api/access).

### SSH Keys

√â poss√≠vel adicionar **chaves SSH a um Time do Digital Ocean** a partir do **console** em [https://cloud.digitalocean.com/account/security](https://cloud.digitalocean.com/account/security).

Dessa forma, se voc√™ criar um **novo droplet, a chave SSH ser√° configurada** nele e voc√™ poder√° **fazer login via SSH** sem senha (note que as novas [chaves SSH carregadas n√£o s√£o configuradas em droplets j√° existentes por raz√µes de seguran√ßa](https://docs.digitalocean.com/products/droplets/how-to/add-ssh-keys/to-existing-droplet/)).

### Functions Authentication Token

A maneira **de acionar uma fun√ß√£o via REST API** (sempre habilitado, √© o m√©todo que o cli usa) √© acionando uma solicita√ß√£o com um **token de autentica√ß√£o** como:
```bash
curl -X POST "https://faas-lon1-129376a7.doserverless.co/api/v1/namespaces/fn-c100c012-65bf-4040-1230-2183764b7c23/actions/functionname?blocking=true&result=true" \
-H "Content-Type: application/json" \
-H "Authorization: Basic MGU0NTczZGQtNjNiYS00MjZlLWI2YjctODk0N2MyYTA2NGQ4OkhwVEllQ2t4djNZN2x6YjJiRmFGc1FERXBySVlWa1lEbUxtRE1aRTludXA1UUNlU2VpV0ZGNjNqWnVhYVdrTFg="
```
## Logs

### User logs

Os **logs de um usu√°rio** podem ser encontrados em [**https://cloud.digitalocean.com/account/activity**](https://cloud.digitalocean.com/account/activity)

### Team logs

Os **logs de uma equipe** podem ser encontrados em [**https://cloud.digitalocean.com/account/security**](https://cloud.digitalocean.com/account/security)

## References

* [https://docs.digitalocean.com/products/teams/how-to/manage-membership/](https://docs.digitalocean.com/products/teams/how-to/manage-membership/)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
