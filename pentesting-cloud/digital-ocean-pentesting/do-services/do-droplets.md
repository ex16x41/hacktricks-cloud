# DO - Droplets

{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Teile Hacking-Tricks, indem du PRs zu den** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos einreichst.

</details>
{% endhint %}

## Grundinformationen

In DigitalOcean ist ein "Droplet" ein v**irtueller privater Server (VPS)**, der verwendet werden kann, um Websites und Anwendungen zu hosten. Ein Droplet ist ein **vorkonfiguriertes Paket von Rechenressourcen**, einschlie√ülich einer bestimmten Menge an CPU, Speicher und Speicherplatz, das schnell und einfach auf der Cloud-Infrastruktur von DigitalOcean bereitgestellt werden kann.

Du kannst aus **g√§ngigen Betriebssystemen** w√§hlen, bis hin zu **bereits laufenden Anwendungen** (wie WordPress, cPanel, Laravel...) oder sogar **deine eigenen Images** hochladen und verwenden.

Droplets unterst√ºtzen **Benutzerdaten-Skripte**.

<details>

<summary>Unterschied zwischen einem Snapshot und einem Backup</summary>

In DigitalOcean ist ein Snapshot eine Momentaufnahme des Festplattenspeichers eines Droplets zu einem bestimmten Zeitpunkt. Er erfasst den Zustand der Festplatte des Droplets zum Zeitpunkt der Erstellung des Snapshots, einschlie√ülich des Betriebssystems, installierter Anwendungen und aller Dateien und Daten auf der Festplatte.

Snapshots k√∂nnen verwendet werden, um neue Droplets mit derselben Konfiguration wie das urspr√ºngliche Droplet zu erstellen oder um ein Droplet auf den Zustand zur√ºckzusetzen, in dem es sich befand, als der Snapshot erstellt wurde. Snapshots werden im Objektspeicherdienst von DigitalOcean gespeichert und sind inkrementell, was bedeutet, dass nur die √Ñnderungen seit dem letzten Snapshot gespeichert werden. Dies macht sie effizient in der Nutzung und kosteng√ºnstig in der Speicherung.

Im Gegensatz dazu ist ein Backup eine vollst√§ndige Kopie eines Droplets, einschlie√ülich des Betriebssystems, installierter Anwendungen, Dateien und Daten sowie der Einstellungen und Metadaten des Droplets. Backups werden typischerweise nach einem regelm√§√üigen Zeitplan durchgef√ºhrt und erfassen den gesamten Zustand eines Droplets zu einem bestimmten Zeitpunkt.

Im Gegensatz zu Snapshots werden Backups in einem komprimierten und verschl√ºsselten Format gespeichert und von der Infrastruktur von DigitalOcean an einen entfernten Ort zur sicheren Aufbewahrung √ºbertragen. Dies macht Backups ideal f√ºr die Wiederherstellung nach Katastrophen, da sie eine vollst√§ndige Kopie eines Droplets bereitstellen, die im Falle von Datenverlust oder anderen katastrophalen Ereignissen wiederhergestellt werden kann.

Zusammenfassend sind Snapshots Momentaufnahmen der Festplatte eines Droplets, w√§hrend Backups vollst√§ndige Kopien eines Droplets, einschlie√ülich seiner Einstellungen und Metadaten, sind. Snapshots werden im Objektspeicherdienst von DigitalOcean gespeichert, w√§hrend Backups von der Infrastruktur von DigitalOcean an einen entfernten Ort √ºbertragen werden. Sowohl Snapshots als auch Backups k√∂nnen verwendet werden, um ein Droplet wiederherzustellen, aber Snapshots sind effizienter in der Nutzung und Speicherung, w√§hrend Backups eine umfassendere Backup-L√∂sung f√ºr die Wiederherstellung nach Katastrophen bieten.

</details>

### Authentifizierung

F√ºr die Authentifizierung ist es m√∂glich, **SSH** √ºber Benutzernamen und **Passwort** (Passwort, das beim Erstellen des Droplets festgelegt wurde) zu **aktivieren**. Oder **eine oder mehrere der hochgeladenen SSH-Schl√ºssel** auszuw√§hlen.

### Firewall

{% hint style="danger" %}
Standardm√§√üig werden **Droplets OHNE FIREWALL** erstellt (nicht wie in anderen Clouds wie AWS oder GCP). Wenn du also m√∂chtest, dass DO die Ports des Droplets (VM) sch√ºtzt, musst du **es erstellen und anh√§ngen**.
{% endhint %}

Weitere Informationen in:

{% content-ref url="do-networking.md" %}
[do-networking.md](do-networking.md)
{% endcontent-ref %}

### Enumeration
```bash
# VMs
doctl compute droplet list # IPs will appear here
doctl compute droplet backups <droplet-id>
doctl compute droplet snapshots <droplet-id>
doctl compute droplet neighbors <droplet-id> # Get network neighbors
doctl compute droplet actions <droplet-id> # Get droplet actions

# VM interesting actions
doctl compute droplet-action password-reset <droplet-id> # New password is emailed to the user
doctl compute droplet-action enable-ipv6 <droplet-id>
doctl compute droplet-action power-on <droplet-id>
doctl compute droplet-action disable-backups <droplet-id>

# SSH
doctl compute ssh <droplet-id> # This will just run SSH
doctl compute ssh-key list
doctl compute ssh-key import <key-name> --public-key-file /path/to/key.pub

# Certificates
doctl compute certificate list

# Snapshots
doctl compute snapshot list
```
{% hint style="danger" %}
**Droplets haben Metadatenendpunkte**, aber in DO **gibt es kein IAM** oder Dinge wie Rollen von AWS oder Dienstkonten von GCP.
{% endhint %}

### RCE

Mit Zugriff auf die Konsole ist es m√∂glich, **eine Shell innerhalb des Droplets zu erhalten**, indem man die URL aufruft: **`https://cloud.digitalocean.com/droplets/<droplet-id>/terminal/ui/`**

Es ist auch m√∂glich, eine **Wiederherstellungskonsole** zu starten, um Befehle innerhalb des Hosts auszuf√ºhren, indem man auf eine Wiederherstellungskonsole unter **`https://cloud.digitalocean.com/droplets/<droplet-id>/console`** zugreift (aber in diesem Fall m√ºssen Sie das Root-Passwort kennen).

{% hint style="success" %}
Lernen & √ºben Sie AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
Lernen & √ºben Sie GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* √úberpr√ºfen Sie die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Teilen Sie Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos senden.

</details>
{% endhint %}
