# Cloudflare Zero Trust Network

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

Dans un **compte Cloudflare Zero Trust Network**, il y a certains **param√®tres et services** qui peuvent √™tre configur√©s. Sur cette page, nous allons **analyser les param√®tres li√©s √† la s√©curit√© de chaque section :**

<figure><img src="../../.gitbook/assets/image (206).png" alt=""><figcaption></figcaption></figure>

### Analytics

* [ ] Utile pour **conna√Ætre l'environnement**

### **Gateway**

* [ ] Dans **`Policies`**, il est possible de g√©n√©rer des politiques pour **restreindre** par **DNS**, **r√©seau** ou **requ√™te HTTP** qui peut acc√©der aux applications.
* Si utilis√©, des **politiques** pourraient √™tre cr√©√©es pour **restreindre** l'acc√®s aux sites malveillants.
* Ceci est **uniquement pertinent si une passerelle est utilis√©e**, sinon, il n'y a aucune raison de cr√©er des politiques d√©fensives.

### Access

#### Applications

Sur chaque application :

* [ ] V√©rifiez **qui** peut acc√©der √† l'application dans les **Policies** et assurez-vous que **seuls** les **utilisateurs** qui **ont besoin d'acc√®s** √† l'application peuvent y acc√©der.
* Pour permettre l'acc√®s, des **`Access Groups`** vont √™tre utilis√©s (et des **r√®gles suppl√©mentaires** peuvent √©galement √™tre d√©finies)
* [ ] V√©rifiez les **fournisseurs d'identit√© disponibles** et assurez-vous qu'ils **ne sont pas trop ouverts**
* [ ] Dans **`Settings`** :
* [ ] V√©rifiez que **CORS n'est pas activ√©** (s'il est activ√©, v√©rifiez qu'il est **s√©curis√©** et qu'il ne permet pas tout)
* [ ] Les cookies doivent avoir l'attribut **Strict Same-Site**, **HTTP Only** et le **binding cookie** doit √™tre **activ√©** si l'application est HTTP.
* [ ] Envisagez √©galement d'activer le **rendu du navigateur** pour une meilleure **protection. Plus d'infos sur** [**l'isolation de navigateur √† distance ici**](https://blog.cloudflare.com/cloudflare-and-remote-browser-isolation/)**.**

#### **Access Groups**

* [ ] V√©rifiez que les groupes d'acc√®s g√©n√©r√©s sont **correctement restreints** aux utilisateurs qu'ils doivent autoriser.
* [ ] Il est particuli√®rement important de v√©rifier que le **groupe d'acc√®s par d√©faut n'est pas tr√®s ouvert** (il **ne permet pas trop de personnes**) car par **d√©faut**, quiconque dans ce **groupe** pourra **acc√©der aux applications**.
* Notez qu'il est possible de donner **acc√®s** √† **TOUS** et d'autres **politiques tr√®s ouvertes** qui ne sont pas recommand√©es sauf si 100 % n√©cessaire.

#### Service Auth

* [ ] V√©rifiez que tous les jetons de service **expirent dans 1 an ou moins**

#### Tunnels

TODO

### My Team

TODO

### Logs

* [ ] Vous pourriez rechercher des **actions inattendues** de la part des utilisateurs

### Settings

* [ ] V√©rifiez le **type de plan**
* [ ] Il est possible de voir le **nom du propri√©taire de la carte de cr√©dit**, **derniers 4 chiffres**, **date d'expiration** et **adresse**
* [ ] Il est recommand√© d'**ajouter une expiration de si√®ge utilisateur** pour supprimer les utilisateurs qui n'utilisent pas vraiment ce service

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
