# Cloudflare GÃ¼venliÄŸi

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter**'da **bizi takip edin** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

Bir Cloudflare hesabÄ±nda yapÄ±landÄ±rÄ±labilecek bazÄ± **genel ayarlar ve hizmetler** bulunmaktadÄ±r. Bu sayfada her bÃ¶lÃ¼mÃ¼n **gÃ¼venlikle ilgili ayarlarÄ±nÄ± analiz edeceÄŸiz:**

<figure><img src="../../.gitbook/assets/image (117).png" alt=""><figcaption></figcaption></figure>

## Web Siteleri

Her birini gÃ¶zden geÃ§irin:

{% content-ref url="cloudflare-domains.md" %}
[cloudflare-domains.md](cloudflare-domains.md)
{% endcontent-ref %}

### Alan AdÄ± KaydÄ±

* [ ] **`Alan AdlarÄ±nÄ± Aktar`** kÄ±smÄ±nda herhangi bir alan adÄ±nÄ± aktarmanÄ±n mÃ¼mkÃ¼n olmadÄ±ÄŸÄ±nÄ± kontrol edin.

Her birini gÃ¶zden geÃ§irin:

{% content-ref url="cloudflare-domains.md" %}
[cloudflare-domains.md](cloudflare-domains.md)
{% endcontent-ref %}

## Analitik

_GÃ¼venlik yapÄ±landÄ±rma incelemesi iÃ§in kontrol edilecek bir ÅŸey bulamadÄ±m._

## Sayfalar

Her Cloudflare sayfasÄ±nda:

* [ ] **`Build log`** kÄ±smÄ±nda **hassas bilgileri** kontrol edin.
* [ ] Sayfalara atanan **Github deposunda** **hassas bilgileri** kontrol edin.
* [ ] **workflow command injection** veya `pull_request_target` ile potansiyel github repo ihlali kontrol edin. Daha fazla bilgi iÃ§in [**Github GÃ¼venlik sayfasÄ±na**](../github-security/) bakÄ±n.
* [ ] `/fuctions` dizininde **zayÄ±f fonksiyonlarÄ±** kontrol edin (varsa), **_redirects** dosyasÄ±ndaki **yÃ¶nlendirmeleri** kontrol edin (varsa) ve **_headers** dosyasÄ±ndaki **yanlÄ±ÅŸ yapÄ±landÄ±rÄ±lmÄ±ÅŸ baÅŸlÄ±klarÄ±** kontrol edin (varsa).
* [ ] **Kod eriÅŸiminiz varsa** **web sayfasÄ±nda** **zayÄ±flÄ±klarÄ±** kontrol edin **blackbox** veya **whitebox** ile.
* [ ] Her sayfanÄ±n detaylarÄ±nda `/<page_id>/pages/view/blocklist/settings/functions`. **`Environment variables`** kÄ±smÄ±nda **hassas bilgileri** kontrol edin.
* [ ] Detay sayfasÄ±nda ayrÄ±ca **build command** ve **root directory**'yi **potansiyel enjeksiyonlar** iÃ§in kontrol edin.

## **Workers**

Her Cloudflare iÅŸÃ§isinde kontrol edin:

* [ ] Tetikleyiciler: Ä°ÅŸÃ§iyi tetikleyen nedir? Bir **kullanÄ±cÄ± veri gÃ¶nderebilir mi** ve bu veri iÅŸÃ§i tarafÄ±ndan **kullanÄ±labilir mi**?
* [ ] **`Ayarlar`** kÄ±smÄ±nda, **hassas bilgileri** iÃ§eren **`DeÄŸiÅŸkenleri`** kontrol edin.
* [ ] **Ä°ÅŸÃ§inin kodunu** kontrol edin ve **zayÄ±flÄ±klarÄ±** arayÄ±n (Ã¶zellikle kullanÄ±cÄ±nÄ±n giriÅŸi yÃ¶netebileceÄŸi yerlerde).
* Kontrol edebileceÄŸiniz belirtilen sayfayÄ± dÃ¶ndÃ¼ren SSRF'leri kontrol edin.
* Bir svg resminin iÃ§inde JS Ã§alÄ±ÅŸtÄ±ran XSS'leri kontrol edin.
* Ä°ÅŸÃ§inin diÄŸer iÃ§ hizmetlerle etkileÅŸimde bulunmasÄ± mÃ¼mkÃ¼ndÃ¼r. Ã–rneÄŸin, bir iÅŸÃ§i, girdi ile elde edilen bilgileri depolayan bir R2 bucket ile etkileÅŸimde bulunabilir. Bu durumda, iÅŸÃ§inin R2 bucket Ã¼zerindeki yeteneklerini ve kullanÄ±cÄ± girdisinden nasÄ±l kÃ¶tÃ¼ye kullanÄ±labileceÄŸini kontrol etmek gerekir.

{% hint style="warning" %}
VarsayÄ±lan olarak bir **Worker'a** `<worker-name>.<account>.workers.dev` gibi bir URL verilir. KullanÄ±cÄ± bunu bir **alt alan adÄ±** olarak ayarlayabilir, ancak eÄŸer biliyorsanÄ±z her zaman bu **orijinal URL** ile eriÅŸebilirsiniz.
{% endhint %}

## R2

Her R2 bucket'ta kontrol edin:

* [ ] **CORS PolitikasÄ±**'nÄ± yapÄ±landÄ±rÄ±n.

## AkÄ±ÅŸ

TODO

## GÃ¶rseller

TODO

## GÃ¼venlik Merkezi

* [ ] MÃ¼mkÃ¼nse, **`GÃ¼venlik Ä°Ã§gÃ¶rÃ¼leri`** **taramasÄ±** ve **`AltyapÄ±`** **taramasÄ±** yapÄ±n, Ã§Ã¼nkÃ¼ bunlar **gÃ¼venlik** aÃ§Ä±sÄ±ndan ilginÃ§ bilgileri **vurgulayacaktÄ±r**.
* [ ] GÃ¼venlik yanlÄ±ÅŸ yapÄ±landÄ±rmalarÄ± ve ilginÃ§ bilgiler iÃ§in sadece **bu bilgiyi** kontrol edin.

## Turnstile

TODO

## **Zero Trust**

{% content-ref url="cloudflare-zero-trust-network.md" %}
[cloudflare-zero-trust-network.md](cloudflare-zero-trust-network.md)
{% endcontent-ref %}

## Toplu YÃ¶nlendirmeler

{% hint style="info" %}
[Dinamik YÃ¶nlendirmeler](https://developers.cloudflare.com/rules/url-forwarding/dynamic-redirects/) ile karÅŸÄ±laÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda, [**Toplu YÃ¶nlendirmeler**](https://developers.cloudflare.com/rules/url-forwarding/bulk-redirects/) esasen statiktir â€” **herhangi bir dize deÄŸiÅŸtirme** iÅŸlemini veya dÃ¼zenli ifadeleri desteklemez. Ancak, URL eÅŸleÅŸme davranÄ±ÅŸlarÄ±nÄ± ve Ã§alÄ±ÅŸma zamanÄ± davranÄ±ÅŸlarÄ±nÄ± etkileyen URL yÃ¶nlendirme parametrelerini yapÄ±landÄ±rabilirsiniz.
{% endhint %}

* [ ] **yÃ¶nlendirmeler iÃ§in** **ifade** ve **gereksinimlerin** **mantÄ±klÄ±** olduÄŸunu kontrol edin.
* [ ] AyrÄ±ca **ilginÃ§ bilgiler** iÃ§eren **hassas gizli uÃ§ noktalarÄ±** kontrol edin.

## Bildirimler

* [ ] **bildirimleri** kontrol edin. Bu bildirimler gÃ¼venlik iÃ§in Ã¶nerilmektedir:
* `KullanÄ±ma DayalÄ± Faturalama`
* `HTTP DDoS SaldÄ±rÄ± UyarÄ±sÄ±`
* `Katman 3/4 DDoS SaldÄ±rÄ± UyarÄ±sÄ±`
* `GeliÅŸmiÅŸ HTTP DDoS SaldÄ±rÄ± UyarÄ±sÄ±`
* `GeliÅŸmiÅŸ Katman 3/4 DDoS SaldÄ±rÄ± UyarÄ±sÄ±`
* `AkÄ±ÅŸ TabanlÄ± Ä°zleme: Hacimsel SaldÄ±rÄ±`
* `Yol SÄ±zÄ±ntÄ±sÄ± Tespit UyarÄ±sÄ±`
* `EriÅŸim mTLS Sertifika SÃ¼resi Dolma UyarÄ±sÄ±`
* `SaaS Ã–zel Alan AdlarÄ± iÃ§in SSL UyarÄ±sÄ±`
* `Evrensel SSL UyarÄ±sÄ±`
* `Script Ä°zleyici Yeni Kod DeÄŸiÅŸikliÄŸi Tespit UyarÄ±sÄ±`
* `Script Ä°zleyici Yeni Alan UyarÄ±sÄ±`
* `Script Ä°zleyici Yeni KÃ¶tÃ¼ AmaÃ§lÄ± Alan UyarÄ±sÄ±`
* `Script Ä°zleyici Yeni KÃ¶tÃ¼ AmaÃ§lÄ± Script UyarÄ±sÄ±`
* `Script Ä°zleyici Yeni KÃ¶tÃ¼ AmaÃ§lÄ± URL UyarÄ±sÄ±`
* `Script Ä°zleyici Yeni Scriptler UyarÄ±sÄ±`
* `Script Ä°zleyici Yeni Script Maksimum URL UzunluÄŸunu AÅŸma UyarÄ±sÄ±`
* `GeliÅŸmiÅŸ GÃ¼venlik OlaylarÄ± UyarÄ±sÄ±`
* `GÃ¼venlik OlaylarÄ± UyarÄ±sÄ±`
* [ ] TÃ¼m **hedefleri** kontrol edin, Ã§Ã¼nkÃ¼ webhook URL'lerinde **hassas bilgiler** (temel http kimlik doÄŸrulamasÄ±) olabilir. AyrÄ±ca webhook URL'lerinin **HTTPS** kullandÄ±ÄŸÄ±ndan emin olun.
* [ ] Ek bir kontrol olarak, belki bir ÅŸekilde **tehlikeli bir ÅŸey** **enjekte edebilirsiniz** diye bir Ã¼Ã§Ã¼ncÃ¼ tarafa **cloudflare bildirimini taklit etmeyi** deneyebilirsiniz.

## HesabÄ± YÃ¶net

* [ ] **`Faturalama` -> `Ã–deme bilgileri`** kÄ±smÄ±nda **kredi kartÄ±nÄ±n son 4 hanesini**, **son kullanma** tarihini ve **fatura adresini** gÃ¶rebilirsiniz.
* [ ] **`Faturalama` -> `Abonelikler`** kÄ±smÄ±nda hesabÄ±n kullanÄ±lan **plan tÃ¼rÃ¼nÃ¼** gÃ¶rebilirsiniz.
* [ ] **`Ãœyeler`** kÄ±smÄ±nda hesabÄ±n tÃ¼m Ã¼yelerini ve onlarÄ±n **rollerini** gÃ¶rebilirsiniz. Plan tÃ¼rÃ¼ Enterprise deÄŸilse, yalnÄ±zca 2 rol vardÄ±r: YÃ¶netici ve SÃ¼per YÃ¶netici. Ancak kullanÄ±lan **plan Enterprise** ise, [**daha fazla rol**](https://developers.cloudflare.com/fundamentals/account-and-billing/account-setup/account-roles/) kullanÄ±labilir ve bu da en az ayrÄ±calÄ±k ilkesine uyulmasÄ±nÄ± saÄŸlar.
* Bu nedenle, mÃ¼mkÃ¼n olduÄŸunda **Enterprise planÄ±** kullanÄ±lmasÄ± **Ã¶nerilir**.
* [ ] Ãœyeler kÄ±smÄ±nda hangi **Ã¼yelerin** **2FA etkin** olduÄŸunu kontrol edebilirsiniz. **Her** kullanÄ±cÄ±nÄ±n bunu etkinleÅŸtirmesi gerekir.

{% hint style="info" %}
Neyse ki, **`YÃ¶netici`** rolÃ¼, Ã¼yelikleri yÃ¶netme izinleri vermez (**yetkileri artÄ±rma veya** yeni Ã¼yeler davet etme olanaÄŸÄ± yoktur).
{% endhint %}

## DDoS SoruÅŸturmasÄ±

[BurasÄ± kontrol edin](cloudflare-domains.md#cloudflare-ddos-protection).

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter**'da **bizi takip edin** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}
