# Cloudflare GÃ¼venliÄŸi

<details>

<summary><strong>AWS hackleme konusunda sÄ±fÄ±rdan kahramana kadar Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong> ile!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**](https://github.com/sponsors/carlospolop)'na gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini alÄ±n**](https://peass.creator-spring.com)
* [**PEASS Ailesi'ni**](https://opensea.io/collection/the-peass-family) keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuzu keÅŸfedin
* **KatÄ±lÄ±n** ğŸ’¬ [**Discord grubumuza**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na PR gÃ¶ndererek destek olun.

</details>

Bir Cloudflare hesabÄ±nda yapÄ±landÄ±rÄ±labilen bazÄ± **genel ayarlar ve hizmetler** bulunmaktadÄ±r. Bu sayfada her bÃ¶lÃ¼mÃ¼n **gÃ¼venlikle ilgili ayarlarÄ±nÄ± analiz edeceÄŸiz:**

<figure><img src="../../.gitbook/assets/image (117).png" alt=""><figcaption></figcaption></figure>

## Web Siteleri

Her birini gÃ¶zden geÃ§irin:

{% content-ref url="cloudflare-domains.md" %}
[cloudflare-domains.md](cloudflare-domains.md)
{% endcontent-ref %}

### Alan KaydÄ±

* [ ] **`AlanlarÄ± Transfer Et`** bÃ¶lÃ¼mÃ¼nde herhangi bir alanÄ±n transfer edilemeyeceÄŸini kontrol edin.

Her birini gÃ¶zden geÃ§irin:

{% content-ref url="cloudflare-domains.md" %}
[cloudflare-domains.md](cloudflare-domains.md)
{% endcontent-ref %}

## Analizler

_Bir yapÄ±landÄ±rma gÃ¼venlik incelemesi iÃ§in kontrol edilecek bir ÅŸey bulamadÄ±m._

## Sayfalar

Her Cloudflare sayfasÄ±nda:

* [ ] **`Build log`** iÃ§inde **duyarlÄ± bilgileri** kontrol edin.
* [ ] Sayfalara atanan **Github deposunda** **duyarlÄ± bilgileri** kontrol edin.
* [ ] **Workflow komut enjeksiyonu** veya `pull_request_target` kompromisine karÅŸÄ± potansiyel github repo kompromisini kontrol edin. Daha fazla bilgi iÃ§in [**Github GÃ¼venlik sayfasÄ±na**](../github-security/) bakÄ±n.
* [ ] `/fuctions` dizinindeki **zafiyetli fonksiyonlarÄ±**, `_redirects` dosyasÄ±ndaki **yÃ¶nlendirmeleri** (varsa) ve `_headers` dosyasÄ±ndaki **yanlÄ±ÅŸ yapÄ±landÄ±rÄ±lmÄ±ÅŸ baÅŸlÄ±klarÄ±** kontrol edin.
* [ ] **Web sayfasÄ±ndaki zafiyetleri** **siyah kutu** veya **beyaz kutu** ile kontrol edin, eÄŸer **koda eriÅŸebiliyorsanÄ±z**
* [ ] Her sayfanÄ±n ayrÄ±ntÄ±larÄ±nda `/<sayfa_id>/pages/view/blocklist/settings/functions`. **`Ã‡evre deÄŸiÅŸkenlerinde`** **duyarlÄ± bilgileri** kontrol edin.
* [ ] AyrÄ±ca ayrÄ±ntÄ±lar sayfasÄ±nda **derleme komutunu** ve **kÃ¶k dizinini** kontrol edin, sayfayÄ± tehlikeye atacak **potansiyel enjeksiyonlar** iÃ§in.

## **Ã‡alÄ±ÅŸanlar**

Her Cloudflare Ã§alÄ±ÅŸanÄ±nÄ± kontrol edin:

* [ ] Tetikleyiciler: Ã‡alÄ±ÅŸanÄ± tetikleyen nedir? Bir **kullanÄ±cÄ± veri gÃ¶nderebilir** mi ve bu veri Ã§alÄ±ÅŸan tarafÄ±ndan **kullanÄ±labilir mi**?
* [ ] **`Ayarlar`** bÃ¶lÃ¼mÃ¼nde, **duyarlÄ± bilgileri** iÃ§eren **`DeÄŸiÅŸkenleri`** kontrol edin
* [ ] Ã‡alÄ±ÅŸanÄ±n **kodunu kontrol edin** ve **zafiyetleri arayÄ±n** (Ã¶zellikle kullanÄ±cÄ±nÄ±n girdiyi yÃ¶netebileceÄŸi yerlerde)
* Kontrol edin, kontrol edebileceÄŸiniz belirtilen sayfayÄ± dÃ¶ndÃ¼ren SSRF'leri
* JS'yi bir svg gÃ¶rÃ¼ntÃ¼sÃ¼ iÃ§inde Ã§alÄ±ÅŸtÄ±ran XSS'leri kontrol edin
* Ã‡alÄ±ÅŸanÄ±n diÄŸer iÃ§ hizmetlerle etkileÅŸimde bulunmasÄ± mÃ¼mkÃ¼ndÃ¼r. Ã–rneÄŸin, bir Ã§alÄ±ÅŸan girdiden elde edilen bilgileri iÃ§inde depolayan bir R2 kovasÄ±yla etkileÅŸimde olabilir. Bu durumda, Ã§alÄ±ÅŸanÄ±n R2 kovasÄ± Ã¼zerinde hangi yetkilere sahip olduÄŸunu ve kullanÄ±cÄ± girdisinden nasÄ±l kÃ¶tÃ¼ye kullanÄ±labileceÄŸini kontrol etmek gerekecektir.

{% hint style="warning" %}
VarsayÄ±lan olarak bir **Ã‡alÄ±ÅŸana** `<worker-adÄ±>.<hesap>.workers.dev` gibi bir URL verilir. KullanÄ±cÄ± bunu bir **alt alan adÄ±na** ayarlayabilir ancak bildiÄŸiniz takdirde her zaman o **orijinal URL** ile eriÅŸebilirsiniz.
{% endhint %}

## R2

Her R2 kovasÄ±nda kontrol edin:

* [ ] **CORS PolitikasÄ±nÄ±** yapÄ±landÄ±rÄ±n.

## AkÄ±ÅŸ

TODO

## GÃ¶rÃ¼ntÃ¼ler

TODO

## GÃ¼venlik Merkezi

* [ ] MÃ¼mkÃ¼nse, **`GÃ¼venlik Ä°ncelemeleri`** **taramasÄ±** ve **`AltyapÄ±`** **taramasÄ±** Ã§alÄ±ÅŸtÄ±rÄ±n, Ã§Ã¼nkÃ¼ bunlar ilginÃ§ bilgileri **gÃ¼venlik aÃ§Ä±sÄ±ndan vurgulayacaktÄ±r**.
* [ ] Sadece gÃ¼venlik yanlÄ±ÅŸ yapÄ±landÄ±rmalarÄ± ve ilginÃ§ bilgiler iÃ§in bu bilgileri kontrol edin

## Turnike

TODO

## **SÄ±fÄ±r GÃ¼ven**

{% content-ref url="cloudflare-zero-trust-network.md" %}
[cloudflare-zero-trust-network.md](cloudflare-zero-trust-network.md)
{% endcontent-ref %}

## Toplu YÃ¶nlendirmeler

{% hint style="info" %}
[Dinamik YÃ¶nlendirmeler](https://developers.cloudflare.com/rules/url-forwarding/dynamic-redirects/) ile farklÄ± olarak, [**Toplu YÃ¶nlendirmeler**](https://developers.cloudflare.com/rules/url-forwarding/bulk-redirects/) temelde statiktir - **herhangi bir dize deÄŸiÅŸtirme** iÅŸlemini veya dÃ¼zenli ifadeleri **desteklemezler**. Ancak, URL yÃ¶nlendirme parametrelerini yapÄ±landÄ±rabilir ve bunlarÄ±n URL eÅŸleme davranÄ±ÅŸÄ±nÄ± ve Ã§alÄ±ÅŸma zamanÄ± davranÄ±ÅŸÄ±nÄ± etkileyebilirsiniz.
{% endhint %}

* [ ] YÃ¶nlendirmeler iÃ§in **ifadeleri** ve **gereksinimleri** kontrol edin.
* Ä°lginÃ§ bilgiler iÃ§eren **duyarlÄ± gizli uÃ§ noktalarÄ±** iÃ§in de kontrol edin.

## Bildirimler

* [ ] **Bildirimleri** kontrol edin. Bu bildirimler gÃ¼venlik iÃ§in Ã¶nerilir:
* `KullanÄ±ma DayalÄ± FaturalandÄ±rma`
* `HTTP DDoS SaldÄ±rÄ± UyarÄ±sÄ±`
* `Katman 3/4 DDoS SaldÄ±rÄ± UyarÄ±sÄ±`
* `GeliÅŸmiÅŸ HTTP DDoS SaldÄ±rÄ± UyarÄ±sÄ±`
* `GeliÅŸmiÅŸ Katman 3/4 DDoS SaldÄ±rÄ± UyarÄ±sÄ±`
* `AkÄ±ÅŸ TabanlÄ± Ä°zleme: Hacimsel SaldÄ±rÄ±`
* `Rota SÄ±zÄ±ntÄ±sÄ± AlgÄ±lama UyarÄ±sÄ±`
* `EriÅŸim mTLS Sertifika SÃ¼resi UyarÄ±sÄ±`
* `SSL iÃ§in SaaS Ã–zel Ana Bilgisayar AdÄ± UyarÄ±sÄ±`
* `Evrensel SSL UyarÄ±sÄ±`
* `Komut Ä°zleyici Yeni Kod DeÄŸiÅŸikliÄŸi AlgÄ±lama UyarÄ±sÄ±`
* `Komut Ä°zleyici Yeni Alan AdÄ± UyarÄ±sÄ±`
* `Komut Ä°zleyici Yeni ZararlÄ± Alan AdÄ± UyarÄ±sÄ±`
* `Komut Ä°zleyici Yeni ZararlÄ± Komut UyarÄ±sÄ±`
* `Komut Ä°zleyici Yeni ZararlÄ± URL UyarÄ±sÄ±`
* `Komut Ä°zleyici Yeni Komutlar UyarÄ±sÄ±`
* `Komut Ä°zleyici Yeni Komut Maksimum URL UzunluÄŸunu AÅŸÄ±yor UyarÄ±sÄ±`
* `GeliÅŸmiÅŸ GÃ¼venlik OlaylarÄ± UyarÄ±sÄ±`
* `GÃ¼venlik OlaylarÄ± UyarÄ±sÄ±`
* [ ] TÃ¼m **hedefleri** kontrol edin, Ã§Ã¼nkÃ¼ webhook URL'lerinde **duyarlÄ± bilgiler** (temel http kimlik doÄŸrulamasÄ±) olabilir. AyrÄ±ca webhook URL'lerinin **HTTPS** kullandÄ±ÄŸÄ±ndan emin olun
* [ ] Ek bir kontrol olarak, bir **cloudflare bildirimini** Ã¼Ã§Ã¼ncÃ¼ bir tarafa **taklit etmeyi** deneyebilirsiniz, belki bir ÅŸekilde **tehlikeli bir ÅŸey enjekte edebilirsiniz**

## HesabÄ± YÃ¶net

* [ ] **`FaturalandÄ±rma` -> `Ã–deme bilgileri`** bÃ¶lÃ¼mÃ¼nde **kredi kartÄ±nÄ±n son 4 rakamÄ±nÄ±**, **son kullanma tarihini** ve **fatura adresini** gÃ¶rebilirsiniz.
* [ ] Hesapta kullanÄ±lan **plan tÃ¼rÃ¼nÃ¼** **`FaturalandÄ±rma` -> `Abonelikler`** bÃ¶lÃ¼mÃ¼nde gÃ¶rebilirsiniz.
* **`Ãœyeler`** bÃ¶lÃ¼mÃ¼nde hesabÄ±n tÃ¼m Ã¼yelerini ve **rollerini** gÃ¶rebilirsiniz. Plan tÃ¼rÃ¼ Enterprise deÄŸilse, yalnÄ±zca 2 rol bulunur: YÃ¶netici ve SÃ¼per YÃ¶netici. Ancak kullanÄ±lan **plan Enterprise ise**, [**daha fazla rol**](https://developers.cloudflare.com/fundamentals/account-and-billing/account-setup/account-roles/) en az ayrÄ±calÄ±k ilkesini takip etmek iÃ§in kullanÄ±labilir.
* Bu nedenle, mÃ¼mkÃ¼n olduÄŸunda **Enterprise planÄ±nÄ±** kullanmanÄ±z **tavsiye edilir**.
* Ãœyelerde hangi **Ã¼yelerin 2FA'yÄ± etkinleÅŸtirdiÄŸini** kontrol edebilirsiniz. **Her** kullanÄ±cÄ±nÄ±n bunu etkinleÅŸtirmesi gerekmektedir.

{% hint style="info" %}
Neyse ki **`YÃ¶netici`** rolÃ¼ varsayÄ±lan olarak Ã¼yelikleri yÃ¶netme izni vermez (**aÅŸama haklarÄ±nÄ± yÃ¼kseltemez veya yeni Ã¼yeleri davet edemez**)
{% endhint %}
## DDoS Ä°ncelemesi

[Åu bÃ¶lÃ¼me bakÄ±n](cloudflare-domains.md#cloudflare-ddos-protection).

<details>

<summary><strong>SÄ±fÄ±rdan kahraman olmak iÃ§in AWS hackleme Ã¶ÄŸrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

HackTricks'Ä± desteklemenin diÄŸer yollarÄ±:

* **Åirketinizi HackTricks'te reklamÄ±nÄ± gÃ¶rmek istiyorsanÄ±z** veya **HackTricks'i PDF olarak indirmek istiyorsanÄ±z** [**ABONELÄ°K PLANLARI**]'na(https://github.com/sponsors/carlospolop) gÃ¶z atÄ±n!
* [**Resmi PEASS & HackTricks Ã¼rÃ¼nlerini**](https://peass.creator-spring.com) edinin
* [**The PEASS Family**](https://opensea.io/collection/the-peass-family)'yi keÅŸfedin, Ã¶zel [**NFT'lerimiz**](https://opensea.io/collection/the-peass-family) koleksiyonumuz
* **KatÄ±lÄ±n** ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya bizi **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'da takip edin.**
* **Hacking pÃ¼f noktalarÄ±nÄ±zÄ± paylaÅŸarak PR'lar gÃ¶ndererek HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarÄ±na katkÄ±da bulunun.

</details>
