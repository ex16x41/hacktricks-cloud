# Cloudflare ë„ë©”ì¸

<details>

{% hint style="success" %}
AWS í•´í‚¹ í•™ìŠµ ë° ì‹¤ìŠµ:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP í•´í‚¹ í•™ìŠµ ë° ì‹¤ìŠµ: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›</summary>

* [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop)ë¥¼ í™•ì¸í•˜ì„¸ìš”!
* ğŸ’¬ [**ë””ìŠ¤ì½”ë“œ ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **íŠ¸ìœ„í„°** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) ê¹ƒí—™ ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ ìš”ë ¹ì„ ê³µìœ í•˜ì„¸ìš”.

</details>
{% endhint %}

Cloudflareì— êµ¬ì„±ëœ ê° TLDì—ëŠ” êµ¬ì„±í•  ìˆ˜ ìˆëŠ” **ì¼ë°˜ ì„¤ì • ë° ì„œë¹„ìŠ¤**ê°€ ìˆìŠµë‹ˆë‹¤. ì´ í˜ì´ì§€ì—ì„œëŠ” ê° ì„¹ì…˜ì˜ **ë³´ì•ˆ ê´€ë ¨ ì„¤ì •ì„ ë¶„ì„**í•  ê²ƒì…ë‹ˆë‹¤.

<figure><img src="../../.gitbook/assets/image (101).png" alt=""><figcaption></figcaption></figure>

## ê°œìš”

* [ ] ê³„ì •ì˜ ì„œë¹„ìŠ¤ **ì‚¬ìš©ëŸ‰ì„ íŒŒì•…**í•©ë‹ˆë‹¤.
* [ ] **ì¡´ ID** ë° **ê³„ì • ID**ë„ ì°¾ì•„ë´…ë‹ˆë‹¤.

## ë¶„ì„

* [ ] **`ë³´ì•ˆ`**ì—ì„œ **Rate limiting**ì´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

## DNS

* [ ] DNS **ë ˆì½”ë“œ**ì—ì„œ **í¥ë¯¸ë¡œìš´**(ë¯¼ê°í•œ?) ë°ì´í„°ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
* [ ] **ì´ë¦„**ì„ ê¸°ë°˜ìœ¼ë¡œ **ë¯¼ê°í•œ ì •ë³´**ë¥¼ í¬í•¨í•  ìˆ˜ ìˆëŠ” **í•˜ìœ„ ë„ë©”ì¸**ì„ í™•ì¸í•©ë‹ˆë‹¤(ì˜ˆ: admin173865324.domin.com).
* [ ] **í”„ë¡ì‹œë˜ì§€ ì•ŠëŠ”** ì›¹ í˜ì´ì§€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
* [ ] **í”„ë¡ì‹œëœ ì›¹ í˜ì´ì§€**ê°€ CNAME ë˜ëŠ” IP ì£¼ì†Œë¡œ **ì§ì ‘ ì•¡ì„¸ìŠ¤**í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
* [ ] **DNSSEC**ê°€ **í™œì„±í™”**ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
* [ ] ëª¨ë“  CNAMEì—ì„œ **CNAME Flattening**ì´ **ì‚¬ìš©**ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
* ì´ëŠ” **í•˜ìœ„ ë„ë©”ì¸ íƒˆì·¨ ì·¨ì•½ì ì„ ìˆ¨ê¸°ê³ ** ë¡œë“œ ì‹œê°„ì„ ê°œì„ í•˜ëŠ” ë° ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* [ ] ë„ë©”ì¸ì´ [**ìŠ¤í‘¸í•‘ ì·¨ì•½ì ì— ì·¨ì•½í•˜ì§€ ì•Šì€ì§€**](https://book.hacktricks.xyz/network-services-pentesting/pentesting-smtp#mail-spoofing) í™•ì¸í•©ë‹ˆë‹¤.

## **ì´ë©”ì¼**

TODO

## Spectrum

TODO

## SSL/TLS

### **ê°œìš”**

* [ ] **SSL/TLS ì•”í˜¸í™”**ëŠ” **Full** ë˜ëŠ” **Full (Strict)**ì´ì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ ì™¸ì˜ ê²½ìš° ì–¸ì  ê°€ëŠ” **í‰ë¬¸ íŠ¸ë˜í”½**ì„ ë³´ë‚¼ ê²ƒì…ë‹ˆë‹¤.
* [ ] **SSL/TLS ì¶”ì²œì**ê°€ í™œì„±í™”ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

### Edge Certificates

* [ ] **í•­ìƒ HTTPS ì‚¬ìš©**ì´ **í™œì„±í™”**ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
* [ ] **HTTP Strict Transport Security (HSTS)**ê°€ **í™œì„±í™”**ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
* [ ] **ìµœì†Œ TLS ë²„ì „**ì€ 1.2ì—¬ì•¼ í•©ë‹ˆë‹¤.
* [ ] **TLS 1.3**ì´ í™œì„±í™”ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
* [ ] **ìë™ HTTPS Rewrites**ê°€ **í™œì„±í™”**ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
* [ ] **ì¸ì¦ì„œ íˆ¬ëª…ì„± ëª¨ë‹ˆí„°ë§**ì´ **í™œì„±í™”**ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

## **ë³´ì•ˆ**

* [ ] **`WAF`** ì„¹ì…˜ì—ì„œ **ë°©í™”ë²½** ë° **Rate limiting ê·œì¹™**ì´ ì•…ìš©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ í¥ë¯¸ë¡œìš¸ ê²ƒì…ë‹ˆë‹¤.
* **`Bypass`** ì‘ì—…ì€ ìš”ì²­ì— ëŒ€í•´ **Cloudflare ë³´ì•ˆ ê¸°ëŠ¥ì„ ë¹„í™œì„±í™”**í•©ë‹ˆë‹¤. ì‚¬ìš©í•´ì„œëŠ” ì•ˆ ë©ë‹ˆë‹¤.
* [ ] **`Page Shield`** ì„¹ì…˜ì—ì„œ ì‚¬ìš© ì¤‘ì¸ í˜ì´ì§€ê°€ ìˆìœ¼ë©´ **í™œì„±í™”**ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
* [ ] **`API Shield`** ì„¹ì…˜ì—ì„œ ë…¸ì¶œëœ APIê°€ ìˆëŠ” ê²½ìš° **í™œì„±í™”**ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
* [ ] **`DDoS`** ì„¹ì…˜ì—ì„œ **DDoS ë³´í˜¸**ë¥¼ í™œì„±í™”í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
* [ ] **`Settings`** ì„¹ì…˜ì—ì„œ:
* [ ] **`ë³´ì•ˆ ìˆ˜ì¤€`**ì´ **ì¤‘ê°„** ì´ìƒì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.
* [ ] **`Challenge Passage`**ê°€ ìµœëŒ€ 1ì‹œê°„ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.
* [ ] **`Browser Integrity Check`**ê°€ **í™œì„±í™”**ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
* [ ] **`Privacy Pass Support`**ê°€ **í™œì„±í™”**ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

### **CloudFlare DDoS ë³´í˜¸**

* ê°€ëŠ¥í•˜ë‹¤ë©´ **Bot Fight Mode** ë˜ëŠ” **Super Bot Fight Mode**ë¥¼ í™œì„±í™”í•˜ì„¸ìš”. JS í”„ë¡ íŠ¸ ì—”ë“œ í˜ì´ì§€ì—ì„œ í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ ì•¡ì„¸ìŠ¤í•˜ëŠ” APIë¥¼ ë³´í˜¸í•˜ëŠ” ê²½ìš° ì´ë¥¼ í™œì„±í™”í•˜ì§€ ì•Šê³ ëŠ” í•´ë‹¹ ì•¡ì„¸ìŠ¤ë¥¼ ì¤‘ë‹¨í•  ìˆ˜ ì—†ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
* **WAF**ì—ì„œ: URL ê²½ë¡œë³„ë¡œ **Rate limits**ë¥¼ ìƒì„±í•˜ê±°ë‚˜ **í™•ì¸ëœ ë´‡**ì— ëŒ€í•œ Rate limitsë¥¼ ìƒì„±í•˜ê±°ë‚˜ IP, Cookie, referrerë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì•¡ì„¸ìŠ¤ë¥¼ ì°¨ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤). ì›¹ í˜ì´ì§€ì—ì„œ ì˜¤ì§€ ì•Šì€ ìš”ì²­ì´ë‚˜ ì¿ í‚¤ê°€ ì—†ëŠ” ìš”ì²­ì„ ì°¨ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* ê³µê²©ì´ **í™•ì¸ëœ ë´‡**ì—ì„œ ë°œìƒí•˜ëŠ” ê²½ìš°, ì ì–´ë„ ë´‡ì— ëŒ€í•œ **Rate limit**ì„ ì¶”ê°€í•˜ì„¸ìš”.
* íŠ¹ì • ê²½ë¡œë¡œì˜ ê³µê²©ì¸ ê²½ìš°, ì˜ˆë°© ë©”ì»¤ë‹ˆì¦˜ìœ¼ë¡œ ì´ ê²½ë¡œì— **Rate limit**ì„ ì¶”ê°€í•˜ì„¸ìš”.
* **ë„êµ¬**ì—ì„œ IP ì£¼ì†Œ, IP ë²”ìœ„, êµ­ê°€ ë˜ëŠ” ASNsë¥¼ **í—ˆìš© ëª©ë¡**ì— ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **ê´€ë¦¬ë˜ëŠ” ê·œì¹™**ì´ ì·¨ì•½ì  ì•…ìš©ì„ ë°©ì§€í•˜ëŠ” ë° ë„ì›€ì´ ë  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.
* **ë„êµ¬** ì„¹ì…˜ì—ì„œ íŠ¹ì • IP ì£¼ì†Œ ë° **ì‚¬ìš©ì ì—ì´ì „íŠ¸ì— ëŒ€í•´ ì°¨ë‹¨**í•˜ê±°ë‚˜ ë„ì „ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* DDoSì—ì„œ **ì¼ë¶€ ê·œì¹™ì„ ë” ì œí•œì ìœ¼ë¡œ ì„¤ì •**í•˜ë„ë¡ ì¬ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **ì„¤ì •**: **ë³´ì•ˆ ìˆ˜ì¤€**ì„ **ë†’ê²Œ** ì„¤ì •í•˜ê³  **ê³µê²©ì„ ë°›ê³  ìˆë‹¤ë©´** **Under Attack**ë¡œ ì„¤ì •í•˜ê³  **Browser Integrity Checkê°€ í™œì„±í™”**ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.
* Cloudflare ë„ë©”ì¸ -> ë¶„ì„ -> ë³´ì•ˆ -> **Rate limit**ì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.
* Cloudflare ë„ë©”ì¸ -> ë³´ì•ˆ -> ì´ë²¤íŠ¸ -> **ê°ì§€ëœ ì•…ì„± ì´ë²¤íŠ¸**ë¥¼ í™•ì¸í•˜ì„¸ìš”.

## ì•¡ì„¸ìŠ¤

{% content-ref url="cloudflare-zero-trust-network.md" %}
[cloudflare-zero-trust-network.md](cloudflare-zero-trust-network.md)
{% endcontent-ref %}

## ì†ë„

_ë³´ì•ˆê³¼ ê´€ë ¨ëœ ì˜µì…˜ì„ ì°¾ì„ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤_

## ìºì‹±

* [ ] **`êµ¬ì„±`** ì„¹ì…˜ì—ì„œ **CSAM ìŠ¤ìº” ë„êµ¬**ë¥¼ í™œì„±í™”í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³´ì„¸ìš”.

## **ì›Œì»¤ ë¼ìš°íŠ¸**

_ì´ë¯¸_ [_cloudflare workers_](./#workers)ë¥¼ í™•ì¸í–ˆì–´ì•¼ í•©ë‹ˆë‹¤.

## ê·œì¹™

TODO

## ë„¤íŠ¸ì›Œí¬

* [ ] **`HTTP/2`**ê°€ **í™œì„±í™”**ë˜ì–´ ìˆë‹¤ë©´ **`HTTP/2 to Origin`**ë„ **í™œì„±í™”**ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
* [ ] **`HTTP/3 (with QUIC)`**ê°€ **í™œì„±í™”**ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
* ì‚¬ìš©ìì˜ **ê°œì¸ ì •ë³´**ê°€ ì¤‘ìš”í•œ ê²½ìš° **`Onion Routing`**ì´ **í™œì„±í™”**ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.

## **íŠ¸ë˜í”½**

TODO

## ì‚¬ìš©ì ì •ì˜ í˜ì´ì§€

* [ ] ë³´ì•ˆê³¼ ê´€ë ¨ëœ ì˜¤ë¥˜ê°€ ë°œìƒí•  ë•Œ ì‚¬ìš©ì ì •ì˜ í˜ì´ì§€ë¥¼ êµ¬ì„±í•˜ëŠ” ê²ƒì´ ì„ íƒ ì‚¬í•­ì…ë‹ˆë‹¤(ì°¨ë‹¨, Rate limiting ë˜ëŠ” ê³µê²© ë°›ê³  ìˆëŠ” ëª¨ë“œì™€ ê´€ë ¨ëœ ì˜¤ë¥˜).
## ì•±

í•  ì¼

## ìŠ¤í¬ë ˆì´í”„ ì‰´ë“œ

* [ ] **ì´ë©”ì¼ ì£¼ì†Œ ìˆ¨ê¹€**ì´ **í™œì„±í™”**ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
* [ ] **ì„œë²„ ì¸¡ ì œì™¸**ê°€ **í™œì„±í™”**ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

## **Zaraz**

í•  ì¼

## **Web3**

í•  ì¼

<details>

{% hint style="success" %}
AWS í•´í‚¹ í•™ìŠµ ë° ì‹¤ìŠµ:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP í•´í‚¹ í•™ìŠµ ë° ì‹¤ìŠµ: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›</summary>

* [**êµ¬ë… ìš”ê¸ˆì œ**](https://github.com/sponsors/carlospolop) í™•ì¸!
* ğŸ’¬ [**ë””ìŠ¤ì½”ë“œ ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**í…”ë ˆê·¸ë¨ ê·¸ë£¹**](https://t.me/peass)ì— **ì°¸ì—¬**í•˜ê±°ë‚˜ **íŠ¸ìœ„í„°** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ë¥¼ íŒ”ë¡œìš°**í•˜ì„¸ìš”.
* í•´í‚¹ ìš”ë ¹ì„ ê³µìœ í•˜ë ¤ë©´ [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œì— PRì„ ì œì¶œí•˜ì„¸ìš”.

</details>
{% endhint %}
