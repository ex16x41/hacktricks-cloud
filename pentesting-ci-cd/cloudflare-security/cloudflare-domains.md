# Cloudflare Alan Adları

{% hint style="success" %}
AWS Hacking öğrenin ve pratik yapın:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking öğrenin ve pratik yapın: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın ya da **Twitter**'da **bizi takip edin** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuçlarını paylaşmak için** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gönderin.

</details>
{% endhint %}

Cloudflare'da yapılandırılmış her TLD'de bazı **genel ayarlar ve hizmetler** yapılandırılabilir. Bu sayfada her bölümün **güvenlikle ilgili ayarlarını analiz edeceğiz:**

<figure><img src="../../.gitbook/assets/image (101).png" alt=""><figcaption></figcaption></figure>

### Genel Bakış

* [ ] Hesabın **hizmetlerinin ne kadarının** **kullanıldığını** anlamak
* [ ] Ayrıca **zone ID** ve **account ID** bulmak

### Analitik

* [ ] **`Güvenlik`** bölümünde herhangi bir **Hız sınırlaması** olup olmadığını kontrol edin

### DNS

* [ ] DNS **kayıtlarında** **ilginç** (hassas?) verileri kontrol edin
* [ ] **İsim** (örneğin admin173865324.domin.com) temelinde **hassas bilgi** içerebilecek **alt alan adlarını** kontrol edin
* [ ] **Proxylenmemiş** web sayfalarını kontrol edin
* [ ] CNAME veya IP adresi ile **doğrudan erişilebilen** **proxylenmiş web sayfalarını** kontrol edin
* [ ] **DNSSEC**'in **etkin** olduğunu kontrol edin
* [ ] **Tüm CNAME'lerde** **CNAME Düzleştirme**'nin **kullanıldığını** kontrol edin
* Bu, **alt alan adı ele geçirme açıklarını gizlemek** ve yükleme sürelerini iyileştirmek için faydalı olabilir
* Alan adlarının [**sahtecilik için savunmasız olmadığını**](https://book.hacktricks.xyz/network-services-pentesting/pentesting-smtp#mail-spoofing) kontrol edin

### **E-posta**

TODO

### Spektrum

TODO

### SSL/TLS

#### **Genel Bakış**

* [ ] **SSL/TLS şifrelemesi** **Tam** veya **Tam (Sıkı)** olmalıdır. Diğer herhangi bir seçenek, bir noktada **düz metin trafiği** gönderecektir.
* [ ] **SSL/TLS Önerici** etkin olmalıdır

#### Kenar Sertifikaları

* [ ] **Her Zaman HTTPS Kullan** etkin olmalıdır
* [ ] **HTTP Sıkı Taşıma Güvenliği (HSTS)** etkin olmalıdır
* [ ] **Minimum TLS Versiyonu 1.2 olmalıdır**
* [ ] **TLS 1.3 etkin olmalıdır**
* [ ] **Otomatik HTTPS Yeniden Yazmaları** etkin olmalıdır
* [ ] **Sertifika Şeffaflığı İzleme** etkin olmalıdır

### **Güvenlik**

* [ ] **`WAF`** bölümünde, **Firewall** ve **hız sınırlama kurallarının kullanıldığını** kontrol etmek ilginçtir.
* **`Bypass`** eylemi, bir isteğe yönelik **Cloudflare güvenlik** özelliklerini **devre dışı bırakır**. Kullanılmamalıdır.
* [ ] **`Sayfa Kalkanı`** bölümünde, herhangi bir sayfa kullanılıyorsa **etkin** olduğunu kontrol etmek önerilir
* [ ] **`API Kalkanı`** bölümünde, Cloudflare'da herhangi bir API açığa çıkmışsa **etkin** olduğunu kontrol etmek önerilir
* [ ] **`DDoS`** bölümünde **DDoS korumalarının** etkinleştirilmesi önerilir
* [ ] **`Ayarlar`** bölümünde:
* [ ] **`Güvenlik Seviyesi`**'nin **orta** veya daha yüksek olduğunu kontrol edin
* [ ] **`Challenge Passage`**'nin en fazla 1 saat olduğunu kontrol edin
* [ ] **`Tarayıcı Bütünlüğü Kontrolü`**'nün **etkin** olduğunu kontrol edin
* [ ] **`Gizlilik Pass Desteği`**'nin **etkin** olduğunu kontrol edin

#### **CloudFlare DDoS Koruması**

* Eğer mümkünse, **Bot Savaş Modu** veya **Süper Bot Savaş Modu**'nu etkinleştirin. Eğer programatik olarak erişilen bir API'yi koruyorsanız (örneğin bir JS ön yüz sayfasından). Bu erişimi bozmadığınız sürece bunu etkinleştiremeyebilirsiniz.
* **WAF**'da: **URL yolu** veya **doğrulanmış botlar** için **hız sınırlamaları** oluşturabilirsiniz (Hız sınırlama kuralları), veya IP, Çerez, yönlendiren vb. temelinde **erişimi engelleyebilirsiniz**. Böylece bir web sayfasından gelmeyen veya bir çerezi olmayan istekleri engelleyebilirsiniz.
* Eğer saldırı **doğrulanmış bir bot** tarafından geliyorsa, en azından **botlar için bir hız sınırlaması** ekleyin.
* Eğer saldırı **belirli bir yola** ise, önleme mekanizması olarak bu yolda bir **hız sınırlaması** ekleyin.
* **WAF**'daki **Araçlar** bölümünden IP adreslerini, IP aralıklarını, ülkeleri veya ASN'leri **beyaz listeye alabilirsiniz**.
* **Yönetilen kuralların** da zafiyet istismarlarını önlemeye yardımcı olup olmadığını kontrol edin.
* **Araçlar** bölümünde belirli IP'lere ve **kullanıcı ajanlarına** **engelleme veya zorlama** yapabilirsiniz.
* DDoS'da bazı kuralları **daha kısıtlayıcı hale getirmek için geçersiz kılabilirsiniz**.
* **Ayarlar**: **Güvenlik Seviyesi**'ni **Yüksek** ve **Saldırı Altında** olarak ayarlayın eğer Saldırı Altındaysanız ve **Tarayıcı Bütünlüğü Kontrolü etkinse**.
* Cloudflare Alan Adları -> Analitik -> Güvenlik -> **hız sınırlamasının** etkin olup olmadığını kontrol edin
* Cloudflare Alan Adları -> Güvenlik -> Olaylar -> **tespit edilen kötü niyetli Olaylar** için kontrol edin

### Erişim

{% content-ref url="cloudflare-zero-trust-network.md" %}
[cloudflare-zero-trust-network.md](cloudflare-zero-trust-network.md)
{% endcontent-ref %}

### Hız

_Güvenlikle ilgili herhangi bir seçenek bulamadım_

### Önbellekleme

* [ ] **`Yapılandırma`** bölümünde **CSAM Tarama Aracı**'nı etkinleştirmeyi düşünün

### **Workers Yolları**

_Zaten_ [_cloudflare workers_](./#workers) _kontrol etmiş olmalısınız_

### Kurallar

TODO

### Ağ

* [ ] Eğer **`HTTP/2`** **etkinse**, **`HTTP/2 to Origin`** de **etkin olmalıdır**
* [ ] **`HTTP/3 (QUIC ile)`** **etkin olmalıdır**
* [ ] Eğer **kullanıcılarınızın** **gizliliği** önemliyse, **`Onion Routing`**'in **etkin** olduğundan emin olun

### **Trafik**

TODO

### Özel Sayfalar

* [ ] Güvenlikle ilgili bir hata tetiklendiğinde (örneğin bir engelleme, hız sınırlaması veya saldırı altındayım modu) özel sayfaları yapılandırmak isteğe bağlıdır

### Uygulamalar

TODO

### Scrape Shield

* [ ] **E-posta Adresi Gizleme**'nin **etkin** olduğunu kontrol edin
* [ ] **Sunucu tarafı Hariç Tutmalar**'ın **etkin** olduğunu kontrol edin

### **Zaraz**

TODO

### **Web3**

TODO

{% hint style="success" %}
AWS Hacking öğrenin ve pratik yapın:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCP Hacking öğrenin ve pratik yapın: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarını**](https://github.com/sponsors/carlospolop) kontrol edin!
* **💬 [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katılın ya da **Twitter**'da **bizi takip edin** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Hacking ipuçlarını paylaşmak için** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gönderin.

</details>
{% endhint %}
