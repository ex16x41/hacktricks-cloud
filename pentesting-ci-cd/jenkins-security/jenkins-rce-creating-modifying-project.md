# Jenkins RCE Creating/Modifying Project

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Creating a Project

ì´ ë°©ë²•ì€ ë§¤ìš° ì‹œë„ëŸ½ìŠµë‹ˆë‹¤. ì™œëƒí•˜ë©´ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤ (ë‹¹ì—°íˆ ì‚¬ìš©ìê°€ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ìˆì–´ì•¼ë§Œ ì‘ë™í•©ë‹ˆë‹¤).

1. **ìƒˆë¡œìš´ í”„ë¡œì íŠ¸** (Freestyle project)ë¥¼ ë§Œë“¤ë ¤ë©´ "New Item"ì„ í´ë¦­í•˜ê±°ë‚˜ `/view/all/newJob`ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.
2. **Build** ì„¹ì…˜ì—ì„œ **Execute shell**ì„ ì„¤ì •í•˜ê³  powershell Empire launcher ë˜ëŠ” meterpreter powershellì„ ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤ (unicornì„ ì‚¬ìš©í•˜ì—¬ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤). _PowerShell.exe_ ëŒ€ì‹  _powershell_ì„ ì‚¬ìš©í•˜ì—¬ í˜ì´ë¡œë“œë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.
3. **Build now**ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.
1. **Build now** ë²„íŠ¼ì´ ë‚˜íƒ€ë‚˜ì§€ ì•Šìœ¼ë©´, **configure** --> **Build Triggers** --> `Build periodically`ë¡œ ì´ë™í•˜ì—¬ `* * * * *`ì˜ í¬ë¡ ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
2. í¬ë¡ ì„ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹ , "**Trigger builds remotely**" ì„¤ì •ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ì—¬ê¸°ì„œ ì‘ì—…ì„ íŠ¸ë¦¬ê±°í•  API í† í° ì´ë¦„ì„ ì„¤ì •í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì‚¬ìš©ì í”„ë¡œí•„ë¡œ ì´ë™í•˜ì—¬ **API í† í°ì„ ìƒì„±**í•©ë‹ˆë‹¤ (ì´ API í† í°ì„ ì‘ì—…ì„ íŠ¸ë¦¬ê±°í•  API í† í° ì´ë¦„ìœ¼ë¡œ í˜¸ì¶œí•©ë‹ˆë‹¤). ë§ˆì§€ë§‰ìœ¼ë¡œ, ë‹¤ìŒê³¼ ê°™ì´ ì‘ì—…ì„ íŠ¸ë¦¬ê±°í•©ë‹ˆë‹¤: **`curl <username>:<api_token>@<jenkins_url>/job/<job_name>/build?token=<api_token_name>`**

![](<../../.gitbook/assets/image (165).png>)

## Modifying a Project

í”„ë¡œì íŠ¸ë¡œ ì´ë™í•˜ì—¬ **êµ¬ì„±í•  ìˆ˜ ìˆëŠ”ì§€** í™•ì¸í•©ë‹ˆë‹¤ ( "Configure" ë²„íŠ¼ì„ ì°¾ìŠµë‹ˆë‹¤):

![](<../../.gitbook/assets/image (265).png>)

**êµ¬ì„±** **ë²„íŠ¼**ì„ ë³¼ ìˆ˜ ì—†ë‹¤ë©´, ì•„ë§ˆë„ **êµ¬ì„±í•  ìˆ˜ ì—†ì„** ê²ƒì…ë‹ˆë‹¤ (í•˜ì§€ë§Œ ëª¨ë“  í”„ë¡œì íŠ¸ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”. ì¼ë¶€ëŠ” êµ¬ì„±í•  ìˆ˜ ìˆê³ , ì¼ë¶€ëŠ” ê·¸ë ‡ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤).

ë˜ëŠ” ê° í”„ë¡œì íŠ¸ì—ì„œ **ê²½ë¡œì— ì ‘ê·¼í•´ë³´ì„¸ìš”** `/job/<proj-name>/configure` ë˜ëŠ” `/me/my-views/view/all/job/<proj-name>/configure` (ì˜ˆ: `/job/Project0/configure` ë˜ëŠ” `/me/my-views/view/all/job/Project0/configure`).

## Execution

í”„ë¡œì íŠ¸ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì´ ìˆë‹¤ë©´ **ë¹Œë“œê°€ ì„±ê³µí•  ë•Œ ëª…ë ¹ì„ ì‹¤í–‰í•˜ë„ë¡** ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

![](<../../.gitbook/assets/image (98).png>)

**ì €ì¥**ì„ í´ë¦­í•˜ê³  í”„ë¡œì íŠ¸ë¥¼ **ë¹Œë“œ**í•˜ë©´ **ëª…ë ¹ì´ ì‹¤í–‰**ë©ë‹ˆë‹¤.\
ë¦¬ë²„ìŠ¤ ì‰˜ì„ ì‹¤í–‰í•˜ì§€ ì•Šê³  ë‹¨ìˆœí•œ ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” ê²½ìš°, **ë¹Œë“œ ì¶œë ¥ ë‚´ì—ì„œ ëª…ë ¹ì˜ ì¶œë ¥ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤**.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
