# Jenkins RCE Creating/Modifying Project

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ

ã“ã®æ–¹æ³•ã¯éå¸¸ã«ãƒã‚¤ã‚ºãŒå¤šã„ã§ã™ã€‚ãªãœãªã‚‰ã€æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ï¼ˆå½“ç„¶ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹æ¨©é™ãŒã‚ã‚‹å ´åˆã«ã®ã¿æ©Ÿèƒ½ã—ã¾ã™ï¼‰ã€‚

1. **æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**ï¼ˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰ã‚’ä½œæˆã™ã‚‹ã«ã¯ã€ã€ŒNew Itemã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã‹ã€`/view/all/newJob`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚
2. **Build**ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã§**Execute shell**ã‚’è¨­å®šã—ã€powershell Empireãƒ©ãƒ³ãƒãƒ£ãƒ¼ã¾ãŸã¯meterpreter powershellã‚’è²¼ã‚Šä»˜ã‘ã¾ã™ï¼ˆ_unicorn_ã‚’ä½¿ç”¨ã—ã¦å–å¾—ã§ãã¾ã™ï¼‰ã€‚_PowerShell.exe_ã‚’ä½¿ç”¨ã—ã¦ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã—ã€_powershell_ã‚’ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€‚
3. **Build now**ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚
1. **Build now**ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆã¯ã€**configure** --> **Build Triggers** --> `Build periodically`ã«ç§»å‹•ã—ã€`* * * * *`ã®cronã‚’è¨­å®šã§ãã¾ã™ã€‚
2. cronã‚’ä½¿ç”¨ã™ã‚‹ä»£ã‚ã‚Šã«ã€configã®ã€Œ**Trigger builds remotely**ã€ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ã“ã®å ´åˆã€ã‚¸ãƒ§ãƒ–ã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ãŸã‚ã®APIãƒˆãƒ¼ã‚¯ãƒ³åã‚’è¨­å®šã™ã‚‹ã ã‘ã§ã™ã€‚ãã®å¾Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã«ç§»å‹•ã—ã€**APIãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç”Ÿæˆ**ã—ã¾ã™ï¼ˆã“ã®APIãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚¸ãƒ§ãƒ–ã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ãŸã‚ã®APIãƒˆãƒ¼ã‚¯ãƒ³ã¨åŒã˜åå‰ã«ã—ã¾ã™ï¼‰ã€‚æœ€å¾Œã«ã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¸ãƒ§ãƒ–ã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¾ã™ï¼š**`curl <username>:<api_token>@<jenkins_url>/job/<job_name>/build?token=<api_token_name>`**

![](<../../.gitbook/assets/image (165).png>)

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å¤‰æ›´

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ç§»å‹•ã—ã€**ã©ã‚Œã‹ã‚’æ§‹æˆã§ãã‚‹ã‹**ç¢ºèªã—ã¾ã™ï¼ˆã€ŒConfigureãƒœã‚¿ãƒ³ã€ã‚’æ¢ã—ã¾ã™ï¼‰ï¼š

![](<../../.gitbook/assets/image (265).png>)

**æ§‹æˆãƒœã‚¿ãƒ³**ãŒè¦‹ãˆãªã„å ´åˆã¯ã€ãŠãã‚‰ã**æ§‹æˆã§ãã¾ã›ã‚“**ï¼ˆãŸã ã—ã€ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚ä¸€éƒ¨ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯æ§‹æˆã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼‰ã€‚

ã¾ãŸã¯ã€å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‘ã‚¹`/job/<proj-name>/configure`ã¾ãŸã¯`/me/my-views/view/all/job/<proj-name>/configure`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¦ãã ã•ã„ï¼ˆä¾‹ï¼š`/job/Project0/configure`ã¾ãŸã¯`/me/my-views/view/all/job/Project0/configure`ï¼‰ã€‚

## å®Ÿè¡Œ

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹æˆã™ã‚‹æ¨©é™ãŒã‚ã‚‹å ´åˆã€**ãƒ“ãƒ«ãƒ‰ãŒæˆåŠŸã—ãŸã¨ãã«ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«è¨­å®š**ã§ãã¾ã™ï¼š

![](<../../.gitbook/assets/image (98).png>)

**Save**ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’**ãƒ“ãƒ«ãƒ‰**ã™ã‚‹ã¨ã€**ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã¾ã™**ã€‚\
ãƒªãƒãƒ¼ã‚¹ã‚·ã‚§ãƒ«ã§ã¯ãªãå˜ç´”ãªã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹å ´åˆã€**ãƒ“ãƒ«ãƒ‰ã®å‡ºåŠ›å†…ã§ã‚³ãƒãƒ³ãƒ‰ã®å‡ºåŠ›ã‚’ç¢ºèª**ã§ãã¾ã™ã€‚

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
