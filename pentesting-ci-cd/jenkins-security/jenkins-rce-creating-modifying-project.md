# Jenkins RCE Creando/Modificando Proyecto

{% hint style="success" %}
Aprende y practica Hacking en AWS:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Aprende y practica Hacking en GCP: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoya a HackTricks</summary>

* Revisa los [**planes de suscripci贸n**](https://github.com/sponsors/carlospolop)!
* **nete al**  [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s铆guenos** en **Twitter**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Comparte trucos de hacking enviando PRs a los** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos de github.

</details>
{% endhint %}

## Creando un Proyecto

Este m茅todo es muy ruidoso porque tienes que crear un proyecto completamente nuevo (obviamente esto solo funcionar谩 si tu usuario tiene permiso para crear un nuevo proyecto).

1. **Crea un nuevo proyecto** (proyecto Freestyle) haciendo clic en "Nuevo Elemento" o en `/view/all/newJob`
2. Dentro de la secci贸n **Construir**, establece **Ejecutar shell** y pega un lanzador de powershell Empire o un powershell de meterpreter (se puede obtener usando _unicorn_). Inicia la carga 煤til con _PowerShell.exe_ en lugar de usar _powershell._
3. Haz clic en **Construir ahora**
1. Si el bot贸n **Construir ahora** no aparece, a煤n puedes ir a **configurar** --> **Disparadores de Construcci贸n** --> `Construir peri贸dicamente` y establecer un cron de `* * * * *`
2. En lugar de usar cron, puedes usar la configuraci贸n "**Disparar construcciones de forma remota**" donde solo necesitas establecer el nombre del token de API para disparar el trabajo. Luego ve a tu perfil de usuario y **genera un token de API** (llama a este token de API como llamaste al token de API para disparar el trabajo). Finalmente, dispara el trabajo con: **`curl <username>:<api_token>@<jenkins_url>/job/<job_name>/build?token=<api_token_name>`**

![](<../../.gitbook/assets/image (165).png>)

## Modificando un Proyecto

Ve a los proyectos y verifica **si puedes configurar alguno** de ellos (busca el "bot贸n de Configurar"):

![](<../../.gitbook/assets/image (265).png>)

Si **no puedes** ver ning煤n **bot贸n de configuraci贸n** entonces **no puedes** **configurarlo** probablemente (pero revisa todos los proyectos ya que podr铆as ser capaz de configurar algunos de ellos y no otros).

O **intenta acceder a la ruta** `/job/<proj-name>/configure` o `/me/my-views/view/all/job/<proj-name>/configure` \_\_ en cada proyecto (ejemplo: `/job/Project0/configure` o `/me/my-views/view/all/job/Project0/configure`).

## Ejecuci贸n

Si se te permite configurar el proyecto, puedes **hacer que ejecute comandos cuando una construcci贸n sea exitosa**:

![](<../../.gitbook/assets/image (98).png>)

Haz clic en **Guardar** y **construye** el proyecto y tu **comando ser谩 ejecutado**.\
Si no est谩s ejecutando un shell reverso, sino un comando simple, puedes **ver la salida del comando dentro de la salida de la construcci贸n**.

{% hint style="success" %}
Aprende y practica Hacking en AWS:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Aprende y practica Hacking en GCP: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoya a HackTricks</summary>

* Revisa los [**planes de suscripci贸n**](https://github.com/sponsors/carlospolop)!
* **nete al**  [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s铆guenos** en **Twitter**  [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Comparte trucos de hacking enviando PRs a los** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos de github.

</details>
{% endhint %}
