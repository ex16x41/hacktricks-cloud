# Gh Actions - Benutzerdefinierte Aktionen

{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtze HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teile Hacking-Tricks, indem du PRs zu den** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos einreichst.

</details>
{% endhint %}

## Was sind Benutzerdefinierte Aktionen?

Benutzerdefinierte Aktionen in GitHub Actions sind eine beliebte Option, die es Benutzern erm√∂glicht, wiederverwendbare Aufgaben zu kapseln und Workflows zu optimieren, √§hnlich wie Abh√§ngigkeiten in der Programmierung. Das Schl√ºsselwort `uses` wird verwendet, um verschiedene Aktionen zu importieren, w√§hrend das Schl√ºsselwort `with` Parameter an die benutzerdefinierte Aktion √ºbergibt.
```yaml
- uses: actions/custom-action@4
with:
token: ${{ github.token }}
```
Workflows k√∂nnen Informationen an benutzerdefinierte Aktionen √ºbergeben, die m√∂glicherweise benutzerkontrollierte Kontexte nutzen (siehe [verwandte Ressourcen](/pentesting-ci-cd/github-security/abusing-github-actions/gh-actions-context-script-injections.md)). Wenn Sie eine verwundbare Verwendung eines benutzerkontrollierten Kontexts innerhalb einer benutzerdefinierten Aktion identifizieren, untersuchen Sie alle Pipelines, die diese Aktion in ihrer Importkette enthalten, auf potenzielle Ausnutzung. Dieser Ansatz wurde in [diesem Blogbeitrag](https://cycode.com/blog/cycode-discovers-a-supply-chain-vulnerability-in-bazel/) hervorgehoben, der sich mit einer Schwachstelle im Google Bazel-Projekt befasst.

F√ºr weitere Informationen zu benutzerdefinierten Aktionen schauen Sie sich [GitHubs Dokumentation](https://docs.github.com/en/actions/sharing-automations/creating-actions/about-custom-actions#about-custom-actions) an.

## Typen von benutzerdefinierten Aktionen

Jeder Typ von benutzerdefinierter Aktion kann Shell-Code ausf√ºhren, indem Parameter aus dem Workflow √ºbergeben werden, was jeden Abh√§ngigkeitspunkt in einer Pipeline zu einem potenziellen Ausnutzungspunkt macht :)

### Komposite Aktionen

Komposite Aktionen kombinieren mehrere Workflow-Schritte in einer einzigen Aktion. Jeder Schritt kann Shell-Befehle aufrufen oder andere Aktionen anrufen.
```yaml
name: example
description: Example of a Composite Action
runs:
using: "composite"
steps:
- run: printenv
shell: bash
```
### Docker Actions

Docker Actions werden innerhalb eines Docker-Containers ausgef√ºhrt und k√∂nnen mit einem Dockerfile oder einem Image konfiguriert werden.
```yaml
name: example
description: Example of a Docker Action
runs:
using: docker
image: Dockerfile
env:
INPUT_NAME: ${{ inputs.name }}
INPUT_VERSION: ${{ inputs.version }}
```
### JavaScript-Aktionen

JavaScript-Aktionen sind √§hnlich wie Node.js-Programme, die Code ausf√ºhren und verschiedene Funktionen aufrufen, wobei das GitHub Actions Toolkit verwendet wird, um mit dem Workflow zu interagieren.
```yaml
name: example
description: Example of a JavaScript Action
runs:
using: "node16"
main: "dist/index.js"
```
{% hint style="success" %}
Lerne & √ºbe AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Lerne & √ºbe GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Unterst√ºtze HackTricks</summary>

* √úberpr√ºfe die [**Abonnementpl√§ne**](https://github.com/sponsors/carlospolop)!
* **Tritt der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folge** uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teile Hacking-Tricks, indem du PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repos einreichst.

</details>
{% endhint %}
