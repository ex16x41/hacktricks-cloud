# Gh Actions - Custom Actions

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¨ã¯ï¼Ÿ

GitHub Actionsã®ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€å†åˆ©ç”¨å¯èƒ½ãªã‚¿ã‚¹ã‚¯ã‚’ã‚«ãƒ—ã‚»ãƒ«åŒ–ã—ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ãŸã‚ã®äººæ°—ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ã€‚ã“ã‚Œã¯ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«ãŠã‘ã‚‹ä¾å­˜é–¢ä¿‚ã«ä¼¼ã¦ã„ã¾ã™ã€‚`uses`ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯ç•°ãªã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã€`with`ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ¸¡ã—ã¾ã™ã€‚
```yaml
- uses: actions/custom-action@4
with:
token: ${{ github.token }}
```
ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«æƒ…å ±ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¶å¾¡ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’åˆ©ç”¨ã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ï¼ˆ[é–¢é€£ãƒªã‚½ãƒ¼ã‚¹](https://pentesting-ci-cd/github-security/abusing-github-actions/gh-actions-context-script-injections.md)ã‚’å‚ç…§ï¼‰ã€‚ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å†…ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¶å¾¡ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®è„†å¼±ãªä½¿ç”¨ã‚’ç‰¹å®šã—ãŸå ´åˆã€ã“ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒã‚§ãƒ¼ãƒ³ã«å«ã‚€ã™ã¹ã¦ã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’èª¿æŸ»ã—ã¦æ½œåœ¨çš„ãªæ‚ªç”¨ã‚’æ¢ã‚Šã¾ã™ã€‚ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã€Googleã®Bazelãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§è¦‹ã¤ã‹ã£ãŸè„†å¼±æ€§ã«é–¢ã™ã‚‹[ã“ã®ãƒ–ãƒ­ã‚°è¨˜äº‹](https://cycode.com/blog/cycode-discovers-a-supply-chain-vulnerability-in-bazel/)ã§å¼·èª¿ã•ã‚Œã¾ã—ãŸã€‚

ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«é–¢ã™ã‚‹è©³ç´°ã¯ã€[Githubã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.github.com/en/actions/sharing-automations/creating-actions/about-custom-actions#about-custom-actions)ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚

## ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ç¨®é¡

å„ã‚¿ã‚¤ãƒ—ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‹ã‚‰æ¸¡ã•ã‚ŒãŸãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ã—ã¦ã‚·ã‚§ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹ãŸã‚ã€ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å†…ã®ã™ã¹ã¦ã®ä¾å­˜é–¢ä¿‚ãŒæ½œåœ¨çš„ãªæ‚ªç”¨ãƒã‚¤ãƒ³ãƒˆã«ãªã‚Šã¾ã™ :)

### ã‚³ãƒ³ãƒã‚¸ãƒƒãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³

ã‚³ãƒ³ãƒã‚¸ãƒƒãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€è¤‡æ•°ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚¹ãƒ†ãƒƒãƒ—ã‚’å˜ä¸€ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«çµ±åˆã—ã¾ã™ã€‚å„ã‚¹ãƒ†ãƒƒãƒ—ã¯ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã‚’å‘¼ã³å‡ºã—ãŸã‚Šã€ä»–ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‘¼ã³å‡ºã—ãŸã‚Šã§ãã¾ã™ã€‚
```yaml
name: example
description: Example of a Composite Action
runs:
using: "composite"
steps:
- run: printenv
shell: bash
```
### Docker Actions

Docker Actionsã¯Dockerã‚³ãƒ³ãƒ†ãƒŠå†…ã§å®Ÿè¡Œã•ã‚Œã€Dockerfileã¾ãŸã¯ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¦æ§‹æˆã§ãã¾ã™ã€‚
```yaml
name: example
description: Example of a Docker Action
runs:
using: docker
image: Dockerfile
env:
INPUT_NAME: ${{ inputs.name }}
INPUT_VERSION: ${{ inputs.version }}
```
### JavaScript Actions

JavaScript Actionsã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã€ã•ã¾ã–ã¾ãªé–¢æ•°ã‚’å‘¼ã³å‡ºã™Node.jsãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ä¼¼ã¦ãŠã‚Šã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¨å¯¾è©±ã™ã‚‹ãŸã‚ã«GitHub Actions Toolkitã‚’åˆ©ç”¨ã—ã¾ã™ã€‚
```yaml
name: example
description: Example of a JavaScript Action
runs:
using: "node16"
main: "dist/index.js"
```
{% hint style="success" %}
AWSãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
GCPãƒãƒƒã‚­ãƒ³ã‚°ã‚’å­¦ã³ã€å®Ÿè·µã™ã‚‹ï¼š<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricksã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹</summary>

* [**ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³**](https://github.com/sponsors/carlospolop)ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼
* **ğŸ’¬ [**Discordã‚°ãƒ«ãƒ¼ãƒ—**](https://discord.gg/hRep4RUj7f)ã¾ãŸã¯[**Telegramã‚°ãƒ«ãƒ¼ãƒ—**](https://t.me/peass)ã«å‚åŠ ã™ã‚‹ã‹ã€**Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**ã‚’ãƒ•ã‚©ãƒ­ãƒ¼ã—ã¦ãã ã•ã„ã€‚**
* **ãƒãƒƒã‚­ãƒ³ã‚°ã®ãƒˆãƒªãƒƒã‚¯ã‚’å…±æœ‰ã™ã‚‹ã«ã¯ã€[**HackTricks**](https://github.com/carlospolop/hacktricks)ã¨[**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud)ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã«PRã‚’é€ä¿¡ã—ã¦ãã ã•ã„ã€‚**

</details>
{% endhint %}
