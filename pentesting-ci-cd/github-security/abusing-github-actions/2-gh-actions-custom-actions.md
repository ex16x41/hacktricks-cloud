# Gh Actions - Custom Actions

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Cosa sono le Custom Actions?

Le Custom Actions in GitHub Actions sono un'opzione popolare che consente agli utenti di racchiudere attivit√† riutilizzabili e semplificare i flussi di lavoro, simile alle dipendenze nella programmazione. La parola chiave `uses` viene utilizzata per importare diverse azioni, mentre la parola chiave `with` passa parametri all'azione personalizzata.
```yaml
- uses: actions/custom-action@4
with:
token: ${{ github.token }}
```
I flussi di lavoro possono passare informazioni ad azioni personalizzate, che possono utilizzare contesti controllati dall'utente (vedi [risorse correlate](/pentesting-ci-cd/github-security/abusing-github-actions/gh-actions-context-script-injections.md)). Se identifichi un utilizzo vulnerabile di un contesto controllato dall'utente all'interno di un'azione personalizzata, indaga su tutte le pipeline che includono questa azione nella loro catena di importazione per potenziali sfruttamenti. Questo approccio √® stato evidenziato in [questo post del blog](https://cycode.com/blog/cycode-discovers-a-supply-chain-vulnerability-in-bazel/) riguardo a una vulnerabilit√† trovata nel progetto Bazel di Google.

Per ulteriori informazioni sulle azioni personalizzate, consulta [la documentazione di Github](https://docs.github.com/en/actions/sharing-automations/creating-actions/about-custom-actions#about-custom-actions)

## Tipi di Azioni Personalizzate

Ogni tipo di azione personalizzata pu√≤ eseguire codice shell utilizzando parametri passati dal flusso di lavoro, il che rende ogni dipendenza in una pipeline un potenziale punto di sfruttamento :)

### Azioni Compositive

Le Azioni Compositive combinano pi√π passaggi del flusso di lavoro in un'unica azione. Ogni passaggio pu√≤ invocare comandi shell o chiamare altre azioni.
```yaml
name: example
description: Example of a Composite Action
runs:
using: "composite"
steps:
- run: printenv
shell: bash
```
### Docker Actions

Le Docker Actions vengono eseguite all'interno di un contenitore Docker e possono essere configurate utilizzando un Dockerfile o un'immagine.
```yaml
name: example
description: Example of a Docker Action
runs:
using: docker
image: Dockerfile
env:
INPUT_NAME: ${{ inputs.name }}
INPUT_VERSION: ${{ inputs.version }}
```
### Azioni JavaScript

Le Azioni JavaScript sono simili ai programmi Node.js che eseguono codice e chiamano diverse funzioni, utilizzando il GitHub Actions Toolkit per interagire con il workflow.
```yaml
name: example
description: Example of a JavaScript Action
runs:
using: "node16"
main: "dist/index.js"
```
{% hint style="success" %}
Impara e pratica il hacking AWS:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Impara e pratica il hacking GCP: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Supporta HackTricks</summary>

* Controlla i [**piani di abbonamento**](https://github.com/sponsors/carlospolop)!
* **Unisciti al** üí¨ [**gruppo Discord**](https://discord.gg/hRep4RUj7f) o al [**gruppo telegram**](https://t.me/peass) o **seguici** su **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Condividi trucchi di hacking inviando PR ai** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos di github.

</details>
{% endhint %}
