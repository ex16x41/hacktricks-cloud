# Gh Actions - è‡ªå®šä¹‰æ“ä½œ

{% hint style="success" %}
å­¦ä¹ ä¸å®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
å­¦ä¹ ä¸å®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}

## ä»€ä¹ˆæ˜¯è‡ªå®šä¹‰æ“ä½œï¼Ÿ

GitHub Actions ä¸­çš„è‡ªå®šä¹‰æ“ä½œæ˜¯ä¸€ä¸ªæµè¡Œçš„é€‰é¡¹ï¼Œå…è®¸ç”¨æˆ·å°è£…å¯é‡ç”¨çš„ä»»åŠ¡å¹¶ç®€åŒ–å·¥ä½œæµç¨‹ï¼Œç±»ä¼¼äºç¼–ç¨‹ä¸­çš„ä¾èµ–é¡¹ã€‚`uses` å…³é”®å­—ç”¨äºå¯¼å…¥ä¸åŒçš„æ“ä½œï¼Œè€Œ `with` å…³é”®å­—åˆ™å°†å‚æ•°ä¼ é€’ç»™è‡ªå®šä¹‰æ“ä½œã€‚
```yaml
- uses: actions/custom-action@4
with:
token: ${{ github.token }}
```
Workflowså¯ä»¥å°†ä¿¡æ¯ä¼ é€’ç»™è‡ªå®šä¹‰æ“ä½œï¼Œè¿™å¯èƒ½ä¼šåˆ©ç”¨ç”¨æˆ·æ§åˆ¶çš„ä¸Šä¸‹æ–‡ï¼ˆè¯·å‚è§[ç›¸å…³èµ„æº](/pentesting-ci-cd/github-security/abusing-github-actions/gh-actions-context-script-injections.md)ï¼‰ã€‚å¦‚æœæ‚¨è¯†åˆ«å‡ºè‡ªå®šä¹‰æ“ä½œä¸­ç”¨æˆ·æ§åˆ¶ä¸Šä¸‹æ–‡çš„è„†å¼±ç”¨æ³•ï¼Œè¯·è°ƒæŸ¥æ‰€æœ‰åœ¨å…¶å¯¼å…¥é“¾ä¸­åŒ…å«æ­¤æ“ä½œçš„ç®¡é“ï¼Œä»¥å¯»æ‰¾æ½œåœ¨çš„åˆ©ç”¨ç‚¹ã€‚æ­¤æ–¹æ³•åœ¨[è¿™ç¯‡åšå®¢æ–‡ç« ](https://cycode.com/blog/cycode-discovers-a-supply-chain-vulnerability-in-bazel/)ä¸­å¾—åˆ°äº†å¼ºè°ƒï¼Œæ¶‰åŠåœ¨Googleçš„Bazelé¡¹ç›®ä¸­å‘ç°çš„ä¸€ä¸ªæ¼æ´ã€‚

æœ‰å…³è‡ªå®šä¹‰æ“ä½œçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹[Githubçš„æ–‡æ¡£](https://docs.github.com/en/actions/sharing-automations/creating-actions/about-custom-actions#about-custom-actions)

## è‡ªå®šä¹‰æ“ä½œç±»å‹

æ¯ç§ç±»å‹çš„è‡ªå®šä¹‰æ“ä½œéƒ½å¯ä»¥ä½¿ç”¨ä»å·¥ä½œæµä¼ é€’çš„å‚æ•°æ‰§è¡Œshellä»£ç ï¼Œè¿™ä½¿å¾—ç®¡é“ä¸­çš„æ¯ä¸ªä¾èµ–é¡¹éƒ½æˆä¸ºæ½œåœ¨çš„åˆ©ç”¨ç‚¹ :)

### å¤åˆæ“ä½œ

å¤åˆæ“ä½œå°†å¤šä¸ªå·¥ä½œæµæ­¥éª¤ç»„åˆæˆä¸€ä¸ªå•ä¸€çš„æ“ä½œã€‚æ¯ä¸ªæ­¥éª¤å¯ä»¥è°ƒç”¨shellå‘½ä»¤æˆ–å…¶ä»–æ“ä½œã€‚
```yaml
name: example
description: Example of a Composite Action
runs:
using: "composite"
steps:
- run: printenv
shell: bash
```
### Docker Actions

Docker Actions åœ¨ Docker å®¹å™¨å†…è¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨ Dockerfile æˆ–é•œåƒè¿›è¡Œé…ç½®ã€‚
```yaml
name: example
description: Example of a Docker Action
runs:
using: docker
image: Dockerfile
env:
INPUT_NAME: ${{ inputs.name }}
INPUT_VERSION: ${{ inputs.version }}
```
### JavaScript Actions

JavaScript Actions ç±»ä¼¼äºæ‰§è¡Œä»£ç å¹¶è°ƒç”¨ä¸åŒå‡½æ•°çš„ Node.js ç¨‹åºï¼Œåˆ©ç”¨ GitHub Actions Toolkit ä¸å·¥ä½œæµè¿›è¡Œäº¤äº’ã€‚
```yaml
name: example
description: Example of a JavaScript Action
runs:
using: "node16"
main: "dist/index.js"
```
{% hint style="success" %}
å­¦ä¹ ä¸å®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
å­¦ä¹ ä¸å®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}
