# Gh Actions - A√ß√µes Personalizadas

{% hint style="success" %}
Aprenda e pratique Hacking AWS:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Aprenda e pratique Hacking GCP: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Confira os [**planos de assinatura**](https://github.com/sponsors/carlospolop)!
* **Junte-se ao** üí¨ [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga**-nos no **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe truques de hacking enviando PRs para os reposit√≥rios do** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}

## O que s√£o A√ß√µes Personalizadas?

A√ß√µes Personalizadas no GitHub Actions s√£o uma op√ß√£o popular que permite aos usu√°rios encapsular tarefas reutiliz√°veis e simplificar fluxos de trabalho, semelhante a depend√™ncias em programa√ß√£o. A palavra-chave `uses` √© empregada para importar diferentes a√ß√µes, enquanto a palavra-chave `with` passa par√¢metros para a a√ß√£o personalizada.
```yaml
- uses: actions/custom-action@4
with:
token: ${{ github.token }}
```
Os fluxos de trabalho podem passar informa√ß√µes para a√ß√µes personalizadas, que podem utilizar contextos controlados pelo usu√°rio (veja [recursos relacionados](/pentesting-ci-cd/github-security/abusing-github-actions/gh-actions-context-script-injections.md)). Se voc√™ identificar um uso vulner√°vel de um contexto controlado pelo usu√°rio dentro de uma a√ß√£o personalizada, investigue todos os pipelines que incluem essa a√ß√£o em sua cadeia de importa√ß√£o para poss√≠veis explora√ß√µes. Essa abordagem foi destacada [neste post do blog](https://cycode.com/blog/cycode-discovers-a-supply-chain-vulnerability-in-bazel/) sobre uma vulnerabilidade encontrada no projeto Bazel do Google.

Para mais informa√ß√µes sobre a√ß√µes personalizadas, confira [a documenta√ß√£o do Github](https://docs.github.com/en/actions/sharing-automations/creating-actions/about-custom-actions#about-custom-actions)

## Tipos de A√ß√µes Personalizadas

Cada tipo de a√ß√£o personalizada pode executar c√≥digo shell usando par√¢metros passados do fluxo de trabalho, o que torna cada depend√™ncia em um pipeline um ponto de explora√ß√£o potencial :)

### A√ß√µes Compostas

A√ß√µes Compostas combinam m√∫ltiplos passos de fluxo de trabalho em uma √∫nica a√ß√£o. Cada passo pode invocar comandos shell ou chamar outras a√ß√µes.
```yaml
name: example
description: Example of a Composite Action
runs:
using: "composite"
steps:
- run: printenv
shell: bash
```
### Docker Actions

As A√ß√µes do Docker s√£o executadas dentro de um cont√™iner Docker e podem ser configuradas usando um Dockerfile ou uma imagem.
```yaml
name: example
description: Example of a Docker Action
runs:
using: docker
image: Dockerfile
env:
INPUT_NAME: ${{ inputs.name }}
INPUT_VERSION: ${{ inputs.version }}
```
### A√ß√µes JavaScript

A√ß√µes JavaScript s√£o semelhantes a programas Node.js que executam c√≥digo e chamam diferentes fun√ß√µes, utilizando o GitHub Actions Toolkit para interagir com o fluxo de trabalho.
```yaml
name: example
description: Example of a JavaScript Action
runs:
using: "node16"
main: "dist/index.js"
```
{% hint style="success" %}
Aprenda e pratique Hacking AWS:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Aprenda e pratique Hacking GCP: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Supporte o HackTricks</summary>

* Confira os [**planos de assinatura**](https://github.com/sponsors/carlospolop)!
* **Junte-se ao** üí¨ [**grupo do Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga**-nos no **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Compartilhe truques de hacking enviando PRs para os reposit√≥rios do** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
{% endhint %}
