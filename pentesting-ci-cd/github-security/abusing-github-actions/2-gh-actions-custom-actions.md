# Gh Actions - Acciones Personalizadas

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## ¿Qué son las Acciones Personalizadas?

Las Acciones Personalizadas en GitHub Actions son una opción popular que permite a los usuarios encapsular tareas reutilizables y optimizar flujos de trabajo, similar a las dependencias en programación. La palabra clave `uses` se emplea para importar diferentes acciones, mientras que la palabra clave `with` pasa parámetros a la acción personalizada.
```yaml
- uses: actions/custom-action@4
with:
token: ${{ github.token }}
```
Los flujos de trabajo pueden pasar información a acciones personalizadas, que pueden utilizar contextos controlados por el usuario (ver [recursos relacionados](/pentesting-ci-cd/github-security/abusing-github-actions/gh-actions-context-script-injections.md)). Si identificas un uso vulnerable de un contexto controlado por el usuario dentro de una acción personalizada, investiga todos los pipelines que incluyan esta acción en su cadena de importación para posibles explotaciones. Este enfoque se destacó en [esta publicación de blog](https://cycode.com/blog/cycode-discovers-a-supply-chain-vulnerability-in-bazel/) sobre una vulnerabilidad encontrada en el proyecto Bazel de Google.

Para más información sobre acciones personalizadas, consulta [la documentación de Github](https://docs.github.com/en/actions/sharing-automations/creating-actions/about-custom-actions#about-custom-actions)

## Tipos de Acciones Personalizadas

Cada tipo de acción personalizada puede ejecutar código shell utilizando parámetros pasados desde el flujo de trabajo, lo que convierte cada dependencia en un pipeline en un posible punto de explotación :)

### Acciones Compuestas

Las Acciones Compuestas combinan múltiples pasos de flujo de trabajo en una sola acción. Cada paso puede invocar comandos shell o llamar a otras acciones.
```yaml
name: example
description: Example of a Composite Action
runs:
using: "composite"
steps:
- run: printenv
shell: bash
```
### Docker Actions

Las Docker Actions se ejecutan dentro de un contenedor Docker y se pueden configurar utilizando un Dockerfile o una imagen.
```yaml
name: example
description: Example of a Docker Action
runs:
using: docker
image: Dockerfile
env:
INPUT_NAME: ${{ inputs.name }}
INPUT_VERSION: ${{ inputs.version }}
```
### Acciones de JavaScript

Las Acciones de JavaScript son similares a los programas de Node.js que ejecutan código y llaman a diferentes funciones, utilizando el GitHub Actions Toolkit para interactuar con el flujo de trabajo.
```yaml
name: example
description: Example of a JavaScript Action
runs:
using: "node16"
main: "dist/index.js"
```
{% hint style="success" %}
Aprende y practica Hacking en AWS:<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Aprende y practica Hacking en GCP: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Apoya a HackTricks</summary>

* Revisa los [**planes de suscripción**](https://github.com/sponsors/carlospolop)!
* **Únete al** 💬 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **síguenos** en **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Comparte trucos de hacking enviando PRs a los** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repositorios de github.

</details>
{% endhint %}
