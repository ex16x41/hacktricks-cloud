# GH Actions - Cache Poisoning

{% hint style="success" %}
AWS Hacking Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
GCP Hacking Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**'Ä± takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.

</details>
{% endhint %}

Daha fazla detay iÃ§in orijinal gÃ¶nderiyi kontrol edin [https://scribesecurity.com/blog/github-cache-poisoning/](https://scribesecurity.com/blog/github-cache-poisoning/)

## Cache Poisoning

Git eylemi [**action/cache**](https://github.com/actions/cache), SÃ¼rekli Entegrasyon (CI) sÃ¼recinde iki kritik aÅŸamayÄ± kapsayan bir Ã¶nbellekleme mekanizmasÄ± sunar:

1. **Eylemi Ã‡alÄ±ÅŸtÄ±r**: Bu aÅŸama, CI Ã§alÄ±ÅŸmasÄ± sÄ±rasÄ±nda Ã¶nbelleÄŸe alÄ±nmÄ±ÅŸ verileri aramayÄ± ve almayÄ± iÃ§erir. Arama, benzersiz bir Ã¶nbellek anahtarÄ± kullanarak iki sonuÃ§ Ã¼retir:
* **Ã–nbellek bulma**: Ä°stenen veri Ã¶nbellekte bulunur ve dolayÄ±sÄ±yla hemen kullanÄ±lmak Ã¼zere alÄ±nÄ±r.
* **Ã–nbellek bulamama**: Ã–nbellekte eÅŸleÅŸen veri bulunamaz, bu da gerekli dosyalarÄ±n ve dizinlerin taze bir ÅŸekilde indirilmesini gerektirir, ilk talep gibi.
2. **Ä°ÅŸ AkÄ±ÅŸÄ± SonrasÄ± Eylem**: Bu aÅŸama, CI iÅŸ akÄ±ÅŸÄ±ndan sonra verileri Ã¶nbelleÄŸe almaya adanmÄ±ÅŸtÄ±r. Ã–zellikle, eylem sÄ±rasÄ±nda bir Ã¶nbellek bulamama durumu gerÃ§ekleÅŸirse, belirtilen dizinlerin mevcut durumu saÄŸlanan anahtar kullanÄ±larak Ã¶nbelleÄŸe alÄ±nÄ±r. Bu sÃ¼reÃ§ otomatik olup aÃ§Ä±k bir Ã§aÄŸrÄ± gerektirmez.

#### GÃ¼venlik Ã–nlemleri: Ã–nbellek Ä°zolasyonu ve EriÅŸim KÄ±sÄ±tlamalarÄ±

GÃ¼venliÄŸi saÄŸlamak ve Ã¶nbellek izolasyonunu korumak iÃ§in eriÅŸim kÄ±sÄ±tlamalarÄ± uygulanÄ±r, bu da farklÄ± dallar arasÄ±nda mantÄ±ksal bir ayrÄ±m yaratÄ±r. Ã–rneÄŸin, **Feature-A** dalÄ± iÃ§in oluÅŸturulan bir Ã¶nbellek (ana dalda temel alarak) **Feature-B** dalÄ± iÃ§in bir Ã§ekme isteÄŸine eriÅŸilemez olacaktÄ±r (aynÄ± zamanda ana dalda temel alarak).

Ã–nbellek eylemi belirli bir arama sÄ±rasÄ±na uyar:

* Ã–ncelikle, iÅŸ akÄ±ÅŸÄ± Ã§alÄ±ÅŸmasÄ± ile aynÄ± dalda Ã¶nbellek bulma arar.
* BaÅŸarÄ±sÄ±z olursa, aramayÄ± ana dala ve diÄŸer yukarÄ± akÄ±ÅŸ dallarÄ±na geniÅŸletir.

Ã–nemli olarak, Ã¶nbellek eriÅŸimi dal kapsamlÄ±dÄ±r ve belirli bir dalÄ±n tÃ¼m iÅŸ akÄ±ÅŸlarÄ± ve Ã§alÄ±ÅŸmalarÄ± arasÄ±nda uzanÄ±r. AyrÄ±ca, GitHub, Ã¶nbellek giriÅŸleri oluÅŸturulduktan sonra yalnÄ±zca okunabilir bir politika uygular ve herhangi bir deÄŸiÅŸikliÄŸi yasaklar.

#### GerÃ§ek DÃ¼nya Etkisi: DÃ¼ÅŸÃ¼k Ä°zinli Ä°ÅŸ AkÄ±ÅŸÄ±ndan YÃ¼ksek Ä°zinli Ä°ÅŸ AkÄ±ÅŸÄ±na SaldÄ±rÄ±

Ã–rnek bir CI senaryosu, bir saldÄ±rganÄ±n Ã¶nbellek zehirlemesini nasÄ±l kullanarak dÃ¼ÅŸÃ¼k izinli bir iÅŸ akÄ±ÅŸÄ±ndan yÃ¼ksek izinli bir iÅŸ akÄ±ÅŸÄ±na yetki yÃ¼kseltebileceÄŸini gÃ¶sterir:

* **Unit-test** iÅŸ akÄ±ÅŸÄ±, birim testlerini ve kod kapsamÄ± araÃ§larÄ±nÄ± Ã§alÄ±ÅŸtÄ±rmaktan sorumlu olup, tehlikeye atÄ±lmÄ±ÅŸ veya savunmasÄ±z bir aracÄ± kullanmasÄ± varsayÄ±lmaktadÄ±r. Bu iÅŸ akÄ±ÅŸÄ±, Ã¶nbelleÄŸi herhangi bir iÅŸ akÄ±ÅŸÄ±na eriÅŸilebilir hale getiren **action/cache** Git eylemini kullanÄ±r.
* **Release** iÅŸ akÄ±ÅŸÄ±, uygulama artefaktÄ±nÄ± oluÅŸturma ve yayÄ±nlama gÃ¶revini Ã¼stlenir ve Golang baÄŸÄ±mlÄ±lÄ±klarÄ±nÄ± Ã¶nbelleÄŸe alarak iÅŸlemlerini optimize eder.

Bu senaryoda, unit-test iÅŸ akÄ±ÅŸÄ±, meÅŸru bir Golang gÃ¼nlÃ¼kleme kÃ¼tÃ¼phanesini (\`go
