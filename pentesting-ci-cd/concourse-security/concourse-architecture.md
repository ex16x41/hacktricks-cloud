# Concourse Architecture

## Concourse Architecture

{% hint style="success" %}
ÎœÎ¬Î¸ÎµÏ„Îµ ÎºÎ±Î¹ ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
ÎœÎ¬Î¸ÎµÏ„Îµ ÎºÎ±Î¹ ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Î¥Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¾Ï„Îµ Ï„Î¿ HackTricks</summary>

* Î•Î»Î­Î³Î¾Ï„Îµ Ï„Î± [**ÏƒÏ‡Î­Î´Î¹Î± ÏƒÏ…Î½Î´ÏÎ¿Î¼Î®Ï‚**](https://github.com/sponsors/carlospolop)!
* **Î“Î¯Î½ÎµÏ„Îµ Î¼Î­Î»Î¿Ï‚ Ï„Î·Ï‚** ğŸ’¬ [**Î¿Î¼Î¬Î´Î±Ï‚ Discord**](https://discord.gg/hRep4RUj7f) Î® Ï„Î·Ï‚ [**Î¿Î¼Î¬Î´Î±Ï‚ telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ hacking tricks Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Î±Ï€Î¿Î¸ÎµÏ„Î®ÏÎ¹Î± ÏƒÏ„Î¿ github.

</details>
{% endhint %}

[**Î£Ï‡ÎµÏ„Î¹ÎºÎ¬ Î´ÎµÎ´Î¿Î¼Î­Î½Î± Î±Ï€ÏŒ Ï„Î·Î½ Ï„ÎµÎºÎ¼Î·ÏÎ¯Ï‰ÏƒÎ· Ï„Î¿Ï… Concourse:**](https://concourse-ci.org/internals.html)

### Î‘ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ®

![](<../../.gitbook/assets/image (187).png>)

#### ATC: web UI & build scheduler

Î¤Î¿ ATC ÎµÎ¯Î½Î±Î¹ Î· ÎºÎ±ÏÎ´Î¹Î¬ Ï„Î¿Ï… Concourse. Î•ÎºÏ„ÎµÎ»ÎµÎ¯ Ï„Î¿ **web UI ÎºÎ±Î¹ API** ÎºÎ±Î¹ ÎµÎ¯Î½Î±Î¹ Ï…Ï€ÎµÏÎ¸Ï…Î½Î¿ Î³Î¹Î± ÏŒÎ»Î¿ Ï„Î¿Î½ **Ï€ÏÎ¿Î³ÏÎ±Î¼Î¼Î±Ï„Î¹ÏƒÎ¼ÏŒ** Ï„Ï‰Î½ pipelines. **Î£Ï…Î½Î´Î­ÎµÏ„Î±Î¹ Î¼Îµ Ï„Î¿ PostgreSQL**, Ï„Î¿ Î¿Ï€Î¿Î¯Î¿ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯ Î³Î¹Î± Ï„Î·Î½ Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Ï„Ï‰Î½ pipelines (ÏƒÏ…Î¼Ï€ÎµÏÎ¹Î»Î±Î¼Î²Î±Î½Î¿Î¼Î­Î½Ï‰Î½ Ï„Ï‰Î½ logs Ï„Ï‰Î½ builds).

Î— ÎµÏ…Î¸ÏÎ½Î· Ï„Î¿Ï… [checker](https://concourse-ci.org/checker.html) ÎµÎ¯Î½Î±Î¹ Î½Î± ÎµÎ»Î­Î³Ï‡ÎµÎ¹ ÏƒÏ…Î½ÎµÏ‡ÏÏ‚ Î³Î¹Î± Î½Î­ÎµÏ‚ ÎµÎºÎ´ÏŒÏƒÎµÎ¹Ï‚ Ï€ÏŒÏÏ‰Î½. ÎŸ [scheduler](https://concourse-ci.org/scheduler.html) ÎµÎ¯Î½Î±Î¹ Ï…Ï€ÎµÏÎ¸Ï…Î½Î¿Ï‚ Î³Î¹Î± Ï„Î¿Î½ Ï€ÏÎ¿Î³ÏÎ±Î¼Î¼Î±Ï„Î¹ÏƒÎ¼ÏŒ Ï„Ï‰Î½ builds Î³Î¹Î± Î¼Î¹Î± ÎµÏÎ³Î±ÏƒÎ¯Î± ÎºÎ±Î¹ Î¿ [build tracker](https://concourse-ci.org/build-tracker.html) ÎµÎ¯Î½Î±Î¹ Ï…Ï€ÎµÏÎ¸Ï…Î½Î¿Ï‚ Î³Î¹Î± Ï„Î·Î½ ÎµÎºÏ„Î­Î»ÎµÏƒÎ· Î¿Ï€Î¿Î¹Ï‰Î½Î´Î®Ï€Î¿Ï„Îµ Ï€ÏÎ¿Î³ÏÎ±Î¼Î¼Î±Ï„Î¹ÏƒÎ¼Î­Î½Ï‰Î½ builds. ÎŸ [garbage collector](https://concourse-ci.org/garbage-collector.html) ÎµÎ¯Î½Î±Î¹ Î¿ Î¼Î·Ï‡Î±Î½Î¹ÏƒÎ¼ÏŒÏ‚ ÎºÎ±Î¸Î±ÏÎ¹ÏƒÎ¼Î¿Ï Î³Î¹Î± Ï„Î·Î½ Î±Ï†Î±Î¯ÏÎµÏƒÎ· Î¿Ï€Î¿Î¹Ï‰Î½Î´Î®Ï€Î¿Ï„Îµ Î±Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¯Î·Ï„Ï‰Î½ Î® Ï€Î±ÏÏ‰Ï‡Î·Î¼Î­Î½Ï‰Î½ Î±Î½Ï„Î¹ÎºÎµÎ¹Î¼Î­Î½Ï‰Î½, ÏŒÏ€Ï‰Ï‚ containers ÎºÎ±Î¹ volumes.

#### TSA: worker registration & forwarding

Î¤Î¿ TSA ÎµÎ¯Î½Î±Î¹ Î­Î½Î±Ï‚ **Ï€ÏÎ¿ÏƒÎ±ÏÎ¼Î¿ÏƒÎ¼Î­Î½Î¿Ï‚ SSH server** Ï€Î¿Ï… Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Î±Ï€Î¿ÎºÎ»ÎµÎ¹ÏƒÏ„Î¹ÎºÎ¬ Î³Î¹Î± Ï„Î·Î½ Î±ÏƒÏ†Î±Î»Î® **ÎµÎ³Î³ÏÎ±Ï†Î®** Ï„Ï‰Î½ [**workers**](https://concourse-ci.org/internals.html#architecture-worker) Î¼Îµ Ï„Î¿ [ATC](https://concourse-ci.org/internals.html#component-atc).

Î¤Î¿ TSA **Î±ÎºÎ¿ÏÎµÎ¹ Î±Ï€ÏŒ Ï€ÏÎ¿ÎµÏ€Î¹Î»Î¿Î³Î® ÏƒÏ„Î·Î½ Î¸ÏÏÎ± `2222`**, ÎºÎ±Î¹ ÏƒÏ…Î½Î®Î¸Ï‰Ï‚ Î²ÏÎ¯ÏƒÎºÎµÏ„Î±Î¹ Î¼Î±Î¶Î¯ Î¼Îµ Ï„Î¿ [ATC](https://concourse-ci.org/internals.html#component-atc) Ï€Î¯ÏƒÏ‰ Î±Ï€ÏŒ Î­Î½Î±Î½ load balancer.

Î¤Î¿ **TSA Ï…Î»Î¿Ï€Î¿Î¹ÎµÎ¯ CLI Î¼Î­ÏƒÏ‰ Ï„Î·Ï‚ ÏƒÏÎ½Î´ÎµÏƒÎ·Ï‚ SSH,** Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶Î¿Î½Ï„Î±Ï‚ [**Î±Ï…Ï„Î­Ï‚ Ï„Î¹Ï‚ ÎµÎ½Ï„Î¿Î»Î­Ï‚**](https://concourse-ci.org/internals.html#component-tsa).

#### Workers

Î“Î¹Î± Î½Î± ÎµÎºÏ„ÎµÎ»Î­ÏƒÎµÎ¹ ÎµÏÎ³Î±ÏƒÎ¯ÎµÏ‚, Ï„Î¿ concourse Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î­Ï‡ÎµÎ¹ ÎºÎ¬Ï€Î¿Î¹Î¿Ï…Ï‚ workers. Î‘Ï…Ï„Î¿Î¯ Î¿Î¹ workers **ÎµÎ³Î³ÏÎ¬Ï†Î¿Î½Ï„Î±Î¹** Î¼Î­ÏƒÏ‰ Ï„Î¿Ï… [TSA](https://concourse-ci.org/internals.html#component-tsa) ÎºÎ±Î¹ ÎµÎºÏ„ÎµÎ»Î¿ÏÎ½ Ï„Î¹Ï‚ Ï…Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚ [**Garden**](https://github.com/cloudfoundry-incubator/garden) ÎºÎ±Î¹ [**Baggageclaim**](https://github.com/concourse/baggageclaim).

* **Garden**: Î‘Ï…Ï„ÏŒ ÎµÎ¯Î½Î±Î¹ Ï„Î¿ **Container Manage API**, ÏƒÏ…Î½Î®Î¸Ï‰Ï‚ ÎµÎºÏ„ÎµÎ»ÎµÎ¯Ï„Î±Î¹ ÏƒÏ„Î·Î½ **Î¸ÏÏÎ± 7777** Î¼Î­ÏƒÏ‰ **HTTP**.
* **Baggageclaim**: Î‘Ï…Ï„ÏŒ ÎµÎ¯Î½Î±Î¹ Ï„Î¿ **Volume Management API**, ÏƒÏ…Î½Î®Î¸Ï‰Ï‚ ÎµÎºÏ„ÎµÎ»ÎµÎ¯Ï„Î±Î¹ ÏƒÏ„Î·Î½ **Î¸ÏÏÎ± 7788** Î¼Î­ÏƒÏ‰ **HTTP**.

## Î‘Î½Î±Ï†Î¿ÏÎ­Ï‚

* [https://concourse-ci.org/internals.html](https://concourse-ci.org/internals.html)

{% hint style="success" %}
ÎœÎ¬Î¸ÎµÏ„Îµ ÎºÎ±Î¹ ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
ÎœÎ¬Î¸ÎµÏ„Îµ ÎºÎ±Î¹ ÎµÎ¾Î±ÏƒÎºÎ·Î¸ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Î¥Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¾Ï„Îµ Ï„Î¿ HackTricks</summary>

* Î•Î»Î­Î³Î¾Ï„Îµ Ï„Î± [**ÏƒÏ‡Î­Î´Î¹Î± ÏƒÏ…Î½Î´ÏÎ¿Î¼Î®Ï‚**](https://github.com/sponsors/carlospolop)!
* **Î“Î¯Î½ÎµÏ„Îµ Î¼Î­Î»Î¿Ï‚ Ï„Î·Ï‚** ğŸ’¬ [**Î¿Î¼Î¬Î´Î±Ï‚ Discord**](https://discord.gg/hRep4RUj7f) Î® Ï„Î·Ï‚ [**Î¿Î¼Î¬Î´Î±Ï‚ telegram**](https://t.me/peass) Î® **Î±ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ** Î¼Î±Ï‚ ÏƒÏ„Î¿ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **ÎœÎ¿Î¹ÏÎ±ÏƒÏ„ÎµÎ¯Ï„Îµ hacking tricks Ï…Ï€Î¿Î²Î¬Î»Î»Î¿Î½Ï„Î±Ï‚ PRs ÏƒÏ„Î±** [**HackTricks**](https://github.com/carlospolop/hacktricks) ÎºÎ±Î¹ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) Î±Ï€Î¿Î¸ÎµÏ„Î®ÏÎ¹Î± ÏƒÏ„Î¿ github.

</details>
{% endhint %}
