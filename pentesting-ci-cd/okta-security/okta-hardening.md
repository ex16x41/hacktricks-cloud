# Okta Hardening

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Dizin

### People

Bir saldÄ±rganÄ±n bakÄ±ÅŸ aÃ§Ä±sÄ±ndan, **kayÄ±tlÄ± tÃ¼m kullanÄ±cÄ±larÄ±**, **e-posta** adreslerini, parÃ§asÄ± olduklarÄ± **gruplarÄ±**, **profilleri** ve hatta **cihazlarÄ±** (iÅŸletim sistemleriyle birlikte mobil cihazlar) gÃ¶rebileceÄŸiniz iÃ§in bu Ã§ok ilginÃ§tir.

Bir beyaz kutu incelemesi iÃ§in, birkaÃ§ "**KullanÄ±cÄ± eylemi bekleniyor**" ve "**Åifre sÄ±fÄ±rlama**" olmadÄ±ÄŸÄ±nÄ± kontrol edin.

### Groups

Bu, Okta'da oluÅŸturulan tÃ¼m gruplarÄ± bulduÄŸunuz yerdir. **KullanÄ±cÄ±lara** verilebilecek farklÄ± gruplarÄ± (**izin setleri**) anlamak ilginÃ§tir.\
Gruplar iÃ§indeki **kiÅŸileri** ve her gruba **atanan uygulamalarÄ±** gÃ¶rmek mÃ¼mkÃ¼ndÃ¼r.

Tabii ki, **admin** adÄ±nÄ± taÅŸÄ±yan herhangi bir grup ilginÃ§tir, Ã¶zellikle **Global YÃ¶neticiler** grubu, en ayrÄ±calÄ±klÄ± Ã¼yelerin kimler olduÄŸunu Ã¶ÄŸrenmek iÃ§in Ã¼yeleri kontrol edin.

Bir beyaz kutu incelemesinde, **5'ten fazla global yÃ¶netici olmamalÄ±dÄ±r** (2 veya 3 olmasÄ± daha iyidir).

### Devices

Burada tÃ¼m kullanÄ±cÄ±larÄ±n **tÃ¼m cihazlarÄ±nÄ±n bir listesini** bulun. AyrÄ±ca **aktif olarak yÃ¶netilip yÃ¶netilmediÄŸini** de gÃ¶rebilirsiniz.

### Profile Editor

Burada, adlar, soyadlar, e-postalar, kullanÄ±cÄ± adlarÄ± gibi anahtar bilgilerin Okta ve diÄŸer uygulamalar arasÄ±nda nasÄ±l paylaÅŸÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶zlemlemek mÃ¼mkÃ¼ndÃ¼r. Bu ilginÃ§tir Ã§Ã¼nkÃ¼ bir kullanÄ±cÄ± **Okta'da bir alanÄ±** (ad veya e-posta gibi) **deÄŸiÅŸtirebilirse** ve bu alan daha sonra bir **dÄ±ÅŸ uygulama** tarafÄ±ndan kullanÄ±cÄ±yÄ± **tanÄ±mlamak** iÃ§in kullanÄ±lÄ±rsa, bir iÃ§ kiÅŸi **diÄŸer hesaplarÄ± ele geÃ§irmeye** Ã§alÄ±ÅŸabilir.

AyrÄ±ca, Okta'daki **`KullanÄ±cÄ± (varsayÄ±lan)`** profilinde her **kullanÄ±cÄ±nÄ±n** hangi alanlara sahip olduÄŸunu ve hangilerinin **kullanÄ±cÄ±lar tarafÄ±ndan yazÄ±labilir** olduÄŸunu gÃ¶rebilirsiniz. YÃ¶netici panelini gÃ¶remiyorsanÄ±z, sadece **profil bilgilerinizi gÃ¼ncelleyin** ve hangi alanlarÄ± gÃ¼ncelleyebileceÄŸinizi gÃ¶receksiniz (bir e-posta adresini gÃ¼ncellemek iÃ§in doÄŸrulamanÄ±z gerektiÄŸini unutmayÄ±n).

### Directory Integrations

Dizinler, mevcut kaynaklardan insanlarÄ± iÃ§e aktarmanÄ±za olanak tanÄ±r. Burada diÄŸer dizinlerden iÃ§e aktarÄ±lan kullanÄ±cÄ±larÄ± gÃ¶receÄŸinizi tahmin ediyorum.

GÃ¶rmedim, ama Okta'nÄ±n kullanÄ±cÄ±larÄ± iÃ§e aktarmak iÃ§in kullandÄ±ÄŸÄ± **diÄŸer dizinleri bulmak** ilginÃ§ olabilir, bÃ¶ylece o dizini **ele geÃ§irirseniz** Okta'da oluÅŸturulan kullanÄ±cÄ±larÄ±n bazÄ± Ã¶znitelik deÄŸerlerini ayarlayabilir ve **belki Okta ortamÄ±nÄ± ele geÃ§irebilirsiniz**.

### Profile Sources

Bir profil kaynaÄŸÄ±, kullanÄ±cÄ± profil Ã¶znitelikleri iÃ§in **doÄŸruluk kaynaÄŸÄ± olarak hareket eden bir uygulamadÄ±r**. Bir kullanÄ±cÄ± aynÄ± anda yalnÄ±zca tek bir uygulama veya dizin tarafÄ±ndan kaynaklanabilir.

GÃ¶rmedim, bu seÃ§enekle ilgili gÃ¼venlik ve hacking hakkÄ±nda herhangi bir bilgi takdir edilir.

## Customizations

### Brands

Bu bÃ¶lÃ¼mÃ¼n **Alanlar** sekmesinde e-posta gÃ¶ndermek iÃ§in kullanÄ±lan e-posta adreslerini ve ÅŸirketin Okta iÃ§indeki Ã¶zel alan adÄ±nÄ± (muhtemelen zaten bildiÄŸiniz) kontrol edin.

AyrÄ±ca, **Ayarlar** sekmesinde, yÃ¶neticiyseniz, "**Ã–zel bir oturum kapatma sayfasÄ± kullanÄ±n**" ve Ã¶zel bir URL ayarlayÄ±n.

### SMS

Burada ilginÃ§ bir ÅŸey yok.

### End-User Dashboard

Burada yapÄ±landÄ±rÄ±lmÄ±ÅŸ uygulamalarÄ± bulabilirsiniz, ancak bunlarÄ±n ayrÄ±ntÄ±larÄ±nÄ± daha sonra farklÄ± bir bÃ¶lÃ¼mde gÃ¶receÄŸiz.

### Other

Ä°lginÃ§ ayar, ancak gÃ¼venlik aÃ§Ä±sÄ±ndan sÃ¼per ilginÃ§ bir ÅŸey yok.

## Applications

### Applications

Burada tÃ¼m **yapÄ±landÄ±rÄ±lmÄ±ÅŸ uygulamalarÄ±** ve ayrÄ±ntÄ±larÄ±nÄ± bulabilirsiniz: Kimlerin eriÅŸimi var, nasÄ±l yapÄ±landÄ±rÄ±lmÄ±ÅŸ (SAML, OpenID), giriÅŸ URL'si, Okta ve uygulama arasÄ±ndaki eÅŸlemeler...

**`Sign On`** sekmesinde, bir kullanÄ±cÄ±nÄ±n **ÅŸifresini ortaya Ã§Ä±karmasÄ±na** izin verecek **`Password reveal`** adlÄ± bir alan da vardÄ±r. KullanÄ±cÄ± Panelinden bir uygulamanÄ±n ayarlarÄ±nÄ± kontrol etmek iÃ§in 3 noktaya tÄ±klayÄ±n:

<figure><img src="../../.gitbook/assets/image (283).png" alt=""><figcaption></figcaption></figure>

Ve uygulama hakkÄ±nda bazÄ± ayrÄ±ntÄ±larÄ± gÃ¶rebilirsiniz (ÅŸifre gÃ¶sterme Ã¶zelliÄŸi gibi, etkinse):

<figure><img src="../../.gitbook/assets/image (220).png" alt=""><figcaption></figcaption></figure>

## Identity Governance

### Access Certifications

EriÅŸim SertifikalarÄ±nÄ± kullanarak kullanÄ±cÄ±larÄ±nÄ±zÄ±n kaynaklara eriÅŸimini periyodik olarak gÃ¶zden geÃ§irmek ve gerektiÄŸinde eriÅŸimi otomatik olarak onaylamak veya iptal etmek iÃ§in denetim kampanyalarÄ± oluÅŸturun.

KullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rmedim, ancak savunma aÃ§Ä±sÄ±ndan gÃ¼zel bir Ã¶zellik olduÄŸunu tahmin ediyorum.

## Security

### General

* **GÃ¼venlik bildirim e-postalarÄ±**: Hepsi etkinleÅŸtirilmelidir.
* **CAPTCHA entegrasyonu**: En azÄ±ndan gÃ¶rÃ¼nmez reCaptcha ayarlamanÄ±z Ã¶nerilir.
* **Organizasyon GÃ¼venliÄŸi**: Her ÅŸey etkinleÅŸtirilebilir ve etkinleÅŸtirme e-postalarÄ± uzun sÃ¼rmemelidir (7 gÃ¼n yeterlidir).
* **KullanÄ±cÄ± numaralandÄ±rma Ã¶nleme**: Her ikisi de etkinleÅŸtirilmelidir.
* KullanÄ±cÄ± NumaralandÄ±rma Ã–nlemenin, aÅŸaÄŸÄ±daki koÅŸullardan herhangi biri izin verilirse etkili olmadÄ±ÄŸÄ±nÄ± unutmayÄ±n (daha fazla bilgi iÃ§in [KullanÄ±cÄ± yÃ¶netimi](https://help.okta.com/oie/en-us/Content/Topics/users-groups-profiles/usgp-main.htm) bÃ¶lÃ¼mÃ¼ne bakÄ±n):
* Self-Service Registration
* JIT akÄ±ÅŸlarÄ± e-posta kimlik doÄŸrulamasÄ± ile
* **Okta ThreatInsight ayarlarÄ±**: Tehdit seviyesine gÃ¶re gÃ¼venliÄŸi kaydedin ve uygulayÄ±n

### HealthInsight

Burada doÄŸru ve **tehlikeli** yapÄ±landÄ±rÄ±lmÄ±ÅŸ **ayarlarÄ±** bulmak mÃ¼mkÃ¼ndÃ¼r.

### Authenticators

Burada bir kullanÄ±cÄ±nÄ±n kullanabileceÄŸi tÃ¼m kimlik doÄŸrulama yÃ¶ntemlerini bulabilirsiniz: Åifre, telefon, e-posta, kod, WebAuthn... Åifre kimlik doÄŸrulayÄ±cÄ±sÄ±na tÄ±klayarak **ÅŸifre politikasÄ±nÄ±** gÃ¶rebilirsiniz. GÃ¼Ã§lÃ¼ olduÄŸundan emin olun.

**Enrollment** sekmesinde gerekli veya isteÄŸe baÄŸlÄ± olanlarÄ± gÃ¶rebilirsiniz:

<figure><img src="../../.gitbook/assets/image (143).png" alt=""><figcaption></figcaption></figure>

Telefonu devre dÄ±ÅŸÄ± bÄ±rakmak Ã¶nerilir. En gÃ¼Ã§lÃ¼ olanlar muhtemelen ÅŸifre, e-posta ve WebAuthn kombinasyonudur.

### Authentication policies

Her uygulamanÄ±n bir kimlik doÄŸrulama politikasÄ± vardÄ±r. Kimlik doÄŸrulama politikasÄ±, uygulamaya giriÅŸ yapmaya Ã§alÄ±ÅŸan kullanÄ±cÄ±larÄ±n belirli koÅŸullarÄ± karÅŸÄ±ladÄ±ÄŸÄ±nÄ± doÄŸrular ve bu koÅŸullara dayalÄ± olarak faktÃ¶r gereksinimlerini uygular.

Burada her uygulamaya eriÅŸim iÃ§in **gereksinimleri** bulabilirsiniz. Her uygulama iÃ§in en azÄ±ndan ÅŸifre ve baÅŸka bir yÃ¶ntem istemeniz Ã¶nerilir. Ancak bir saldÄ±rgan olarak daha zayÄ±f bir ÅŸey bulursanÄ±z, ona saldÄ±rabilirsiniz.

### Global Session Policy

Burada farklÄ± gruplara atanan oturum politikalarÄ±nÄ± bulabilirsiniz. Ã–rneÄŸin:

<figure><img src="../../.gitbook/assets/image (245).png" alt=""><figcaption></figcaption></figure>

MFA istemek, oturum sÃ¼resini birkaÃ§ saatle sÄ±nÄ±rlamak, oturum Ã§erezlerini tarayÄ±cÄ± uzantÄ±larÄ± arasÄ±nda kalÄ±cÄ± hale getirmemek ve konumu ve Kimlik SaÄŸlayÄ±cÄ±sÄ±nÄ± sÄ±nÄ±rlamak (mÃ¼mkÃ¼nse) Ã¶nerilir. Ã–rneÄŸin, her kullanÄ±cÄ± belirli bir Ã¼lkeden giriÅŸ yapmalÄ±ysa, yalnÄ±zca bu konuma izin verebilirsiniz.

### Identity Providers

Kimlik SaÄŸlayÄ±cÄ±larÄ± (IdP'ler), **kullanÄ±cÄ± hesaplarÄ±nÄ± yÃ¶neten** hizmetlerdir. Okta'ya IdP'ler eklemek, son kullanÄ±cÄ±larÄ±nÄ±zÄ±n sosyal bir hesap veya akÄ±llÄ± kart ile Ã¶nce kimlik doÄŸrulamasÄ± yaparak Ã¶zel uygulamalarÄ±nÄ±za **kendi kendine kayÄ±t olmalarÄ±nÄ±** saÄŸlar.

Kimlik SaÄŸlayÄ±cÄ±larÄ± sayfasÄ±nda, sosyal giriÅŸleri (IdP'ler) ekleyebilir ve Okta'yÄ± gelen SAML ekleyerek bir hizmet saÄŸlayÄ±cÄ± (SP) olarak yapÄ±landÄ±rabilirsiniz. IdP'leri ekledikten sonra, kullanÄ±cÄ±yÄ± baÄŸlamÄ±na gÃ¶re bir IdP'ye yÃ¶nlendirmek iÃ§in yÃ¶nlendirme kurallarÄ± ayarlayabilirsiniz, Ã¶rneÄŸin kullanÄ±cÄ±nÄ±n konumu, cihazÄ± veya e-posta alanÄ±.

**Herhangi bir kimlik saÄŸlayÄ±cÄ± yapÄ±landÄ±rÄ±lmÄ±ÅŸsa**, bir saldÄ±rgan ve savunmacÄ± bakÄ±ÅŸ aÃ§Ä±sÄ±ndan bu yapÄ±landÄ±rmayÄ± kontrol edin ve **kaynaÄŸÄ±n gerÃ§ekten gÃ¼venilir olup olmadÄ±ÄŸÄ±nÄ±** kontrol edin, Ã§Ã¼nkÃ¼ bir saldÄ±rgan onu ele geÃ§irirse Okta ortamÄ±na da eriÅŸebilir.

### Delegated Authentication

Delegated authentication, kullanÄ±cÄ±larÄ±n kuruluÅŸlarÄ±nÄ±n **Active Directory (AD) veya LDAP** sunucusuna ait kimlik bilgilerini girerek Okta'ya giriÅŸ yapmalarÄ±nÄ± saÄŸlar.

Yine, bunu yeniden kontrol edin, Ã§Ã¼nkÃ¼ bir saldÄ±rgan bir kuruluÅŸun AD'sini ele geÃ§irirse, bu ayar sayesinde Okta'ya geÃ§iÅŸ yapabilir.

### Network

Bir aÄŸ bÃ¶lgesi, kuruluÅŸunuzdaki bilgisayarlara ve cihazlara **eriÅŸim izni vermek veya eriÅŸimi kÄ±sÄ±tlamak** iÃ§in **eriÅŸim talep eden IP adresine** dayalÄ± olarak kullanabileceÄŸiniz yapÄ±landÄ±rÄ±labilir bir sÄ±nÄ±rdÄ±r. Bir aÄŸ bÃ¶lgesini, bir veya daha fazla bireysel IP adresi, IP adresi aralÄ±klarÄ± veya coÄŸrafi konumlar belirleyerek tanÄ±mlayabilirsiniz.

Bir veya daha fazla aÄŸ bÃ¶lgesi tanÄ±mladÄ±ktan sonra, bunlarÄ± **Global Session Policies**, **authentication policies**, VPN bildirimleri ve **routing rules** iÃ§inde kullanabilirsiniz.

Bir saldÄ±rganÄ±n bakÄ±ÅŸ aÃ§Ä±sÄ±ndan, hangi IP'lerin izin verildiÄŸini bilmek ilginÃ§tir (ve **bazÄ± IP'lerin diÄŸerlerinden daha ayrÄ±calÄ±klÄ± olup olmadÄ±ÄŸÄ±nÄ±** kontrol edin). Bir saldÄ±rganÄ±n bakÄ±ÅŸ aÃ§Ä±sÄ±ndan, kullanÄ±cÄ±larÄ±n belirli bir IP adresinden veya bÃ¶lgeden eriÅŸmesi gerekiyorsa, bu Ã¶zelliÄŸin dÃ¼zgÃ¼n kullanÄ±ldÄ±ÄŸÄ±nÄ± kontrol edin.

### Device Integrations

* **Endpoint Management**: Endpoint management, yÃ¶netilen cihazlarÄ±n bir uygulamaya eriÅŸimini saÄŸlamak iÃ§in bir kimlik doÄŸrulama politikasÄ±nda uygulanabilecek bir koÅŸuldur.
* HenÃ¼z kullanÄ±lmadÄ±ÄŸÄ±nÄ± gÃ¶rdÃ¼m. TODO
* **Notification services**: HenÃ¼z kullanÄ±lmadÄ±ÄŸÄ±nÄ± gÃ¶rdÃ¼m. TODO

### API

Bu sayfada Okta API token'larÄ± oluÅŸturabilir ve **oluÅŸturulan** token'larÄ±, bunlarÄ±n **ayrÄ±calÄ±klarÄ±nÄ±**, **son kullanma** sÃ¼relerini ve **Origin URL'lerini** gÃ¶rebilirsiniz. Bir API token'Ä±, token'Ä± oluÅŸturan kullanÄ±cÄ±nÄ±n izinleriyle oluÅŸturulur ve yalnÄ±zca token'Ä± oluÅŸturan **kullanÄ±cÄ±** **aktif** olduÄŸu sÃ¼rece geÃ§erlidir.

**GÃ¼venilir KÃ¶kenler**, Okta API aracÄ±lÄ±ÄŸÄ±yla Okta org'unuza eriÅŸmek iÃ§in kontrol ettiÄŸiniz ve gÃ¼vendiÄŸiniz web sitelerine eriÅŸim saÄŸlar.

Ã‡ok fazla API token'Ä± olmamalÄ±dÄ±r, Ã§Ã¼nkÃ¼ varsa bir saldÄ±rgan bunlara eriÅŸmeye ve kullanmaya Ã§alÄ±ÅŸabilir.

## Workflow

### Automations

Automations, son kullanÄ±cÄ±larÄ±n yaÅŸam dÃ¶ngÃ¼sÃ¼ sÄ±rasÄ±nda meydana gelen bir dizi tetikleme koÅŸuluna dayalÄ± olarak Ã§alÄ±ÅŸan otomatik eylemler oluÅŸturmanÄ±za olanak tanÄ±r.

Ã–rneÄŸin, bir koÅŸul "Okta'da kullanÄ±cÄ± etkin olmamasÄ±" veya "Okta'da kullanÄ±cÄ± ÅŸifresi sÃ¼resinin dolmasÄ±" olabilir ve eylem "KullanÄ±cÄ±ya e-posta gÃ¶nder" veya "Okta'da kullanÄ±cÄ± yaÅŸam dÃ¶ngÃ¼sÃ¼ durumunu deÄŸiÅŸtir" olabilir.

## Reports

### Reports

GÃ¼nlÃ¼kleri indirin. Bunlar, mevcut hesabÄ±n **e-posta adresine** **gÃ¶nderilir**.

### System Log

Burada, kullanÄ±cÄ±lar tarafÄ±ndan gerÃ§ekleÅŸtirilen **eylemlerin gÃ¼nlÃ¼klerini** Okta'da veya Okta aracÄ±lÄ±ÄŸÄ±yla uygulamalarda oturum aÃ§ma gibi birÃ§ok ayrÄ±ntÄ±yla bulabilirsiniz.

### Import Monitoring

Bu, Okta ile eriÅŸilen diÄŸer platformlardan **gÃ¼nlÃ¼kleri iÃ§e aktarabilir**.

### Rate limits

UlaÅŸÄ±lan API hÄ±z sÄ±nÄ±rlarÄ±nÄ± kontrol edin.

## Settings

### Account

Burada Okta ortamÄ± hakkÄ±nda **genel bilgileri** bulabilirsiniz, Ã¶rneÄŸin ÅŸirket adÄ±, adres, **e-posta faturalama iletiÅŸim bilgisi**, **e-posta teknik iletiÅŸim bilgisi** ve ayrÄ±ca Okta gÃ¼ncellemelerini kimin almasÄ± gerektiÄŸi ve hangi tÃ¼r Okta gÃ¼ncellemeleri.

### Downloads

Burada Okta ajanlarÄ±nÄ± diÄŸer teknolojilerle senkronize etmek iÃ§in indirebilirsiniz.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
