# Okta Hardening

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Directory

### People

SaldÄ±rganlar aÃ§Ä±sÄ±ndan bu, **tÃ¼m kayÄ±tlÄ± kullanÄ±cÄ±larÄ±**, **e-posta** adreslerini, **katÄ±ldÄ±klarÄ± gruplarÄ±**, **profilleri** ve hatta **cihazlarÄ±** (mobil cihazlar ve iÅŸletim sistemleri ile birlikte) gÃ¶rebileceÄŸiniz iÃ§in oldukÃ§a ilginÃ§tir.

Beyaz kutu incelemesi iÃ§in, birkaÃ§ tane "**Bekleyen kullanÄ±cÄ± eylemi**" ve "**Åifre sÄ±fÄ±rlama**" olmadÄ±ÄŸÄ±ndan emin olun.

### Groups

Burada Okta'da oluÅŸturulan tÃ¼m gruplarÄ± bulabilirsiniz. KullanÄ±cÄ±lara verilebilecek farklÄ± gruplarÄ± (bir dizi **izin**) anlamak ilginÃ§tir.\
**Gruplara dahil olan kiÅŸileri** ve her gruba atanan **uygulamalarÄ±** gÃ¶rebilirsiniz.

Elbette, **admin** adÄ±nÄ± taÅŸÄ±yan herhangi bir grup ilginÃ§tir, Ã¶zellikle **KÃ¼resel YÃ¶neticiler** grubu, en ayrÄ±calÄ±klÄ± Ã¼yelerin kimler olduÄŸunu Ã¶ÄŸrenmek iÃ§in Ã¼yeleri kontrol edin.

Beyaz kutu incelemesinden, **5'ten fazla kÃ¼resel yÃ¶netici olmamalÄ±dÄ±r** (sadece 2 veya 3 olmasÄ± daha iyidir).

### Devices

Burada tÃ¼m kullanÄ±cÄ±larÄ±n **tÃ¼m cihazlarÄ±nÄ±n listesini** bulabilirsiniz. AyrÄ±ca, bunun **aktif olarak yÃ¶netilip yÃ¶netilmediÄŸini** de gÃ¶rebilirsiniz.

### Profile Editor

Burada, adlar, soyadlar, e-postalar, kullanÄ±cÄ± adlarÄ± gibi anahtar bilgilerin Okta ve diÄŸer uygulamalar arasÄ±nda nasÄ±l paylaÅŸÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶zlemlemek mÃ¼mkÃ¼ndÃ¼r. Bu ilginÃ§tir Ã§Ã¼nkÃ¼ bir kullanÄ±cÄ± **Okta'da bir alanÄ±** (Ã¶rneÄŸin adÄ± veya e-postasÄ±) deÄŸiÅŸtirebiliyorsa ve bu alan bir **harici uygulama** tarafÄ±ndan kullanÄ±lÄ±yorsa, bir iÃ§eriden biri diÄŸer hesaplarÄ± **ele geÃ§irmeye** Ã§alÄ±ÅŸabilir.

AyrÄ±ca, Okta'daki profil **`KullanÄ±cÄ± (varsayÄ±lan)`** bÃ¶lÃ¼mÃ¼nde, her **kullanÄ±cÄ±nÄ±n hangi alanlara sahip olduÄŸunu** ve hangilerinin **kullanÄ±cÄ±lar tarafÄ±ndan yazÄ±labilir** olduÄŸunu gÃ¶rebilirsiniz. YÃ¶netici panelini gÃ¶remiyorsanÄ±z, **profil bilgilerinizi gÃ¼ncelleyin** ve hangi alanlarÄ± gÃ¼ncelleyebileceÄŸinizi gÃ¶rÃ¼n (bir e-posta adresini gÃ¼ncellemek iÃ§in onu doÄŸrulamanÄ±z gerektiÄŸini unutmayÄ±n).

### Directory Integrations

Dizinler, mevcut kaynaklardan insanlarÄ± iÃ§e aktarmanÄ±za olanak tanÄ±r. Burada, diÄŸer dizinlerden iÃ§e aktarÄ±lan kullanÄ±cÄ±larÄ± gÃ¶receÄŸinizi dÃ¼ÅŸÃ¼nÃ¼yorum.

Bunu gÃ¶rmedim, ama bu, **Okta'nÄ±n kullanÄ±cÄ±larÄ± iÃ§e aktarmak iÃ§in kullandÄ±ÄŸÄ± diÄŸer dizinleri** bulmak iÃ§in ilginÃ§tir, bÃ¶ylece eÄŸer **o dizini tehlikeye atarsanÄ±z**, Okta'da oluÅŸturulan kullanÄ±cÄ±larÄ±n bazÄ± nitelik deÄŸerlerini ayarlayabilir ve **belki de Okta ortamÄ±nÄ± tehlikeye atabilirsiniz**.

### Profile Sources

Bir profil kaynaÄŸÄ±, kullanÄ±cÄ± profil nitelikleri iÃ§in **gerÃ§ek kaynak** olarak iÅŸlev gÃ¶ren bir **uygulamadÄ±r**. Bir kullanÄ±cÄ± yalnÄ±zca bir uygulama veya dizin tarafÄ±ndan bir kerede kaynaklanabilir.

Bunu gÃ¶rmedim, bu seÃ§enekle ilgili gÃ¼venlik ve hacking hakkÄ±nda herhangi bir bilgi takdir edilmektedir.

## Customizations

### Brands

Bu bÃ¶lÃ¼mdeki **Domainler** sekmesinde, e-posta gÃ¶ndermek iÃ§in kullanÄ±lan e-posta adreslerini ve ÅŸirketin Okta iÃ§indeki Ã¶zel alan adÄ±nÄ± kontrol edin (muhtemelen zaten biliyorsunuzdur).

AyrÄ±ca, **Ayarlar** sekmesinde, eÄŸer yÃ¶neticiyseniz, "**Ã–zel bir Ã§Ä±kÄ±ÅŸ sayfasÄ± kullanÄ±n**" seÃ§eneÄŸini iÅŸaretleyebilir ve Ã¶zel bir URL ayarlayabilirsiniz.

### SMS

Burada ilginÃ§ bir ÅŸey yok.

### End-User Dashboard

Burada yapÄ±landÄ±rÄ±lmÄ±ÅŸ uygulamalarÄ± bulabilirsiniz, ancak bunlarÄ±n ayrÄ±ntÄ±larÄ±nÄ± daha sonra farklÄ± bir bÃ¶lÃ¼mde gÃ¶receÄŸiz.

### Other

Ä°lginÃ§ bir ayar, ancak gÃ¼venlik aÃ§Ä±sÄ±ndan sÃ¼per ilginÃ§ bir ÅŸey yok.

## Applications

### Applications

Burada tÃ¼m **yapÄ±landÄ±rÄ±lmÄ±ÅŸ uygulamalarÄ±** ve ayrÄ±ntÄ±larÄ±nÄ± bulabilirsiniz: Kimlerin bunlara eriÅŸimi var, nasÄ±l yapÄ±landÄ±rÄ±ldÄ±ÄŸÄ± (SAML, OpenID), giriÅŸ URL'si, Okta ile uygulama arasÄ±ndaki eÅŸlemeler...

**`Oturum AÃ§ma`** sekmesinde, uygulama ayarlarÄ±nÄ± kontrol ederken bir kullanÄ±cÄ±nÄ±n **ÅŸifresini aÃ§Ä±ÄŸa Ã§Ä±karmasÄ±na** izin veren **`Åifreyi gÃ¶ster`** adÄ±nda bir alan da bulunmaktadÄ±r. KullanÄ±cÄ± Panelinden bir uygulamanÄ±n ayarlarÄ±nÄ± kontrol etmek iÃ§in 3 noktaya tÄ±klayÄ±n:

<figure><img src="../../.gitbook/assets/image (283).png" alt=""><figcaption></figcaption></figure>

Ve uygulama hakkÄ±nda daha fazla ayrÄ±ntÄ± gÃ¶rebilirsiniz (ÅŸifreyi gÃ¶sterme Ã¶zelliÄŸi gibi, eÄŸer etkinse):

<figure><img src="../../.gitbook/assets/image (220).png" alt=""><figcaption></figcaption></figure>

## Identity Governance

### Access Certifications

EriÅŸim SertifikalarÄ±nÄ± kullanarak, kullanÄ±cÄ±larÄ±nÄ±zÄ±n kaynaklara eriÅŸimini periyodik olarak gÃ¶zden geÃ§irmek ve gerektiÄŸinde eriÅŸimi otomatik olarak onaylamak veya iptal etmek iÃ§in denetim kampanyalarÄ± oluÅŸturun.

Bunu kullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rmedim, ama savunma aÃ§Ä±sÄ±ndan gÃ¼zel bir Ã¶zellik olduÄŸunu dÃ¼ÅŸÃ¼nÃ¼yorum.

## Security

### General

* **GÃ¼venlik bildirim e-postalarÄ±**: Hepsi etkinleÅŸtirilmelidir.
* **CAPTCHA entegrasyonu**: En azÄ±ndan gÃ¶rÃ¼nmez reCaptcha ayarlamak Ã¶nerilir.
* **Organizasyon GÃ¼venliÄŸi**: Her ÅŸey etkinleÅŸtirilebilir ve aktivasyon e-postalarÄ±nÄ±n uzun sÃ¼rmemesi gerekir (7 gÃ¼n yeterlidir).
* **KullanÄ±cÄ± sayÄ±mÄ±nÄ± Ã¶nleme**: Her ikisi de etkinleÅŸtirilmelidir.
* KullanÄ±cÄ± SayÄ±mÄ±nÄ± Ã–nleme, aÅŸaÄŸÄ±daki koÅŸullardan biri izin verilirse etkili olmaz (daha fazla bilgi iÃ§in [KullanÄ±cÄ± yÃ¶netimi](https://help.okta.com/oie/en-us/Content/Topics/users-groups-profiles/usgp-main.htm) sayfasÄ±na bakÄ±n):
* Kendinize hizmet kaydÄ±
* E-posta kimlik doÄŸrulamasÄ± ile JIT akÄ±ÅŸlarÄ±
* **Okta ThreatInsight ayarlarÄ±**: Tehdit seviyesine gÃ¶re gÃ¼venliÄŸi kaydedin ve uygulayÄ±n.

### HealthInsight

Burada doÄŸru ve **tehlikeli** yapÄ±landÄ±rÄ±lmÄ±ÅŸ **ayarlarÄ±** bulmak mÃ¼mkÃ¼ndÃ¼r.

### Authenticators

Burada bir kullanÄ±cÄ±nÄ±n kullanabileceÄŸi tÃ¼m kimlik doÄŸrulama yÃ¶ntemlerini bulabilirsiniz: Åifre, telefon, e-posta, kod, WebAuthn... Åifre kimlik doÄŸrulayÄ±cÄ±sÄ±na tÄ±kladÄ±ÄŸÄ±nÄ±zda **ÅŸifre politikasÄ±** gÃ¶rebilirsiniz. GÃ¼Ã§lÃ¼ olduÄŸundan emin olun.

**KayÄ±t** sekmesinde, zorunlu veya isteÄŸe baÄŸlÄ± olanlarÄ± gÃ¶rebilirsiniz:

<figure><img src="../../.gitbook/assets/image (143).png" alt=""><figcaption></figcaption></figure>

Telefonu devre dÄ±ÅŸÄ± bÄ±rakmak Ã¶nerilir. En gÃ¼Ã§lÃ¼ olanlar muhtemelen ÅŸifre, e-posta ve WebAuthn kombinasyonudur.

### Authentication policies

Her uygulamanÄ±n bir kimlik doÄŸrulama politikasÄ± vardÄ±r. Kimlik doÄŸrulama politikasÄ±, uygulamaya giriÅŸ yapmaya Ã§alÄ±ÅŸan kullanÄ±cÄ±larÄ±n belirli koÅŸullarÄ± karÅŸÄ±ladÄ±ÄŸÄ±nÄ± doÄŸrular ve bu koÅŸullara dayalÄ± olarak faktÃ¶r gereksinimlerini uygular.

Burada her uygulamaya eriÅŸim iÃ§in **gereksinimleri** bulabilirsiniz. Her uygulama iÃ§in en az bir ÅŸifre ve baÅŸka bir yÃ¶ntem talep edilmesi Ã¶nerilir. Ancak bir saldÄ±rgan olarak daha zayÄ±f bir ÅŸey bulursanÄ±z, onu hedef alabilirsiniz.

### Global Session Policy

Burada farklÄ± gruplara atanan oturum politikalarÄ±nÄ± bulabilirsiniz. Ã–rneÄŸin:

<figure><img src="../../.gitbook/assets/image (245).png" alt=""><figcaption></figcaption></figure>

MFA talep edilmesi, oturum sÃ¼resinin birkaÃ§ saatle sÄ±nÄ±rlanmasÄ±, oturum Ã§erezlerinin tarayÄ±cÄ± uzantÄ±larÄ± arasÄ±nda kalÄ±cÄ± olmamasÄ± ve konum ile Kimlik SaÄŸlayÄ±cÄ±sÄ±nÄ± (bu mÃ¼mkÃ¼nse) sÄ±nÄ±rlamak Ã¶nerilir. Ã–rneÄŸin, her kullanÄ±cÄ±nÄ±n bir Ã¼lkeden giriÅŸ yapmasÄ± gerekiyorsa, yalnÄ±zca bu konuma izin verebilirsiniz.

### Identity Providers

Kimlik SaÄŸlayÄ±cÄ±larÄ± (IdP'ler), **kullanÄ±cÄ± hesaplarÄ±nÄ± yÃ¶neten** hizmetlerdir. Okta'da IdP'ler eklemek, son kullanÄ±cÄ±larÄ±nÄ±zÄ±n sosyal bir hesap veya akÄ±llÄ± kart ile kimlik doÄŸrulamasÄ± yaparak Ã¶zel uygulamalarÄ±nÄ±za **kendilerini kaydetmelerini** saÄŸlar.

Kimlik SaÄŸlayÄ±cÄ±larÄ± sayfasÄ±nda, sosyal giriÅŸleri (IdP'ler) ekleyebilir ve Okta'yÄ± bir hizmet saÄŸlayÄ±cÄ± (SP) olarak yapÄ±landÄ±rmak iÃ§in iÃ§e aktarÄ±lan SAML ekleyebilirsiniz. IdP'leri ekledikten sonra, kullanÄ±cÄ±larÄ± bir IdP'ye yÃ¶nlendirmek iÃ§in baÄŸlama dayalÄ± yÃ¶nlendirme kurallarÄ± ayarlayabilirsiniz; Ã¶rneÄŸin, kullanÄ±cÄ±nÄ±n konumu, cihazÄ± veya e-posta alanÄ± gibi.

**Herhangi bir kimlik saÄŸlayÄ±cÄ± yapÄ±landÄ±rÄ±lmÄ±ÅŸsa**, saldÄ±rganlar ve savunucular aÃ§Ä±sÄ±ndan bu yapÄ±landÄ±rmayÄ± kontrol edin ve **kaynaÄŸÄ±n gerÃ§ekten gÃ¼venilir olup olmadÄ±ÄŸÄ±nÄ±** kontrol edin, Ã§Ã¼nkÃ¼ bir saldÄ±rgan bunu tehlikeye atarak Okta ortamÄ±na da eriÅŸim saÄŸlayabilir.

### Delegated Authentication

Delege edilmiÅŸ kimlik doÄŸrulama, kullanÄ±cÄ±larÄ±n kuruluÅŸlarÄ±nÄ±n **Active Directory (AD) veya LDAP** sunucusu iÃ§in kimlik bilgilerini girerek Okta'ya giriÅŸ yapmalarÄ±na olanak tanÄ±r.

Yine, bunu yeniden kontrol edin, Ã§Ã¼nkÃ¼ bir saldÄ±rganÄ±n bir kuruluÅŸun AD'sini tehlikeye atmasÄ±, bu ayar sayesinde Okta'ya geÃ§iÅŸ yapabilmesine olanak tanÄ±yabilir.

### Network

Bir aÄŸ bÃ¶lgesi, eriÅŸim talep eden bilgisayarlar ve cihazlar iÃ§in eriÅŸimi **vermek veya kÄ±sÄ±tlamak** amacÄ±yla kullanÄ±labilecek yapÄ±landÄ±rÄ±labilir bir sÄ±nÄ±rdÄ±r. Bir aÄŸ bÃ¶lgesini, bir veya daha fazla bireysel IP adresi, IP adresi aralÄ±ÄŸÄ± veya coÄŸrafi konum belirterek tanÄ±mlayabilirsiniz.

Bir veya daha fazla aÄŸ bÃ¶lgesi tanÄ±mladÄ±ktan sonra, bunlarÄ± **KÃ¼resel Oturum PolitikalarÄ±nda**, **kimlik doÄŸrulama politikalarÄ±nda**, VPN bildirimlerinde ve **yÃ¶nlendirme kurallarÄ±nda** kullanabilirsiniz.

SaldÄ±rganlar aÃ§Ä±sÄ±ndan hangi IP'lerin izin verildiÄŸini bilmek ilginÃ§tir (ve herhangi bir **IP'nin diÄŸerlerinden daha ayrÄ±calÄ±klÄ± olup olmadÄ±ÄŸÄ±nÄ± kontrol edin**). SaldÄ±rganlar aÃ§Ä±sÄ±ndan, kullanÄ±cÄ±larÄ±n belirli bir IP adresinden veya bÃ¶lgeden eriÅŸim saÄŸlamasÄ± gerekiyorsa, bu Ã¶zelliÄŸin dÃ¼zgÃ¼n bir ÅŸekilde kullanÄ±ldÄ±ÄŸÄ±nÄ± kontrol edin.

### Device Integrations

* **UÃ§ Nokta YÃ¶netimi**: UÃ§ nokta yÃ¶netimi, yÃ¶netilen cihazlarÄ±n bir uygulamaya eriÅŸimini saÄŸlamak iÃ§in bir kimlik doÄŸrulama politikasÄ±nda uygulanabilecek bir koÅŸuldur.
* Bunu henÃ¼z gÃ¶rmedim. TODO
* **Bildirim hizmetleri**: Bunu henÃ¼z gÃ¶rmedim. TODO

### API

Bu sayfada Okta API token'larÄ± oluÅŸturabilir ve **oluÅŸturulan** token'larÄ±, **yetkilerini**, **sona erme** sÃ¼relerini ve **Kaynak URL'lerini** gÃ¶rebilirsiniz. API token'larÄ±, token'Ä± oluÅŸturan kullanÄ±cÄ±nÄ±n izinleriyle oluÅŸturulur ve yalnÄ±zca token'Ä± oluÅŸturan **kullanÄ±cÄ±** **aktifse** geÃ§erlidir.

**GÃ¼venilir Kaynaklar**, Okta API'si aracÄ±lÄ±ÄŸÄ±yla Okta organizasyonunuza eriÅŸim saÄŸlamak iÃ§in kontrol ettiÄŸiniz ve gÃ¼vendiÄŸiniz web sitelerine eriÅŸim izni verir.

Ã‡ok fazla API token'Ä± olmamalÄ±dÄ±r, Ã§Ã¼nkÃ¼ varsa bir saldÄ±rgan bunlara eriÅŸmeye ve kullanmaya Ã§alÄ±ÅŸabilir.

## Workflow

### Automations

Otomasyonlar, son kullanÄ±cÄ±larÄ±n yaÅŸam dÃ¶ngÃ¼sÃ¼ sÄ±rasÄ±nda meydana gelen bir dizi tetikleyici koÅŸuluna dayalÄ± olarak Ã§alÄ±ÅŸan otomatik eylemler oluÅŸturmanÄ±za olanak tanÄ±r.

Ã–rneÄŸin, bir koÅŸul "Okta'da kullanÄ±cÄ± etkinliÄŸi yok" veya "Okta'da kullanÄ±cÄ± ÅŸifresi sÃ¼resi doldu" olabilir ve eylem "KullanÄ±cÄ±ya e-posta gÃ¶nder" veya "Okta'da kullanÄ±cÄ± yaÅŸam dÃ¶ngÃ¼sÃ¼ durumunu deÄŸiÅŸtir" olabilir.

## Reports

### Reports

GÃ¼nlÃ¼kleri indirin. Bunlar, mevcut hesabÄ±n **e-posta adresine** **gÃ¶nderilir**.

### System Log

Burada, kullanÄ±cÄ±larÄ±n Okta'da veya Okta aracÄ±lÄ±ÄŸÄ±yla uygulamalarda gerÃ§ekleÅŸtirdiÄŸi **hareketlerin gÃ¼nlÃ¼klerini** bulabilirsiniz.

### Import Monitoring

Bu, Okta ile eriÅŸilen diÄŸer platformlardan **gÃ¼nlÃ¼kleri iÃ§e aktarabilir**.

### Rate limits

API oran limitlerini kontrol edin.

## Settings

### Account

Burada, ÅŸirket adÄ±, adres, **e-posta fatura iletiÅŸim bilgisi**, **e-posta teknik iletiÅŸim bilgisi** gibi Okta ortamÄ± hakkÄ±nda **genel bilgileri** bulabilirsiniz ve ayrÄ±ca kimlerin Okta gÃ¼ncellemelerini almasÄ± gerektiÄŸini ve hangi tÃ¼r Okta gÃ¼ncellemeleri almasÄ± gerektiÄŸini gÃ¶rebilirsiniz.

### Downloads

Burada, Okta'yÄ± diÄŸer teknolojilerle senkronize etmek iÃ§in Okta ajanlarÄ±nÄ± indirebilirsiniz.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
