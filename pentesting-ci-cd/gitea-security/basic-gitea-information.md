# Basic Gitea Information

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Basic Structure

Η βασική δομή του περιβάλλοντος Gitea είναι να ομαδοποιεί τα repos κατά **οργάνωση(εις),** καθένα από τα οποία μπορεί να περιέχει **πολλές αποθήκες** και **πολλές ομάδες.** Ωστόσο, σημειώστε ότι όπως και στο github, οι χρήστες μπορούν να έχουν repos εκτός της οργάνωσης.

Επιπλέον, ένας **χρήστης** μπορεί να είναι **μέλος** **διαφορετικών οργανώσεων**. Μέσα στην οργάνωση, ο χρήστης μπορεί να έχει **διαφορετικές άδειες πρόσβασης σε κάθε αποθήκη**.

Ένας χρήστης μπορεί επίσης να είναι **μέρος διαφορετικών ομάδων** με διαφορετικές άδειες πρόσβασης σε διαφορετικά repos.

Και τέλος, **οι αποθήκες μπορεί να έχουν ειδικούς μηχανισμούς προστασίας**.

## Permissions

### Organizations

Όταν μια **οργάνωση δημιουργείται**, μια ομάδα που ονομάζεται **Ιδιοκτήτες** δημιουργείται και ο χρήστης τοποθετείται μέσα σε αυτήν. Αυτή η ομάδα θα δώσει **διαχειριστική πρόσβαση** στην **οργάνωση**, αυτές οι **άδειες** και το **όνομα** της ομάδας **δεν μπορούν να τροποποιηθούν**.

**Διαχειριστές οργανώσεων** (ιδιοκτήτες) μπορούν να επιλέξουν την **ορατότητα** της οργάνωσης:

* Δημόσια
* Περιορισμένη (μόνο για συνδεδεμένους χρήστες)
* Ιδιωτική (μόνο για μέλη)

**Διαχειριστές οργανώσεων** μπορούν επίσης να υποδείξουν αν οι **διαχειριστές αποθήκης** μπορούν να **προσθέσουν ή να αφαιρέσουν πρόσβαση** για ομάδες. Μπορούν επίσης να υποδείξουν τον μέγιστο αριθμό αποθηκών.

Κατά τη δημιουργία μιας νέας ομάδας, επιλέγονται αρκετές σημαντικές ρυθμίσεις:

* Υποδεικνύεται οι **αποθήκες της οργάνωσης που θα μπορούν να έχουν πρόσβαση τα μέλη της ομάδας**: συγκεκριμένες αποθήκες (αποθήκες όπου προστίθεται η ομάδα) ή όλες.
* Υποδεικνύεται επίσης **αν τα μέλη μπορούν να δημιουργήσουν νέες αποθήκες** (ο δημιουργός θα αποκτήσει διαχειριστική πρόσβαση σε αυτήν)
* Οι **άδειες** που θα **έχουν** τα **μέλη** της αποθήκης:
* **Διαχειριστική** πρόσβαση
* **Συγκεκριμένη** πρόσβαση:

![](<../../.gitbook/assets/image (118).png>)

### Teams & Users

Σε μια αποθήκη, ο **διαχειριστής οργανώσεων** και οι **διαχειριστές αποθήκης** (αν επιτρέπεται από την οργάνωση) μπορούν να **διαχειρίζονται τους ρόλους** που δίνονται στους συνεργάτες (άλλους χρήστες) και τις ομάδες. Υπάρχουν **3** πιθανοί **ρόλοι**:

* Διαχειριστής
* Γράψιμο
* Ανάγνωση

## Gitea Authentication

### Web Access

Χρησιμοποιώντας **όνομα χρήστη + κωδικό πρόσβασης** και πιθανώς (και συνιστάται) 2FA.

### **SSH Keys**

Μπορείτε να ρυθμίσετε τον λογαριασμό σας με ένα ή περισσότερα δημόσια κλειδιά που επιτρέπουν στο σχετικό **ιδιωτικό κλειδί να εκτελεί ενέργειες εκ μέρους σας.** [http://localhost:3000/user/settings/keys](http://localhost:3000/user/settings/keys)

#### **GPG Keys**

Δεν μπορείτε να προσποιηθείτε τον χρήστη με αυτά τα κλειδιά, αλλά αν δεν τα χρησιμοποιείτε, μπορεί να είναι δυνατό να **ανακαλυφθείτε για την αποστολή commits χωρίς υπογραφή**.

### **Personal Access Tokens**

Μπορείτε να δημιουργήσετε προσωπικό access token για να **δώσετε σε μια εφαρμογή πρόσβαση στον λογαριασμό σας**. Ένα προσωπικό access token δίνει πλήρη πρόσβαση στον λογαριασμό σας: [http://localhost:3000/user/settings/applications](http://localhost:3000/user/settings/applications)

### Oauth Applications

Όπως και τα προσωπικά access tokens, οι **εφαρμογές Oauth** θα έχουν **πλήρη πρόσβαση** στον λογαριασμό σας και στους τόπους στους οποίους έχει πρόσβαση ο λογαριασμός σας, επειδή, όπως αναφέρεται στα [docs](https://docs.gitea.io/en-us/oauth2-provider/#scopes), οι τομείς δεν υποστηρίζονται ακόμη:

![](<../../.gitbook/assets/image (194).png>)

### Deploy keys

Τα deploy keys μπορεί να έχουν πρόσβαση μόνο για ανάγνωση ή εγγραφή στην αποθήκη, οπότε μπορεί να είναι ενδιαφέρον να παραβιαστούν συγκεκριμένες αποθήκες.

## Branch Protections

Οι προστασίες κλάδου έχουν σχεδιαστεί για να **μην δίνουν πλήρη έλεγχο μιας αποθήκης** στους χρήστες. Ο στόχος είναι να **τοποθετηθούν αρκετές μεθόδους προστασίας πριν μπορέσετε να γράψετε κώδικα σε κάποιον κλάδο**.

Οι **προστασίες κλάδου μιας αποθήκης** μπορούν να βρεθούν στο _https://localhost:3000/\<orgname>/\<reponame>/settings/branches_

{% hint style="info" %}
Δεν είναι **δυνατό να οριστεί προστασία κλάδου σε επίπεδο οργάνωσης**. Έτσι, όλες πρέπει να δηλωθούν σε κάθε αποθήκη.
{% endhint %}

Διαφορετικές προστασίες μπορούν να εφαρμοστούν σε έναν κλάδο (όπως στον master):

* **Απενεργοποίηση Push**: Κανείς δεν μπορεί να σπρώξει σε αυτόν τον κλάδο
* **Ενεργοποίηση Push**: Οποιοσδήποτε με πρόσβαση μπορεί να σπρώξει, αλλά όχι να σπρώξει με δύναμη.
* **Whitelist Restricted Push**: Μόνο επιλεγμένοι χρήστες/ομάδες μπορούν να σπρώξουν σε αυτόν τον κλάδο (αλλά όχι να σπρώξουν με δύναμη)
* **Ενεργοποίηση Merge Whitelist**: Μόνο οι λευκωμένοι χρήστες/ομάδες μπορούν να συγχωνεύσουν PRs.
* **Ενεργοποίηση ελέγχων κατάστασης:** Απαιτούνται έλεγχοι κατάστασης για να περάσουν πριν τη συγχώνευση.
* **Απαιτούνται εγκρίσεις**: Υποδείξτε τον αριθμό των εγκρίσεων που απαιτούνται πριν μπορέσει να συγχωνευθεί ένα PR.
* **Περιορισμός εγκρίσεων σε λευκωμένους**: Υποδείξτε χρήστες/ομάδες που μπορούν να εγκρίνουν PRs.
* **Αποκλεισμός συγχώνευσης σε απορριφθείσες αναθεωρήσεις**: Αν ζητηθούν αλλαγές, δεν μπορεί να συγχωνευθεί (ακόμη και αν οι άλλοι έλεγχοι περάσουν)
* **Αποκλεισμός συγχώνευσης σε επίσημες αιτήσεις αναθεώρησης**: Αν υπάρχουν επίσημες αιτήσεις αναθεώρησης, δεν μπορεί να συγχωνευθεί
* **Αποδοχή παλαιών εγκρίσεων**: Όταν υπάρχουν νέες commits, οι παλιές εγκρίσεις θα απορριφθούν.
* **Απαιτούνται Υπογεγραμμένα Commits**: Τα commits πρέπει να είναι υπογεγραμμένα.
* **Αποκλεισμός συγχώνευσης αν το pull request είναι παλιό**
* **Προστατευμένα/Μη προστατευμένα μοτίβα αρχείων**: Υποδείξτε μοτίβα αρχείων για προστασία/μη προστασία από αλλαγές

{% hint style="info" %}
Όπως μπορείτε να δείτε, ακόμη και αν καταφέρατε να αποκτήσετε κάποια διαπιστευτήρια ενός χρήστη, **οι αποθήκες μπορεί να είναι προστατευμένες αποτρέποντάς σας να σπρώξετε κώδικα στον master** για παράδειγμα, για να παραβιάσετε τη διαδικασία CI/CD.
{% endhint %}

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** 💬 [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
