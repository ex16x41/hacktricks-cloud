# Osnovne informacije o Gitea

{% hint style="success" %}
U캜ite i ve쬭ajte AWS Hacking:<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
U캜ite i ve쬭ajte GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Podr코ka HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** 游냕 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}

## Osnovna struktura

Osnovna struktura Gitea okru쬰nja je grupisanje repozitorijuma po **organizacijama**, svaka od njih mo쬰 sadr쬬ti **several repositories** i **several teams**. Me캠utim, imajte na umu da, kao i na github-u, korisnici mogu imati repozitorijume van organizacije.

맚avi코e, **korisnik** mo쬰 biti **캜lan** **razli캜itih organizacija**. Unutar organizacije korisnik mo쬰 imati **razli캜ite dozvole za svaki repozitorijum**.

Korisnik mo쬰 biti i **deo razli캜itih timova** sa razli캜itim dozvolama za razli캜ite repozitorijume.

I kona캜no, **repozitorijumi mogu imati posebne mehanizme za코tite**.

## Dozvole

### Organizacije

Kada se **organizacija kreira**, tim pod nazivom **Vlasnici** se **kreira** i korisnik se stavlja unutar njega. Ovaj tim 캖e dati **admin pristup** nad **organizacijom**, te **dozvole** i **ime** tima **se ne mogu menjati**.

**Org admini** (vlasnici) mogu odabrati **vidljivost** organizacije:

* Javno
* Ograni캜eno (samo prijavljeni korisnici)
* Privatno (samo 캜lanovi)

**Org admini** tako캠e mogu nazna캜iti da li **repo admini** mogu **dodavati ili uklanjati pristup** za timove. Tako캠e mogu nazna캜iti maksimalan broj repozitorijuma.

Kada se kreira novi tim, biraju se nekoliko va쬹ih pode코avanja:

* Nazna캜uje se **repozitorijumi organizacije kojima 캖e 캜lanovi tima mo캖i da pristupaju**: specifi캜ni repozitorijumi (repozitorijumi gde je tim dodat) ili svi.
* Tako캠e se nazna캜uje **da li 캜lanovi mogu kreirati nove repozitorijume** (kreator 캖e dobiti admin pristup).
* **Dozvole** koje 캖e **캜lanovi** repozitorijuma **imati**:
* **Administrator** pristup
* **Specifi캜an** pristup:

![](<../../.gitbook/assets/image (118).png>)

### Timovi i korisnici

U repozitorijumu, **org admin** i **repo admini** (ako to dozvoljava org) mogu **upravljati ulogama** dodeljenim saradnicima (drugim korisnicima) i timovima. Postoje **3** mogu캖e **uloge**:

* Administrator
* Pisanje
* 캛itanje

## Gitea autentifikacija

### Web pristup

Kori코캖enjem **korisni캜kog imena + lozinke** i potencijalno (i preporu캜eno) 2FA.

### **SSH klju캜evi**

Mo쬰te konfigurisati svoj nalog sa jednim ili vi코e javnih klju캜eva koji omogu캖avaju povezani **privatni klju캜 da izvr코ava radnje u va코e ime.** [http://localhost:3000/user/settings/keys](http://localhost:3000/user/settings/keys)

#### **GPG klju캜evi**

Ne **mo쬰te imitirati korisnika sa ovim klju캜evima**, ali ako ih ne koristite, mo쬰 biti mogu캖e da **budete otkriveni zbog slanja commit-a bez potpisa**.

### **Li캜ni pristupni tokeni**

Mo쬰te generisati li캜ni pristupni token da **dajte aplikaciji pristup va코em nalogu**. Li캜ni pristupni token daje potpun pristup va코em nalogu: [http://localhost:3000/user/settings/applications](http://localhost:3000/user/settings/applications)

### Oauth aplikacije

Ba코 kao li캜ni pristupni tokeni, **Oauth aplikacije** 캖e imati **potpun pristup** va코em nalogu i mestima kojima va코 nalog ima pristup, jer, kao 코to je nazna캜eno u [dokumentaciji](https://docs.gitea.io/en-us/oauth2-provider/#scopes), opsezi jo코 nisu podr쬬ni:

![](<../../.gitbook/assets/image (194).png>)

### Klju캜evi za implementaciju

Klju캜evi za implementaciju mogu imati pristup samo za 캜itanje ili pisanje na repozitorijum, tako da mogu biti zanimljivi za kompromitovanje specifi캜nih repozitorijuma.

## Za코tita grana

Za코tita grana je dizajnirana da **ne da potpunu kontrolu nad repozitorijumom** korisnicima. Cilj je **postaviti nekoliko metoda za코tite pre nego 코to se mo쬰 pisati kod unutar neke grane**.

**Za코tita grana repozitorijuma** mo쬰 se na캖i na _https://localhost:3000/\<orgname>/\<reponame>/settings/branches_

{% hint style="info" %}
Nije **mogu캖e postaviti za코titu grane na nivou organizacije**. Tako da sve one moraju biti deklarisane na svakom repozitorijumu.
{% endhint %}

Razli캜ite za코tite mogu se primeniti na granu (kao na master):

* **Onemogu캖i Push**: Niko ne mo쬰 da po코alje na ovu granu
* **Omogu캖i Push**: Svako ko ima pristup mo쬰 da po코alje, ali ne mo쬰 da forsira push.
* **Lista dozvoljenih korisnika za Push**: Samo odabrani korisnici/timovi mogu da po코alju na ovu granu (ali ne i forsirati push)
* **Omogu캖i Merge lista dozvoljenih**: Samo korisnici/timovi sa liste dozvoljenih mogu da spoje PR-ove.
* **Omogu캖i provere statusa:** Zahteva provere statusa da pro캠u pre spajanja.
* **Zahteva odobrenja**: Nazna캜ite broj odobrenja potrebnih pre nego 코to se PR mo쬰 spojiti.
* **Ograni캜i odobrenja na listu dozvoljenih**: Nazna캜ite korisnike/timove koji mogu odobriti PR-ove.
* **Blokiraj spajanje na odbijene recenzije**: Ako su promene zahtevane, ne mo쬰 se spojiti (캜ak i ako ostale provere pro캠u)
* **Blokiraj spajanje na zvani캜ne zahteve za recenziju**: Ako postoje zvani캜ni zahtevi za recenziju, ne mo쬰 se spojiti
* **Odbaci zastarele odobrenja**: Kada su novi commit-i, stara odobrenja 캖e biti odbijena.
* **Zahteva potpisane commit-e**: Commit-i moraju biti potpisani.
* **Blokiraj spajanje ako je pull request zastareo**
* **Za코ti캖eni/Neza코ti캖eni obrasci datoteka**: Nazna캜ite obrasce datoteka koje treba za코tititi/neza코tititi od promena

{% hint style="info" %}
Kao 코to vidite, 캜ak i ako ste uspeli da dobijete neka akreditivna sredstva korisnika, **repozitorijumi mogu biti za코ti캖eni, spre캜avaju캖i vas da 코aljete kod na master**, na primer, da kompromitujete CI/CD pipeline.
{% endhint %}

{% hint style="success" %}
U캜ite i ve쬭ajte AWS Hacking:<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
U캜ite i ve쬭ajte GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Podr코ka HackTricks</summary>

* Proverite [**planove pretplate**](https://github.com/sponsors/carlospolop)!
* **Pridru쬴te se** 游눫 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili **pratite** nas na **Twitteru** 游냕 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite hakerske trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
{% endhint %}
