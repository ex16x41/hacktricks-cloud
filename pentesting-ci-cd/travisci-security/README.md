# TravisCI Security

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## What is TravisCI

**Travis CI** рдПрдХ **рд╣реЛрд╕реНрдЯреЗрдб** рдпрд╛ **рд╕реНрдерд╛рдиреАрдп** **рдирд┐рд░рдВрддрд░ рдПрдХреАрдХрд░рдг** рд╕реЗрд╡рд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрдИ **рд╡рд┐рднрд┐рдиреНрди рдЧрд┐рдЯ рдкреНрд▓реЗрдЯрдлрд╛рд░реНрдореЛрдВ** рдкрд░ рд╣реЛрд╕реНрдЯ рдХрд┐рдП рдЧрдП рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рдмрдирд╛рдиреЗ рдФрд░ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред

{% content-ref url="basic-travisci-information.md" %}
[basic-travisci-information.md](basic-travisci-information.md)
{% endcontent-ref %}

## Attacks

### Triggers

рдПрдХ рд╣рдорд▓реЗ рдХреЛ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдкрд╣рд▓реЗ рдпрд╣ рдЬрд╛рдирдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ рдирд┐рд░реНрдорд╛рдг рдХреЛ рдХреИрд╕реЗ рдЯреНрд░рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛рдПред рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, TravisCI **рдкреБрд╢ рдФрд░ рдкреБрд▓ рдЕрдиреБрд░реЛрдзреЛрдВ рдкрд░ рдирд┐рд░реНрдорд╛рдг рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░реЗрдЧрд╛**:

![](<../../.gitbook/assets/image (145).png>)

#### Cron Jobs

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рддрдХ рдкрд╣реБрдВрдЪ рд╣реИ, рддреЛ рдЖрдк **рдирд┐рд░реНрдорд╛рдг рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд░реЛрди рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ**, рдпрд╣ рдирд┐рд░рдВрддрд░рддрд╛ рдХреЗ рд▓рд┐рдП рдпрд╛ рдирд┐рд░реНрдорд╛рдг рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ:

![](<../../.gitbook/assets/image (243).png>)

{% hint style="info" %}
рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ `.travis.yml` рдХреЗ рдЕрдВрджрд░ рдХреНрд░реЛрди рд╕реЗрдЯ рдХрд░рдирд╛ рд╕рдВрднрд╡ рдирд╣реАрдВ рд╣реИ [рдЗрд╕](https://github.com/travis-ci/travis-ci/issues/9162) рдХреЗ рдЕрдиреБрд╕рд╛рд░ред
{% endhint %}

### Third Party PR

рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, TravisCI рддреАрд╕рд░реЗ рдкрдХреНрд╖ рд╕реЗ рдЖрдиреЗ рд╡рд╛рд▓реЗ PRs рдХреЗ рд╕рд╛рде env рд╡реЗрд░рд┐рдПрдмрд▓ рд╕рд╛рдЭрд╛ рдХрд░рдирд╛ рдмрдВрдж рдХрд░ рджреЗрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдХреЛрдИ рдЗрд╕реЗ рд╕рдХреНрд╖рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ рдЖрдк repo рдореЗрдВ PR рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд░рд╣рд╕реНрдпреЛрдВ рдХреЛ рдПрдХреНрд╕рдлрд┐рд▓реНрдЯреНрд░реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

![](<../../.gitbook/assets/image (208).png>)

### Dumping Secrets

рдЬреИрд╕рд╛ рдХрд┐ [**рдмреБрдирд┐рдпрд╛рджреА рдЬрд╛рдирдХрд╛рд░реА**](basic-travisci-information.md) рдкреГрд╖реНрда рдореЗрдВ рд╕рдордЭрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рд░рд╣рд╕реНрдпреЛрдВ рдХреЗ 2 рдкреНрд░рдХрд╛рд░ рд╣реИрдВред **рдкрд░реНрдпрд╛рд╡рд░рдг рд╡реЗрд░рд┐рдПрдмрд▓ рд░рд╣рд╕реНрдп** (рдЬреЛ рд╡реЗрдм рдкреГрд╖реНрда рдкрд░ рд╕реВрдЪреАрдмрджреНрдз рд╣реИрдВ) рдФрд░ **рдХрд╕реНрдЯрдо рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд░рд╣рд╕реНрдп**, рдЬреЛ `.travis.yml` рдлрд╝рд╛рдЗрд▓ рдХреЗ рдЕрдВрджрд░ base64 рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрддреЗ рд╣реИрдВ (рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рджреЛрдиреЛрдВ рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рд╣реЛрдиреЗ рдкрд░ рдЕрдВрддрд┐рдо рдорд╢реАрдиреЛрдВ рдореЗрдВ env рд╡реЗрд░рд┐рдПрдмрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдорд╛рдкреНрдд рд╣реЛрдВрдЧреЗ)ред

* **рдкрд░реНрдпрд╛рд╡рд░рдг рд╡реЗрд░рд┐рдПрдмрд▓** рдХреЗ рд░реВрдк рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП **рд░рд╣рд╕реНрдпреЛрдВ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП**, **рдкреНрд░реЛрдЬреЗрдХреНрдЯ** рдХреА **рд╕реЗрдЯрд┐рдВрдЧреНрд╕** рдкрд░ рдЬрд╛рдПрдВ рдФрд░ рд╕реВрдЪреА рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред рд╣рд╛рд▓рд╛рдБрдХрд┐, рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдпрд╣рд╛рдБ рд╕реЗрдЯ рдХрд┐рдП рдЧрдП рд╕рднреА рдкреНрд░реЛрдЬреЗрдХреНрдЯ env рд╡реЗрд░рд┐рдПрдмрд▓ рдирд┐рд░реНрдорд╛рдг рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рддреЗ рд╕рдордп рджрд┐рдЦрд╛рдИ рджреЗрдВрдЧреЗред
* **рдХрд╕реНрдЯрдо рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рд░рд╣рд╕реНрдпреЛрдВ** рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдЖрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рд╡рд╣ рд╣реИ **`.travis.yml` рдлрд╝рд╛рдЗрд▓ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛**ред
* **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб рдлрд╝рд╛рдЗрд▓реЛрдВ** рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк repo рдореЗрдВ **`.enc` рдлрд╝рд╛рдЗрд▓реЛрдВ** рдХреЗ рд▓рд┐рдП рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдлрд╝рд╛рдЗрд▓ рдореЗрдВ `openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d` рдЬреИрд╕реА рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП, рдпрд╛ **рдкрд░реНрдпрд╛рд╡рд░рдг рд╡реЗрд░рд┐рдПрдмрд▓** рдореЗрдВ **рдПрдиреНрдХреНрд░рд┐рдкреНрдЯреЗрдб iv рдФрд░ рдХреБрдВрдЬреА** рдХреЗ рд▓рд┐рдП:

![](<../../.gitbook/assets/image (81).png>)

### TODO:

* Windows/Mac/Linux рдкрд░ рдЪрд▓ рд░рд╣реЗ рд░рд┐рд╡рд░реНрд╕ рд╢реЗрд▓ рдХреЗ рд╕рд╛рде рдЙрджрд╛рд╣рд░рдг рдирд┐рд░реНрдорд╛рдг
* рд▓реЙрдЧ рдореЗрдВ рдмреЗрд╕64 рдПрдиреНрдХреЛрдбреЗрдб env рд▓реАрдХ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдЙрджрд╛рд╣рд░рдг рдирд┐рд░реНрдорд╛рдг

### TravisCI Enterprise

рдпрджрд┐ рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдПрдХ рдРрд╕реЗ рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рд╕рдорд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИ рдЬреЛ **TravisCI enterprise** рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ (рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА [**рдмреБрдирд┐рдпрд╛рджреА рдЬрд╛рдирдХрд╛рд░реА**](basic-travisci-information.md#travisci-enterprise) рдореЗрдВ рд╣реИ), рддреЛ рд╡рд╣ **рд╡рд░реНрдХрд░ рдореЗрдВ рдирд┐рд░реНрдорд╛рдг рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдЧрд╛ред** рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдЙрд╕ рд╕рд░реНрд╡рд░ рдкрд░ рдкрд╛рд░реНрд╢реНрд╡ рд░реВрдк рд╕реЗ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рд╣реЛрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдЧрд╛ рдЬрд┐рд╕рд╕реЗ рд╡рд╣ рд╕рдХреНрд╖рдо рд╣реЛ рд╕рдХрддрд╛ рд╣реИ:

* рдХреНрдпрд╛ рдореЗрдЬрд╝рдмрд╛рди рд╕реЗ рднрд╛рдЧрдирд╛?
* рдХреБрдмреЗрд░рдиреЗрдЯреНрд╕ рд╕реЗ рд╕рдордЭреМрддрд╛ рдХрд░рдирд╛?
* рдХреНрдпрд╛ рдЙрд╕реА рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдЪрд▓ рд░рд╣реА рдЕрдиреНрдп рдорд╢реАрдиреЛрдВ рд╕реЗ рд╕рдордЭреМрддрд╛ рдХрд░рдирд╛?
* рдирдП рдХреНрд▓рд╛рдЙрдб рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ рд╕реЗ рд╕рдордЭреМрддрд╛ рдХрд░рдирд╛?

## References

* [https://docs.travis-ci.com/user/encrypting-files/](https://docs.travis-ci.com/user/encrypting-files/)
* [https://docs.travis-ci.com/user/best-practices-security](https://docs.travis-ci.com/user/best-practices-security)

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ЁЯТм [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ЁЯРж [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
