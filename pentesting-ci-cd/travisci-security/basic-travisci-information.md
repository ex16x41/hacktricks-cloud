# Basic TravisCI Information

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* [**êµ¬ë… í”Œëœ**](https://github.com/sponsors/carlospolop)ì„ í™•ì¸í•˜ì„¸ìš”!
* **ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**telegram ê·¸ë£¹**](https://t.me/peass)ì— ê°€ì…í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)ì„ íŒ”ë¡œìš°í•˜ì„¸ìš”.**
* **PRì„ ì œì¶œí•˜ì—¬ í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì„¸ìš”:** [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ì €ì¥ì†Œ.

</details>
{% endhint %}

## Access

TravisCIëŠ” Github, Bitbucket, Assembla, Gitlabê³¼ ê°™ì€ ë‹¤ì–‘í•œ git í”Œë«í¼ê³¼ ì§ì ‘ í†µí•©ë©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ TravisCIì™€ í†µí•©í•˜ë ¤ëŠ” ì €ì¥ì†Œì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ TravisCI ê¶Œí•œì„ ë¶€ì—¬í•˜ë„ë¡ ìš”ì²­í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, Githubì—ì„œëŠ” ë‹¤ìŒ ê¶Œí•œì„ ìš”ì²­í•©ë‹ˆë‹¤:

* `user:email` (ì½ê¸° ì „ìš©)
* `read:org` (ì½ê¸° ì „ìš©)
* `repo`: ê³µê°œ ë° ë¹„ê³µê°œ ì €ì¥ì†Œì™€ ì¡°ì§ì— ëŒ€í•œ ì½”ë“œ, ì»¤ë°‹ ìƒíƒœ, í˜‘ë ¥ì ë° ë°°í¬ ìƒíƒœì— ëŒ€í•œ ì½ê¸° ë° ì“°ê¸° ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤.

## Encrypted Secrets

### Environment Variables

TravisCIì—ì„œëŠ” ë‹¤ë¥¸ CI í”Œë«í¼ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ **ì €ì¥ì†Œ ìˆ˜ì¤€ì˜ ë¹„ë°€ì„ ì €ì¥**í•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë˜ê³  **ë¹Œë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ë¨¸ì‹ ì˜ í™˜ê²½ ë³€ìˆ˜ì— ë³µí˜¸í™”ë˜ì–´ í‘¸ì‹œ**ë©ë‹ˆë‹¤.

![](<../../.gitbook/assets/image (203).png>)

**ë¹„ë°€ì´ ì‚¬ìš©ë  ë¸Œëœì¹˜**ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©°(ê¸°ë³¸ê°’ì€ ëª¨ë‘), ë˜í•œ **ë¡œê·¸ì— ë‚˜íƒ€ë‚  ê²½ìš°** TravisCIê°€ **ê°’ì„ ìˆ¨ê²¨ì•¼ í•˜ëŠ”ì§€** ì—¬ë¶€ë„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤(ê¸°ë³¸ê°’ì€ ìˆ¨ê¹€).

### Custom Encrypted Secrets

**ê° ì €ì¥ì†Œ**ì— ëŒ€í•´ TravisCIëŠ” **RSA í‚¤ ìŒ**ì„ ìƒì„±í•˜ê³ , **ê°œì¸ í‚¤**ëŠ” ìœ ì§€í•˜ë©°, ì €ì¥ì†Œì— **ì ‘ê·¼ ê¶Œí•œì´ ìˆëŠ” ì‚¬ëŒë“¤ì—ê²Œ ê³µê°œ í‚¤ë¥¼ ì œê³µ**í•©ë‹ˆë‹¤.

í•œ ì €ì¥ì†Œì˜ ê³µê°œ í‚¤ì— ì ‘ê·¼í•˜ë ¤ë©´:
```
travis pubkey -r <owner>/<repo_name>
travis pubkey -r carlospolop/t-ci-test
```
ê·¸ëŸ° ë‹¤ìŒ, ì´ ì„¤ì •ì„ ì‚¬ìš©í•˜ì—¬ **ë¹„ë°€ì„ ì•”í˜¸í™”í•˜ê³  `.travis.yaml`ì— ì¶”ê°€**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¹„ë°€ì€ **ë¹Œë“œê°€ ì‹¤í–‰ë  ë•Œ ë³µí˜¸í™”**ë˜ì–´ **í™˜ê²½ ë³€ìˆ˜**ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![](<../../.gitbook/assets/image (139).png>)

ì´ ë°©ì‹ìœ¼ë¡œ ì•”í˜¸í™”ëœ ë¹„ë°€ì€ ì„¤ì •ì˜ í™˜ê²½ ë³€ìˆ˜ ëª©ë¡ì— ë‚˜íƒ€ë‚˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì— ìœ ì˜í•˜ì„¸ìš”.

### Custom Encrypted Files

ì´ì „ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, TravisCIëŠ” **íŒŒì¼ì„ ì•”í˜¸í™”í•˜ê³  ë¹Œë“œ ì¤‘ì— ë³µí˜¸í™”**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
```
travis encrypt-file super_secret.txt -r carlospolop/t-ci-test

encrypting super_secret.txt for carlospolop/t-ci-test
storing result as super_secret.txt.enc
storing secure env variables for decryption

Please add the following to your build script (before_install stage in your .travis.yml, for instance):

openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d

Pro Tip: You can add it automatically by running with --add.

Make sure to add super_secret.txt.enc to the git repository.
Make sure not to add super_secret.txt to the git repository.
Commit all changes to your .travis.yml.
```
íŒŒì¼ì„ ì•”í˜¸í™”í•  ë•Œ 2ê°œì˜ í™˜ê²½ ë³€ìˆ˜ê°€ ë ˆí¬ì§€í† ë¦¬ ë‚´ë¶€ì— êµ¬ì„±ëœë‹¤ëŠ” ì ì— ìœ ì˜í•˜ì‹­ì‹œì˜¤:

![](<../../.gitbook/assets/image (170).png>)

## TravisCI Enterprise

Travis CI EnterpriseëŠ” **Travis CIì˜ ì˜¨í”„ë ˆë¯¸ìŠ¤ ë²„ì „**ìœ¼ë¡œ, **ê·€í•˜ì˜ ì¸í”„ë¼ì— ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤**. Travis CIì˜ 'ì„œë²„' ë²„ì „ì´ë¼ê³  ìƒê°í•˜ë©´ ë©ë‹ˆë‹¤. Travis CIë¥¼ ì‚¬ìš©í•˜ë©´ í™˜ê²½ì—ì„œ ì‚¬ìš©í•˜ê¸° ì‰¬ìš´ Continuous Integration/Continuous Deployment (CI/CD) ì‹œìŠ¤í…œì„ í™œì„±í™”í•  ìˆ˜ ìˆìœ¼ë©°, ì´ë¥¼ ì›í•˜ëŠ” ëŒ€ë¡œ êµ¬ì„±í•˜ê³  ë³´ì•ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**Travis CI EnterpriseëŠ” ë‘ ê°€ì§€ ì£¼ìš” ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:**

1. ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œê³¼ì˜ í†µí•©, ë¹Œë“œ ìŠ¹ì¸, ë¹Œë“œ ì‘ì—… ì˜ˆì•½ ë“±ì„ ë‹´ë‹¹í•˜ëŠ” TCI **ì„œë¹„ìŠ¤**(ë˜ëŠ” TCI ì½”ì–´ ì„œë¹„ìŠ¤).
2. TCI **Worker** ë° ë¹Œë“œ í™˜ê²½ ì´ë¯¸ì§€(ìš´ì˜ ì²´ì œ ì´ë¯¸ì§€ë¼ê³ ë„ í•¨).

**TCI ì½”ì–´ ì„œë¹„ìŠ¤ëŠ” ë‹¤ìŒì„ í•„ìš”ë¡œ í•©ë‹ˆë‹¤:**

1. **PostgreSQL11** (ë˜ëŠ” ê·¸ ì´ìƒ) ë°ì´í„°ë² ì´ìŠ¤.
2. Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ë°°í¬í•  ì¸í”„ë¼; í•„ìš”ì— ë”°ë¼ ì„œë²„ í´ëŸ¬ìŠ¤í„°ë‚˜ ë‹¨ì¼ ë¨¸ì‹ ì— ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. ì„¤ì •ì— ë”°ë¼ ì¼ë¶€ êµ¬ì„± ìš”ì†Œë¥¼ ì§ì ‘ ë°°í¬í•˜ê³  êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, RabbitMQ - ìì„¸í•œ ë‚´ìš©ì€ [Travis CI Enterprise ì„¤ì •](https://docs.travis-ci.com/user/enterprise/tcie-3.x-setting-up-travis-ci-enterprise/)ì„ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.

**TCI WorkerëŠ” ë‹¤ìŒì„ í•„ìš”ë¡œ í•©ë‹ˆë‹¤:**

1. **Workerì™€ ì—°ê²°ëœ ë¹Œë“œ ì´ë¯¸ì§€ë¥¼ í¬í•¨í•˜ëŠ” ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë°°í¬í•  ì¸í”„ë¼**.
2. íŠ¹ì • Travis CI ì½”ì–´ ì„œë¹„ìŠ¤ êµ¬ì„± ìš”ì†Œì™€ì˜ ì—°ê²°ì„± - ìì„¸í•œ ë‚´ìš©ì€ [Worker ì„¤ì •](https://docs.travis-ci.com/user/enterprise/setting-up-worker/)ì„ ì°¸ì¡°í•˜ì‹­ì‹œì˜¤.

ë°°í¬ëœ TCI Worker ë° ë¹Œë“œ í™˜ê²½ ìš´ì˜ ì²´ì œ ì´ë¯¸ì§€ì˜ ì–‘ì€ ì¸í”„ë¼ ë‚´ Travis CI Enterprise ë°°í¬ì˜ ì´ ë™ì‹œ ìš©ëŸ‰ì„ ê²°ì •í•©ë‹ˆë‹¤.

![](<../../.gitbook/assets/image (199).png>)

{% hint style="success" %}
AWS í•´í‚¹ í•™ìŠµ ë° ì—°ìŠµ:<img src="/.gitbook/assets/image.png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="/.gitbook/assets/image.png" alt="" data-size="line">\
GCP í•´í‚¹ í•™ìŠµ ë° ì—°ìŠµ: <img src="/.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="/.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks ì§€ì›</summary>

* [**êµ¬ë… í”Œëœ**](https://github.com/sponsors/carlospolop)ì„ í™•ì¸í•˜ì‹­ì‹œì˜¤!
* ğŸ’¬ [**Discord ê·¸ë£¹**](https://discord.gg/hRep4RUj7f) ë˜ëŠ” [**telegram ê·¸ë£¹**](https://t.me/peass)ì— ê°€ì…í•˜ê±°ë‚˜ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)ì„ íŒ”ë¡œìš°í•˜ì‹­ì‹œì˜¤.
* PRì„ ì œì¶œí•˜ì—¬ [**HackTricks**](https://github.com/carlospolop/hacktricks) ë° [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ì €ì¥ì†Œì— í•´í‚¹ íŠ¸ë¦­ì„ ê³µìœ í•˜ì‹­ì‹œì˜¤.

</details>
{% endhint %}
