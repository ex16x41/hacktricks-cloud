# Temel TravisCI Bilgisi

{% hint style="success" %}
AWS Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks EÄŸitim AWS KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCP Hacking'i Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks EÄŸitim GCP KÄ±rmÄ±zÄ± TakÄ±m UzmanÄ± (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **Bize katÄ±lÄ±n** ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) veya **bizi** **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)** takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸÄ±n,** [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶ndererek.

</details>
{% endhint %}

## EriÅŸim

TravisCI, Github, Bitbucket, Assembla ve Gitlab gibi farklÄ± git platformlarÄ±yla doÄŸrudan entegre olur. KullanÄ±cÄ±dan, TravisCI ile entegre etmek istediÄŸi reposuna eriÅŸim izni vermesi istenir.

Ã–rneÄŸin, Github'da aÅŸaÄŸÄ±daki izinleri isteyecektir:

* `user:email` (salt okunur)
* `read:org` (salt okunur)
* `repo`: Kamu ve Ã¶zel depolar ve organizasyonlar iÃ§in kod, commit durumlarÄ±, iÅŸbirlikÃ§ileri ve daÄŸÄ±tÄ±m durumlarÄ±na okuma ve yazma eriÅŸimi verir.

## Åifreli Gizli Bilgiler

### Ortam DeÄŸiÅŸkenleri

TravisCI'da, diÄŸer CI platformlarÄ±nda olduÄŸu gibi, **repo dÃ¼zeyinde gizli bilgileri kaydetmek** mÃ¼mkÃ¼ndÃ¼r; bu bilgiler ÅŸifrelenerek kaydedilir ve **ÅŸifre Ã§Ã¶zÃ¼lerek, build'i gerÃ§ekleÅŸtiren makinenin ortam deÄŸiÅŸkenine** itilir.

![](<../../.gitbook/assets/image (203).png>)

**Gizli bilgilerin hangi dallarda mevcut olacaÄŸÄ±nÄ±** belirtmek mÃ¼mkÃ¼ndÃ¼r (varsayÄ±lan olarak hepsi) ve ayrÄ±ca TravisCI'nÄ±n **deÄŸerini gizleyip gizlememesi gerektiÄŸi** (varsayÄ±lan olarak gizleyecektir) belirtilebilir.

### Ã–zel Åifreli Gizli Bilgiler

Her **repo** iÃ§in TravisCI bir **RSA anahtar Ã§ifti** oluÅŸturur, **Ã¶zel** olanÄ± **saklar** ve depo eriÅŸimi olanlara **deponun aÃ§Ä±k anahtarÄ±nÄ±** sunar.

Bir reposunun aÃ§Ä±k anahtarÄ±na ÅŸu ÅŸekilde eriÅŸebilirsiniz:
```
travis pubkey -r <owner>/<repo_name>
travis pubkey -r carlospolop/t-ci-test
```
Sonra, bu ayarÄ± kullanarak **gizli bilgileri ÅŸifreleyebilir ve bunlarÄ± `.travis.yaml` dosyanÄ±za ekleyebilirsiniz**. Gizli bilgiler **derleme Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ÄŸÄ±nda Ã§Ã¶zÃ¼lÃ¼r** ve **Ã§evresel deÄŸiÅŸkenlerde** eriÅŸilebilir hale gelir.

![](<../../.gitbook/assets/image (139).png>)

Bu ÅŸekilde ÅŸifrelenen gizli bilgilerin ayarlarÄ±n Ã§evresel deÄŸiÅŸkenlerinde listelenmeyeceÄŸini unutmayÄ±n.

### Ã–zel Åifreli Dosyalar

Ã–nceki gibi, TravisCI ayrÄ±ca **dosyalarÄ± ÅŸifrelemeye ve ardÄ±ndan derleme sÄ±rasÄ±nda Ã§Ã¶zmeye** de izin verir:
```
travis encrypt-file super_secret.txt -r carlospolop/t-ci-test

encrypting super_secret.txt for carlospolop/t-ci-test
storing result as super_secret.txt.enc
storing secure env variables for decryption

Please add the following to your build script (before_install stage in your .travis.yml, for instance):

openssl aes-256-cbc -K $encrypted_355e94ba1091_key -iv $encrypted_355e94ba1091_iv -in super_secret.txt.enc -out super_secret.txt -d

Pro Tip: You can add it automatically by running with --add.

Make sure to add super_secret.txt.enc to the git repository.
Make sure not to add super_secret.txt to the git repository.
Commit all changes to your .travis.yml.
```
Not edin ki bir dosyayÄ± ÅŸifrelerken, repoda 2 Env DeÄŸiÅŸkeni yapÄ±landÄ±rÄ±lacaktÄ±r:

![](<../../.gitbook/assets/image (170).png>)

## TravisCI Enterprise

Travis CI Enterprise, **Travis CI'nin yerel versiyonudur**, bunu **altyapÄ±nÄ±zda** daÄŸÄ±tabilirsiniz. Travis CI'nin 'sunucu' versiyonu olarak dÃ¼ÅŸÃ¼nÃ¼n. Travis CI kullanmak, istediÄŸiniz gibi yapÄ±landÄ±rÄ±p gÃ¼vence altÄ±na alabileceÄŸiniz bir ortamda kullanÄ±mÄ± kolay bir SÃ¼rekli Entegrasyon/SÃ¼rekli DaÄŸÄ±tÄ±m (CI/CD) sistemini etkinleÅŸtirmenizi saÄŸlar.

**Travis CI Enterprise iki ana bÃ¶lÃ¼mden oluÅŸur:**

1. TCI **hizmetleri** (veya TCI Temel Hizmetleri), sÃ¼rÃ¼m kontrol sistemleriyle entegrasyondan, derlemeleri yetkilendirmeye, derleme iÅŸlerini planlamaya kadar sorumludur.
2. TCI **Worker** ve derleme ortamÄ± gÃ¶rÃ¼ntÃ¼leri (aynÄ± zamanda OS gÃ¶rÃ¼ntÃ¼leri olarak da adlandÄ±rÄ±lÄ±r).

**TCI Temel hizmetleri aÅŸaÄŸÄ±dakileri gerektirir:**

1. Bir **PostgreSQL11** (veya daha yeni) veritabanÄ±.
2. Bir Kubernetes kÃ¼mesini daÄŸÄ±tmak iÃ§in bir altyapÄ±; gerekirse bir sunucu kÃ¼mesinde veya tek bir makinede daÄŸÄ±tÄ±labilir.
3. Kurulumunuza baÄŸlÄ± olarak, bazÄ± bileÅŸenleri kendi baÅŸÄ±nÄ±za daÄŸÄ±tmak ve yapÄ±landÄ±rmak isteyebilirsiniz, Ã¶rneÄŸin, RabbitMQ - daha fazla ayrÄ±ntÄ± iÃ§in [Travis CI Enterprise Kurulumu](https://docs.travis-ci.com/user/enterprise/tcie-3.x-setting-up-travis-ci-enterprise/) sayfasÄ±na bakÄ±n.

**TCI Worker aÅŸaÄŸÄ±dakileri gerektirir:**

1. **Worker ve baÄŸlantÄ±lÄ± bir derleme gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼ iÃ§eren bir docker gÃ¶rÃ¼ntÃ¼sÃ¼nÃ¼n daÄŸÄ±tÄ±labileceÄŸi bir altyapÄ±.**
2. Belirli Travis CI Temel Hizmetleri bileÅŸenlerine baÄŸlantÄ± - daha fazla ayrÄ±ntÄ± iÃ§in [Worker Kurulumu](https://docs.travis-ci.com/user/enterprise/setting-up-worker/) sayfasÄ±na bakÄ±n.

DaÄŸÄ±tÄ±lan TCI Worker ve derleme ortamÄ± OS gÃ¶rÃ¼ntÃ¼lerinin sayÄ±sÄ±, altyapÄ±nÄ±zdaki Travis CI Enterprise daÄŸÄ±tÄ±mÄ±nÄ±n toplam eÅŸzamanlÄ± kapasitesini belirleyecektir.

![](<../../.gitbook/assets/image (199).png>)

{% hint style="success" %}
AWS Hacking Ã¶ÄŸrenin ve pratik yapÄ±n:<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../.gitbook/assets/image (1) (1) (1).png" alt="" data-size="line">\
GCP Hacking Ã¶ÄŸrenin ve pratik yapÄ±n: <img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../.gitbook/assets/image (2).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>HackTricks'i Destekleyin</summary>

* [**abonelik planlarÄ±nÄ±**](https://github.com/sponsors/carlospolop) kontrol edin!
* **ğŸ’¬ [**Discord grubuna**](https://discord.gg/hRep4RUj7f) veya [**telegram grubuna**](https://t.me/peass) katÄ±lÄ±n ya da **Twitter'da** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)** bizi takip edin.**
* **Hacking ipuÃ§larÄ±nÄ± paylaÅŸmak iÃ§in [**HackTricks**](https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposuna PR gÃ¶nderin.**

</details>
{% endhint %}
